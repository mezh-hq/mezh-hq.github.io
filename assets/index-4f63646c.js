import{j as p,F as Le,a as O}from"./jsx-runtime-51f16834.js";import{r as h,b as Uo,R as Qe,a as Vi,G as Fd}from"./index-f0613c7e.js";import{g as Wd}from"./_commonjsHelpers-de833af9.js";import{c as Hd}from"./isSymbol-bb09bcdd.js";import{v as fe}from"./v4-a960c1f4.js";import{a as Oi}from"./debounce-d5f60358.js";import{u as Ud,a as Gd,o as jd,s as Xd,f as Yd,b as Kd,c as Zd,h as Jd,l as Qd,_ as ht,d as Hs,g as ef,e as tf}from"./index-467c475c.js";function nf(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Us(t))&&(r&&(r+=" "),r+=n);return r}function Us(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Us(e[r]))&&(n&&(n+=" "),n+=t);return n}var Bi="-";function rf(e){var t=af(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=r===void 0?{}:r;function i(s){var l=s.split(Bi);return l[0]===""&&l.length!==1&&l.shift(),Gs(l,t)||of(s)}function a(s,l){var c=n[s]||[];return l&&o[s]?[].concat(c,o[s]):c}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function Gs(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?Gs(e.slice(1),r):void 0;if(o)return o;if(t.validators.length!==0){var i=e.join(Bi);return(a=t.validators.find(function(s){var l=s.validator;return l(i)}))==null?void 0:a.classGroupId}}var Ca=/^\[(.+)\]$/;function of(e){if(Ca.test(e)){var t=Ca.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function af(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=lf(Object.entries(e.classGroups),n);return o.forEach(function(i){var a=i[0],s=i[1];Go(s,r,a,t)}),r}function Go(e,t,n,r){e.forEach(function(o){if(typeof o=="string"){var i=o===""?t:Na(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(sf(o)){Go(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(a){var s=a[0],l=a[1];Go(l,Na(t,s),n,r)})})}function Na(e,t){var n=e;return t.split(Bi).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function sf(e){return e.isThemeGetter}function lf(e,t){return t?e.map(function(n){var r=n[0],o=n[1],i=o.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(s){var l=s[0],c=s[1];return[t+l,c]})):a});return[r,i]}):e}function cf(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(i,a){n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(a){var s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return o(a,s),s},set:function(a,s){n.has(a)?n.set(a,s):o(a,s)}}}var js="!";function uf(e){var t=e.separator||":",n=t.length===1,r=t[0],o=t.length;return function(a){for(var s=[],l=0,c=0,u,d=0;d<a.length;d++){var f=a[d];if(l===0){if(f===r&&(n||a.slice(d,d+o)===t)){s.push(a.slice(c,d)),c=d+o;continue}if(f==="/"){u=d;continue}}f==="["?l++:f==="]"&&l--}var m=s.length===0?a:a.substring(c),g=m.startsWith(js),y=g?m.substring(1):m,v=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:v}}}function df(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var o=r[0]==="[";o?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function ff(e){return{cache:cf(e.cacheSize),splitModifiers:uf(e),...rf(e)}}var pf=/\s+/;function hf(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(pf).map(function(a){var s=n(a),l=s.modifiers,c=s.hasImportantModifier,u=s.baseClassName,d=s.maybePostfixModifierPosition,f=r(d?u.substring(0,d):u),m=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:a};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:a};m=!1}var g=df(l).join(":"),y=c?g+js:g;return{isTailwindClass:!0,modifierId:y,classGroupId:f,originalClassName:a,hasPostfixModifier:m}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var s=a.modifierId,l=a.classGroupId,c=a.hasPostfixModifier,u=s+l;return i.has(u)?!1:(i.add(u),o(l,c).forEach(function(d){return i.add(s+d)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function mf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,i,a=s;function s(c){var u=t[0],d=t.slice(1),f=d.reduce(function(m,g){return g(m)},u());return r=ff(f),o=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){var u=o(c);if(u)return u;var d=hf(c,r);return i(c,d),d}return function(){return a(nf.apply(null,arguments))}}function pe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Xs=/^\[(?:([a-z-]+):)?(.+)\]$/i,yf=/^\d+\/\d+$/,gf=new Set(["px","full","screen"]),vf=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bf=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|^0$/,wf=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ze(e){return Ct(e)||gf.has(e)||yf.test(e)||ct(e)}function ct(e){return Ot(e,"length",Ef)}function _f(e){return Ot(e,"size",Ys)}function xf(e){return Ot(e,"position",Ys)}function Sf(e){return Ot(e,"url",kf)}function Yn(e){return Ot(e,"number",Ct)}function Ct(e){return!Number.isNaN(Number(e))}function Cf(e){return e.endsWith("%")&&Ct(e.slice(0,-1))}function dn(e){return Ea(e)||Ot(e,"number",Ea)}function we(e){return Xs.test(e)}function fn(){return!0}function lt(e){return vf.test(e)}function Nf(e){return Ot(e,"",Tf)}function Ot(e,t,n){var r=Xs.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Ef(e){return bf.test(e)}function Ys(){return!1}function kf(e){return e.startsWith("url(")}function Ea(e){return Number.isInteger(Number(e))}function Tf(e){return wf.test(e)}function If(){var e=pe("colors"),t=pe("spacing"),n=pe("blur"),r=pe("brightness"),o=pe("borderColor"),i=pe("borderRadius"),a=pe("borderSpacing"),s=pe("borderWidth"),l=pe("contrast"),c=pe("grayscale"),u=pe("hueRotate"),d=pe("invert"),f=pe("gap"),m=pe("gradientColorStops"),g=pe("gradientColorStopPositions"),y=pe("inset"),v=pe("margin"),b=pe("opacity"),_=pe("padding"),x=pe("saturate"),w=pe("scale"),N=pe("sepia"),k=pe("skew"),S=pe("space"),T=pe("translate"),U=function(){return["auto","contain","none"]},j=function(){return["auto","hidden","clip","visible","scroll"]},X=function(){return["auto",t]},ie=function(){return["",ze]},ne=function(){return["auto",Ct,we]},C=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},I=function(){return["solid","dashed","dotted","double","none"]},E=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},R=function(){return["","0",we]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},q=function(){return[Ct,Yn]},W=function(){return[Ct,we]};return{cacheSize:500,theme:{colors:[fn],spacing:[ze],blur:["none","",lt,ct],brightness:q(),borderColor:[e],borderRadius:["none","","full",lt,ct],borderSpacing:[t],borderWidth:ie(),contrast:q(),grayscale:R(),hueRotate:W(),invert:R(),gap:[t],gradientColorStops:[e],gradientColorStopPositions:[Cf,ct],inset:X(),margin:X(),opacity:q(),padding:[t],saturate:q(),scale:q(),sepia:R(),skew:W(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[lt]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(C(),[we])}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dn]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",dn]}],"grid-cols":[{"grid-cols":[fn]}],"col-start-end":[{col:["auto",{span:[dn]},we]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[fn]}],"row-start-end":[{row:["auto",{span:[dn]},we]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",ze]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[lt]},lt,ct]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ze]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",lt,ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yn]}],"font-family":[{font:[fn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",Ct,Yn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ze]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(I(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ze]}],"underline-offset":[{"underline-offset":["auto",ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(C(),[xf])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_f]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sf]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(I(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(I())}],"outline-offset":[{"outline-offset":[ze]}],"outline-w":[{outline:[ze]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ze]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lt,Nf]}],"shadow-color":[{shadow:[fn]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":E()}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",lt,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[dn,we]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ze,Yn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var $=mf(If),Ne=(e=>(e.Available="Available",e.Unavailable="Unavailable",e.Reserved="Reserved",e.Locked="Locked",e))(Ne||{});const G={controls:"stk-controls",crosshairs:"stk-crosshairs",cursor:"stk-cursor",location:"stk-location",operationBar:"stk-operation-bar",operationTrigger:"stk-operation-trigger",sectionBar:"stk-section-bar",templine:"stk-templine",toolbar:"stk-tool-bar",workspace:"stk-workspace",workspaceContainer:"stk-workspace-container",workspaceSelection:"stk-workspace-selection",zoomControls:"stk-zoom-controls",visibilityControls:"stk-visibility-controls",reloader:"stk-reloader"},Ge={crosshairGroup:`#${G.crosshairs} g`,workspaceGroup:`#${G.workspace} g`},B={subtool:"data-subtool",element:"data-stk-element",elementType:"data-element-type",shape:"data-shape",category:"data-category",status:"data-status",section:"data-section",sectionFreeSeating:"data-section-free-seating",visibilityOffset:"data-seat-visibility-offset",initialViewBoxScaleForWidth:"data-initial-view-box-scale-for-width",embraceOffset:"data-embrace-offset",objectLock:"data-object-lock"},Wt={[Ne.Available]:{background:"#ffffff",label:"#000000"},[Ne.Unavailable]:{background:"#e0e0e0",label:"#000000"},[Ne.Reserved]:{background:"#ff0000",label:"#ffffff"},[Ne.Locked]:{background:"#000000",label:"#ffffff"}};var Pf={value:()=>{}};function Zr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dr(n)}function dr(e){this._=e}function Af(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}dr.prototype=Zr.prototype={constructor:dr,on:function(e,t){var n=this._,r=Af(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=Mf(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=ka(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ka(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dr(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Mf(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ka(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Pf,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var jo="http://www.w3.org/1999/xhtml";const Ta={svg:"http://www.w3.org/2000/svg",xhtml:jo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ta.hasOwnProperty(t)?{space:Ta[t],local:e}:e}function Rf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===jo&&t.documentElement.namespaceURI===jo?t.createElement(e):t.createElementNS(n,e)}}function Vf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ks(e){var t=Jr(e);return(t.local?Vf:Rf)(t)}function Of(){}function zi(e){return e==null?Of:function(){return this.querySelector(e)}}function Bf(e){typeof e!="function"&&(e=zi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),l,c,u=0;u<a;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new ke(r,this._parents)}function Zs(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function zf(){return[]}function Js(e){return e==null?zf:function(){return this.querySelectorAll(e)}}function Df(e){return function(){return Zs(e.apply(this,arguments))}}function qf(e){typeof e=="function"?e=Df(e):e=Js(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(e.call(l,l.__data__,c,a)),o.push(l));return new ke(r,o)}function Qs(e){return function(){return this.matches(e)}}function el(e){return function(t){return t.matches(e)}}var $f=Array.prototype.find;function Lf(e){return function(){return $f.call(this.children,e)}}function Ff(){return this.firstElementChild}function Wf(e){return this.select(e==null?Ff:Lf(typeof e=="function"?e:el(e)))}var Hf=Array.prototype.filter;function Uf(){return Array.from(this.children)}function Gf(e){return function(){return Hf.call(this.children,e)}}function jf(e){return this.selectAll(e==null?Uf:Gf(typeof e=="function"?e:el(e)))}function Xf(e){typeof e!="function"&&(e=Qs(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,c=0;c<a;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new ke(r,this._parents)}function tl(e){return new Array(e.length)}function Yf(){return new ke(this._enter||this._groups.map(tl),this._parents)}function _r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_r.prototype={constructor:_r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Kf(e){return function(){return e}}function Zf(e,t,n,r,o,i){for(var a=0,s,l=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new _r(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function Jf(e,t,n,r,o,i,a){var s,l,c=new Map,u=t.length,d=i.length,f=new Array(u),m;for(s=0;s<u;++s)(l=t[s])&&(f[s]=m=a.call(l,l.__data__,s,t)+"",c.has(m)?o[s]=l:c.set(m,l));for(s=0;s<d;++s)m=a.call(e,i[s],s,i)+"",(l=c.get(m))?(r[s]=l,l.__data__=i[s],c.delete(m)):n[s]=new _r(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(f[s])===l&&(o[s]=l)}function Qf(e){return e.__data__}function ep(e,t){if(!arguments.length)return Array.from(this,Qf);var n=t?Jf:Zf,r=this._parents,o=this._groups;typeof e!="function"&&(e=Kf(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=o[c],f=d.length,m=tp(e.call(u,u&&u.__data__,c,r)),g=m.length,y=s[c]=new Array(g),v=a[c]=new Array(g),b=l[c]=new Array(f);n(u,d,y,v,b,m,t);for(var _=0,x=0,w,N;_<g;++_)if(w=y[_]){for(_>=x&&(x=_+1);!(N=v[x])&&++x<g;);w._next=N||null}}return a=new ke(a,r),a._enter=s,a._exit=l,a}function tp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function np(){return new ke(this._exit||this._groups.map(tl),this._parents)}function rp(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function op(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c=n[l],u=r[l],d=c.length,f=s[l]=new Array(d),m,g=0;g<d;++g)(m=c[g]||u[g])&&(f[g]=m);for(;l<o;++l)s[l]=n[l];return new ke(s,this._parents)}function ip(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function ap(e){e||(e=sp);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,l=o[i]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new ke(o,this._parents).order()}function sp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lp(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cp(){return Array.from(this)}function up(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function dp(){let e=0;for(const t of this)++e;return e}function fp(){return!this.node()}function pp(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function hp(e){return function(){this.removeAttribute(e)}}function mp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yp(e,t){return function(){this.setAttribute(e,t)}}function gp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bp(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wp(e,t){var n=Jr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?mp:hp:typeof t=="function"?n.local?bp:vp:n.local?gp:yp)(n,t))}function nl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _p(e){return function(){this.style.removeProperty(e)}}function xp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Sp(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Cp(e,t,n){return arguments.length>1?this.each((t==null?_p:typeof t=="function"?Sp:xp)(e,t,n??"")):Yt(this.node(),e)}function Yt(e,t){return e.style.getPropertyValue(t)||nl(e).getComputedStyle(e,null).getPropertyValue(t)}function Np(e){return function(){delete this[e]}}function Ep(e,t){return function(){this[e]=t}}function kp(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Tp(e,t){return arguments.length>1?this.each((t==null?Np:typeof t=="function"?kp:Ep)(e,t)):this.node()[e]}function rl(e){return e.trim().split(/^|\s+/)}function Di(e){return e.classList||new ol(e)}function ol(e){this._node=e,this._names=rl(e.getAttribute("class")||"")}ol.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function il(e,t){for(var n=Di(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function al(e,t){for(var n=Di(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Ip(e){return function(){il(this,e)}}function Pp(e){return function(){al(this,e)}}function Ap(e,t){return function(){(t.apply(this,arguments)?il:al)(this,e)}}function Mp(e,t){var n=rl(e+"");if(arguments.length<2){for(var r=Di(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Ap:t?Ip:Pp)(n,t))}function Rp(){this.textContent=""}function Vp(e){return function(){this.textContent=e}}function Op(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Bp(e){return arguments.length?this.each(e==null?Rp:(typeof e=="function"?Op:Vp)(e)):this.node().textContent}function zp(){this.innerHTML=""}function Dp(e){return function(){this.innerHTML=e}}function qp(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $p(e){return arguments.length?this.each(e==null?zp:(typeof e=="function"?qp:Dp)(e)):this.node().innerHTML}function Lp(){this.nextSibling&&this.parentNode.appendChild(this)}function Fp(){return this.each(Lp)}function Wp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hp(){return this.each(Wp)}function Up(e){var t=typeof e=="function"?e:Ks(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Gp(){return null}function jp(e,t){var n=typeof e=="function"?e:Ks(e),r=t==null?Gp:typeof t=="function"?t:zi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Xp(){var e=this.parentNode;e&&e.removeChild(this)}function Yp(){return this.each(Xp)}function Kp(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zp(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jp(e){return this.select(e?Zp:Kp)}function Qp(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eh(e){return function(t){e.call(this,t,this.__data__)}}function th(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nh(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function rh(e,t,n){return function(){var r=this.__on,o,i=eh(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function oh(e,t,n){var r=th(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(o=0,u=s[l];o<i;++o)if((a=r[o]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?rh:nh,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function sl(e,t,n){var r=nl(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ih(e,t){return function(){return sl(this,e,t)}}function ah(e,t){return function(){return sl(this,e,t.apply(this,arguments))}}function sh(e,t){return this.each((typeof t=="function"?ah:ih)(e,t))}function*lh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var qi=[null];function ke(e,t){this._groups=e,this._parents=t}function Ye(){return new ke([[document.documentElement]],qi)}function ch(){return this}ke.prototype=Ye.prototype={constructor:ke,select:Bf,selectAll:qf,selectChild:Wf,selectChildren:jf,filter:Xf,data:ep,enter:Yf,exit:np,join:rp,merge:op,selection:ch,order:ip,sort:ap,call:lp,nodes:cp,node:up,size:dp,empty:fp,each:pp,attr:wp,style:Cp,property:Tp,classed:Mp,text:Bp,html:$p,raise:Fp,lower:Hp,append:Up,insert:jp,remove:Yp,clone:Jp,datum:Qp,on:oh,dispatch:sh,[Symbol.iterator]:lh};function xe(e){return typeof e=="string"?new ke([[document.querySelector(e)]],[document.documentElement]):new ke([[e]],qi)}function uh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Oe(e,t){if(e=uh(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function dh(e){return typeof e=="string"?new ke([document.querySelectorAll(e)],[document.documentElement]):new ke([Zs(e)],qi)}const fh={passive:!1},kn={capture:!0,passive:!1};function So(e){e.stopImmediatePropagation()}function Ht(e){e.preventDefault(),e.stopImmediatePropagation()}function ll(e){var t=e.document.documentElement,n=xe(e).on("dragstart.drag",Ht,kn);"onselectstart"in t?n.on("selectstart.drag",Ht,kn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function cl(e,t){var n=e.document.documentElement,r=xe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ht,kn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Kn=e=>()=>e;function Xo(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Xo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ph(e){return!e.ctrlKey&&!e.button}function hh(){return this.parentNode}function mh(e,t){return t??{x:e.x,y:e.y}}function yh(){return navigator.maxTouchPoints||"ontouchstart"in this}function an(){var e=ph,t=hh,n=mh,r=yh,o={},i=Zr("start","drag","end"),a=0,s,l,c,u,d=0;function f(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",v).on("touchmove.drag",b,fh).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,N){if(!(u||!e.call(this,w,N))){var k=x(this,t.call(this,w,N),w,N,"mouse");k&&(xe(w.view).on("mousemove.drag",g,kn).on("mouseup.drag",y,kn),ll(w.view),So(w),c=!1,s=w.clientX,l=w.clientY,k("start",w))}}function g(w){if(Ht(w),!c){var N=w.clientX-s,k=w.clientY-l;c=N*N+k*k>d}o.mouse("drag",w)}function y(w){xe(w.view).on("mousemove.drag mouseup.drag",null),cl(w.view,c),Ht(w),o.mouse("end",w)}function v(w,N){if(e.call(this,w,N)){var k=w.changedTouches,S=t.call(this,w,N),T=k.length,U,j;for(U=0;U<T;++U)(j=x(this,S,w,N,k[U].identifier,k[U]))&&(So(w),j("start",w,k[U]))}}function b(w){var N=w.changedTouches,k=N.length,S,T;for(S=0;S<k;++S)(T=o[N[S].identifier])&&(Ht(w),T("drag",w,N[S]))}function _(w){var N=w.changedTouches,k=N.length,S,T;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),S=0;S<k;++S)(T=o[N[S].identifier])&&(So(w),T("end",w,N[S]))}function x(w,N,k,S,T,U){var j=i.copy(),X=Oe(U||k,N),ie,ne,C;if((C=n.call(w,new Xo("beforestart",{sourceEvent:k,target:f,identifier:T,active:a,x:X[0],y:X[1],dx:0,dy:0,dispatch:j}),S))!=null)return ie=C.x-X[0]||0,ne=C.y-X[1]||0,function I(E,P,R){var D=X,q;switch(E){case"start":o[T]=I,q=a++;break;case"end":delete o[T],--a;case"drag":X=Oe(R||P,N),q=a;break}j.call(E,w,new Xo(E,{sourceEvent:P,subject:C,target:f,identifier:T,active:q,x:X[0]+ie,y:X[1]+ne,dx:X[0]-D[0],dy:X[1]-D[1],dispatch:j}),S)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Kn(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:Kn(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Kn(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Kn(!!w),f):r},f.on=function(){var w=i.on.apply(i,arguments);return w===i?f:w},f.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,f):Math.sqrt(d)},f}function $i(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ul(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wn(){}var Tn=.7,xr=1/Tn,Ut="\\s*([+-]?\\d+)\\s*",In="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gh=/^#([0-9a-f]{3,8})$/,vh=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),bh=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),wh=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${In}\\)$`),_h=new RegExp(`^rgba\\(${He},${He},${He},${In}\\)$`),xh=new RegExp(`^hsl\\(${In},${He},${He}\\)$`),Sh=new RegExp(`^hsla\\(${In},${He},${He},${In}\\)$`),Ia={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$i(Wn,Pn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pa,formatHex:Pa,formatHex8:Ch,formatHsl:Nh,formatRgb:Aa,toString:Aa});function Pa(){return this.rgb().formatHex()}function Ch(){return this.rgb().formatHex8()}function Nh(){return dl(this).formatHsl()}function Aa(){return this.rgb().formatRgb()}function Pn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ma(t):n===3?new Ie(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vh.exec(e))?new Ie(t[1],t[2],t[3],1):(t=bh.exec(e))?new Ie(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wh.exec(e))?Zn(t[1],t[2],t[3],t[4]):(t=_h.exec(e))?Zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xh.exec(e))?Oa(t[1],t[2]/100,t[3]/100,1):(t=Sh.exec(e))?Oa(t[1],t[2]/100,t[3]/100,t[4]):Ia.hasOwnProperty(e)?Ma(Ia[e]):e==="transparent"?new Ie(NaN,NaN,NaN,0):null}function Ma(e){return new Ie(e>>16&255,e>>8&255,e&255,1)}function Zn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ie(e,t,n,r)}function Eh(e){return e instanceof Wn||(e=Pn(e)),e?(e=e.rgb(),new Ie(e.r,e.g,e.b,e.opacity)):new Ie}function Yo(e,t,n,r){return arguments.length===1?Eh(e):new Ie(e,t,n,r??1)}function Ie(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$i(Ie,Yo,ul(Wn,{brighter(e){return e=e==null?xr:Math.pow(xr,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tn:Math.pow(Tn,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ie(Et(this.r),Et(this.g),Et(this.b),Sr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ra,formatHex:Ra,formatHex8:kh,formatRgb:Va,toString:Va}));function Ra(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function kh(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Va(){const e=Sr(this.opacity);return`${e===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${e===1?")":`, ${e})`}`}function Sr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Et(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nt(e){return e=Et(e),(e<16?"0":"")+e.toString(16)}function Oa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qe(e,t,n,r)}function dl(e){if(e instanceof qe)return new qe(e.h,e.s,e.l,e.opacity);if(e instanceof Wn||(e=Pn(e)),!e)return new qe;if(e instanceof qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new qe(a,s,l,e.opacity)}function Th(e,t,n,r){return arguments.length===1?dl(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$i(qe,Th,ul(Wn,{brighter(e){return e=e==null?xr:Math.pow(xr,e),new qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tn:Math.pow(Tn,e),new qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ie(Co(e>=240?e-240:e+120,o,r),Co(e,o,r),Co(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new qe(Ba(this.h),Jn(this.s),Jn(this.l),Sr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sr(this.opacity);return`${e===1?"hsl(":"hsla("}${Ba(this.h)}, ${Jn(this.s)*100}%, ${Jn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ba(e){return e=(e||0)%360,e<0?e+360:e}function Jn(e){return Math.max(0,Math.min(1,e||0))}function Co(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fl=e=>()=>e;function Ih(e,t){return function(n){return e+n*t}}function Ph(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ah(e){return(e=+e)==1?pl:function(t,n){return n-t?Ph(t,n,e):fl(isNaN(t)?n:t)}}function pl(e,t){var n=t-e;return n?Ih(e,n):fl(isNaN(e)?t:e)}const za=function e(t){var n=Ah(t);function r(o,i){var a=n((o=Yo(o)).r,(i=Yo(i)).r),s=n(o.g,i.g),l=n(o.b,i.b),c=pl(o.opacity,i.opacity);return function(u){return o.r=a(u),o.g=s(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function ft(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ko=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,No=new RegExp(Ko.source,"g");function Mh(e){return function(){return e}}function Rh(e){return function(t){return e(t)+""}}function Vh(e,t){var n=Ko.lastIndex=No.lastIndex=0,r,o,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ko.exec(e))&&(o=No.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:ft(r,o)})),n=No.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Rh(l[0].x):Mh(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var Da=180/Math.PI,Zo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hl(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Da,skewX:Math.atan(l)*Da,scaleX:a,scaleY:s}}var Qn;function Oh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zo:hl(t.a,t.b,t.c,t.d,t.e,t.f)}function Bh(e){return e==null||(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",e),!(e=Qn.transform.baseVal.consolidate()))?Zo:(e=e.matrix,hl(e.a,e.b,e.c,e.d,e.e,e.f))}function ml(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,u,d,f,m,g){if(c!==d||u!==f){var y=m.push("translate(",null,t,null,n);g.push({i:y-4,x:ft(c,d)},{i:y-2,x:ft(u,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function a(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:ft(c,u)})):u&&d.push(o(d)+"rotate("+u+r)}function s(c,u,d,f){c!==u?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:ft(c,u)}):u&&d.push(o(d)+"skewX("+u+r)}function l(c,u,d,f,m,g){if(c!==d||u!==f){var y=m.push(o(m)+"scale(",null,",",null,")");g.push({i:y-4,x:ft(c,d)},{i:y-2,x:ft(u,f)})}else(d!==1||f!==1)&&m.push(o(m)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,f),a(c.rotate,u.rotate,d,f),s(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(m){for(var g=-1,y=f.length,v;++g<y;)d[(v=f[g]).i]=v.x(m);return d.join("")}}}var zh=ml(Oh,"px, ","px)","deg)"),Dh=ml(Bh,", ",")",")"),qh=1e-12;function qa(e){return((e=Math.exp(e))+1/e)/2}function $h(e){return((e=Math.exp(e))-1/e)/2}function Lh(e){return((e=Math.exp(2*e))-1)/(e+1)}const Fh=function e(t,n,r){function o(i,a){var s=i[0],l=i[1],c=i[2],u=a[0],d=a[1],f=a[2],m=u-s,g=d-l,y=m*m+g*g,v,b;if(y<qh)b=Math.log(f/c)/t,v=function(S){return[s+S*m,l+S*g,c*Math.exp(t*S*b)]};else{var _=Math.sqrt(y),x=(f*f-c*c+r*y)/(2*c*n*_),w=(f*f-c*c-r*y)/(2*f*n*_),N=Math.log(Math.sqrt(x*x+1)-x),k=Math.log(Math.sqrt(w*w+1)-w);b=(k-N)/t,v=function(S){var T=S*b,U=qa(N),j=c/(n*_)*(U*Lh(t*T+N)-$h(N));return[s+j*m,l+j*g,c*U/qa(t*T+N)]}}return v.duration=b*1e3*t/Math.SQRT2,v}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},o}(Math.SQRT2,2,4);var Kt=0,bn=0,pn=0,yl=1e3,Cr,wn,Nr=0,Tt=0,Qr=0,An=typeof performance=="object"&&performance.now?performance:Date,gl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Li(){return Tt||(gl(Wh),Tt=An.now()+Qr)}function Wh(){Tt=0}function Er(){this._call=this._time=this._next=null}Er.prototype=vl.prototype={constructor:Er,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Li():+n)+(t==null?0:+t),!this._next&&wn!==this&&(wn?wn._next=this:Cr=this,wn=this),this._call=e,this._time=n,Jo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jo())}};function vl(e,t,n){var r=new Er;return r.restart(e,t,n),r}function Hh(){Li(),++Kt;for(var e=Cr,t;e;)(t=Tt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kt}function $a(){Tt=(Nr=An.now())+Qr,Kt=bn=0;try{Hh()}finally{Kt=0,Gh(),Tt=0}}function Uh(){var e=An.now(),t=e-Nr;t>yl&&(Qr-=t,Nr=e)}function Gh(){for(var e,t=Cr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Cr=n);wn=e,Jo(r)}function Jo(e){if(!Kt){bn&&(bn=clearTimeout(bn));var t=e-Tt;t>24?(e<1/0&&(bn=setTimeout($a,e-An.now()-Qr)),pn&&(pn=clearInterval(pn))):(pn||(Nr=An.now(),pn=setInterval(Uh,yl)),Kt=1,gl($a))}}function La(e,t,n){var r=new Er;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var jh=Zr("start","end","cancel","interrupt"),Xh=[],bl=0,Fa=1,Qo=2,fr=3,Wa=4,ei=5,pr=6;function eo(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Yh(e,n,{name:t,index:r,group:o,on:jh,tween:Xh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:bl})}function Fi(e,t){var n=Fe(e,t);if(n.state>bl)throw new Error("too late; already scheduled");return n}function Ke(e,t){var n=Fe(e,t);if(n.state>fr)throw new Error("too late; already running");return n}function Fe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Yh(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=vl(i,0,n.time);function i(c){n.state=Fa,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,d,f,m;if(n.state!==Fa)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===fr)return La(a);m.state===Wa?(m.state=pr,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[u]):+u<t&&(m.state=pr,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[u])}if(La(function(){n.state===fr&&(n.state=Wa,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Qo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qo){for(n.state=fr,o=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=m);o.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ei,1),d=-1,f=o.length;++d<f;)o[d].call(e,u);n.state===ei&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=pr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function hr(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>Qo&&r.state<ei,r.state=pr,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function Kh(e){return this.each(function(){hr(this,e)})}function Zh(e,t){var n,r;return function(){var o=Ke(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function Jh(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ke(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function Qh(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Fe(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?Zh:Jh)(n,e,t))}function Wi(e,t,n){var r=e._id;return e.each(function(){var o=Ke(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Fe(o,r).value[t]}}function wl(e,t){var n;return(typeof t=="number"?ft:t instanceof Pn?za:(n=Pn(t))?(t=n,za):Vh)(e,t)}function em(e){return function(){this.removeAttribute(e)}}function tm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nm(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function rm(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function om(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function im(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function am(e,t){var n=Jr(e),r=n==="transform"?Dh:wl;return this.attrTween(e,typeof t=="function"?(n.local?im:om)(n,r,Wi(this,"attr."+e,t)):t==null?(n.local?tm:em)(n):(n.local?rm:nm)(n,r,t))}function sm(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function lm(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cm(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&lm(e,i)),n}return o._value=t,o}function um(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&sm(e,i)),n}return o._value=t,o}function dm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Jr(e);return this.tween(n,(r.local?cm:um)(r,t))}function fm(e,t){return function(){Fi(this,e).delay=+t.apply(this,arguments)}}function pm(e,t){return t=+t,function(){Fi(this,e).delay=t}}function hm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fm:pm)(t,e)):Fe(this.node(),t).delay}function mm(e,t){return function(){Ke(this,e).duration=+t.apply(this,arguments)}}function ym(e,t){return t=+t,function(){Ke(this,e).duration=t}}function gm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mm:ym)(t,e)):Fe(this.node(),t).duration}function vm(e,t){if(typeof t!="function")throw new Error;return function(){Ke(this,e).ease=t}}function bm(e){var t=this._id;return arguments.length?this.each(vm(t,e)):Fe(this.node(),t).ease}function wm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ke(this,e).ease=n}}function _m(e){if(typeof e!="function")throw new Error;return this.each(wm(this._id,e))}function xm(e){typeof e!="function"&&(e=Qs(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,c=0;c<a;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new rt(r,this._parents,this._name,this._id)}function Sm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,d=a[s]=new Array(u),f,m=0;m<u;++m)(f=l[m]||c[m])&&(d[m]=f);for(;s<r;++s)a[s]=t[s];return new rt(a,this._parents,this._name,this._id)}function Cm(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Nm(e,t,n){var r,o,i=Cm(t)?Fi:Ke;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function Em(e,t){var n=this._id;return arguments.length<2?Fe(this.node(),n).on.on(e):this.each(Nm(n,e,t))}function km(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Tm(){return this.on("end.remove",km(this._id))}function Im(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zi(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],l=s.length,c=i[a]=new Array(l),u,d,f=0;f<l;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,eo(c[f],t,n,f,c,Fe(u,n)));return new rt(i,this._parents,t,n)}function Pm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Js(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l=r[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),m,g=Fe(u,n),y=0,v=f.length;y<v;++y)(m=f[y])&&eo(m,t,n,y,f,g);i.push(f),a.push(u)}return new rt(i,a,t,n)}var Am=Ye.prototype.constructor;function Mm(){return new Am(this._groups,this._parents)}function Rm(e,t){var n,r,o;return function(){var i=Yt(this,e),a=(this.style.removeProperty(e),Yt(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function _l(e){return function(){this.style.removeProperty(e)}}function Vm(e,t,n){var r,o=n+"",i;return function(){var a=Yt(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function Om(e,t,n){var r,o,i;return function(){var a=Yt(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Yt(this,e))),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}function Bm(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var l=Ke(this,e),c=l.on,u=l.value[i]==null?s||(s=_l(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(a,o=u),l.on=r}}function zm(e,t,n){var r=(e+="")=="transform"?zh:wl;return t==null?this.styleTween(e,Rm(e,r)).on("end.style."+e,_l(e)):typeof t=="function"?this.styleTween(e,Om(e,r,Wi(this,"style."+e,t))).each(Bm(this._id,e)):this.styleTween(e,Vm(e,r,t),n).on("end.style."+e,null)}function Dm(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function qm(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&Dm(e,a,n)),r}return i._value=t,i}function $m(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,qm(e,t,n??""))}function Lm(e){return function(){this.textContent=e}}function Fm(e){return function(){var t=e(this);this.textContent=t??""}}function Wm(e){return this.tween("text",typeof e=="function"?Fm(Wi(this,"text",e)):Lm(e==null?"":e+""))}function Hm(e){return function(t){this.textContent=e.call(this,t)}}function Um(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Hm(o)),t}return r._value=e,r}function Gm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Um(e))}function jm(){for(var e=this._name,t=this._id,n=xl(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Fe(l,t);eo(l,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new rt(r,this._parents,e,n)}function Xm(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};n.each(function(){var c=Ke(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),o===0&&i()})}var Ym=0;function rt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function xl(){return++Ym}var Ze=Ye.prototype;rt.prototype={constructor:rt,select:Im,selectAll:Pm,selectChild:Ze.selectChild,selectChildren:Ze.selectChildren,filter:xm,merge:Sm,selection:Mm,transition:jm,call:Ze.call,nodes:Ze.nodes,node:Ze.node,size:Ze.size,empty:Ze.empty,each:Ze.each,on:Em,attr:am,attrTween:dm,style:zm,styleTween:$m,text:Wm,textTween:Gm,remove:Tm,tween:Qh,delay:hm,duration:gm,ease:bm,easeVarying:_m,end:Xm,[Symbol.iterator]:Ze[Symbol.iterator]};function Km(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Zm={time:null,delay:0,duration:250,ease:Km};function Jm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Qm(e){var t,n;e instanceof rt?(t=e._id,e=e._name):(t=xl(),(n=Zm).time=Li(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,c=0;c<s;++c)(l=a[c])&&eo(l,e,t,c,a,n||Jm(l,t));return new rt(r,this._parents,e,t)}Ye.prototype.interrupt=Kh;Ye.prototype.transition=Qm;const er=e=>()=>e;function ey(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function tt(e,t,n){this.k=e,this.x=t,this.y=n}tt.prototype={constructor:tt,scale:function(e){return e===1?this:new tt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new tt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var to=new tt(1,0,0);Hi.prototype=tt.prototype;function Hi(e){for(;!e.__zoom;)if(!(e=e.parentNode))return to;return e.__zoom}function Eo(e){e.stopImmediatePropagation()}function hn(e){e.preventDefault(),e.stopImmediatePropagation()}function ty(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ny(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ha(){return this.__zoom||to}function ry(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oy(){return navigator.maxTouchPoints||"ontouchstart"in this}function iy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function ay(){var e=ty,t=ny,n=iy,r=ry,o=oy,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Fh,c=Zr("start","zoom","end"),u,d,f,m=500,g=150,y=0,v=10;function b(C){C.property("__zoom",Ha).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",j).filter(o).on("touchstart.zoom",X).on("touchmove.zoom",ie).on("touchend.zoom touchcancel.zoom",ne).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(C,I,E,P){var R=C.selection?C.selection():C;R.property("__zoom",Ha),C!==R?N(C,I,E,P):R.interrupt().each(function(){k(this,arguments).event(P).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},b.scaleBy=function(C,I,E,P){b.scaleTo(C,function(){var R=this.__zoom.k,D=typeof I=="function"?I.apply(this,arguments):I;return R*D},E,P)},b.scaleTo=function(C,I,E,P){b.transform(C,function(){var R=t.apply(this,arguments),D=this.__zoom,q=E==null?w(R):typeof E=="function"?E.apply(this,arguments):E,W=D.invert(q),H=typeof I=="function"?I.apply(this,arguments):I;return n(x(_(D,H),q,W),R,a)},E,P)},b.translateBy=function(C,I,E,P){b.transform(C,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof E=="function"?E.apply(this,arguments):E),t.apply(this,arguments),a)},null,P)},b.translateTo=function(C,I,E,P,R){b.transform(C,function(){var D=t.apply(this,arguments),q=this.__zoom,W=P==null?w(D):typeof P=="function"?P.apply(this,arguments):P;return n(to.translate(W[0],W[1]).scale(q.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof E=="function"?-E.apply(this,arguments):-E),D,a)},P,R)};function _(C,I){return I=Math.max(i[0],Math.min(i[1],I)),I===C.k?C:new tt(I,C.x,C.y)}function x(C,I,E){var P=I[0]-E[0]*C.k,R=I[1]-E[1]*C.k;return P===C.x&&R===C.y?C:new tt(C.k,P,R)}function w(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function N(C,I,E,P){C.on("start.zoom",function(){k(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(P).end()}).tween("zoom",function(){var R=this,D=arguments,q=k(R,D).event(P),W=t.apply(R,D),H=E==null?w(W):typeof E=="function"?E.apply(R,D):E,ce=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),Z=R.__zoom,ae=typeof I=="function"?I.apply(R,D):I,le=l(Z.invert(H).concat(ce/Z.k),ae.invert(H).concat(ce/ae.k));return function(V){if(V===1)V=ae;else{var Y=le(V),oe=ce/Y[2];V=new tt(oe,H[0]-Y[0]*oe,H[1]-Y[1]*oe)}q.zoom(null,V)}})}function k(C,I,E){return!E&&C.__zooming||new S(C,I)}function S(C,I){this.that=C,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,I),this.taps=0}S.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,I){return this.mouse&&C!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var I=xe(this.that).datum();c.call(C,this.that,new ey(C,{sourceEvent:this.sourceEvent,target:b,type:C,transform:this.that.__zoom,dispatch:c}),I)}};function T(C,...I){if(!e.apply(this,arguments))return;var E=k(this,I).event(C),P=this.__zoom,R=Math.max(i[0],Math.min(i[1],P.k*Math.pow(2,r.apply(this,arguments)))),D=Oe(C);if(E.wheel)(E.mouse[0][0]!==D[0]||E.mouse[0][1]!==D[1])&&(E.mouse[1]=P.invert(E.mouse[0]=D)),clearTimeout(E.wheel);else{if(P.k===R)return;E.mouse=[D,P.invert(D)],hr(this),E.start()}hn(C),E.wheel=setTimeout(q,g),E.zoom("mouse",n(x(_(P,R),E.mouse[0],E.mouse[1]),E.extent,a));function q(){E.wheel=null,E.end()}}function U(C,...I){if(f||!e.apply(this,arguments))return;var E=C.currentTarget,P=k(this,I,!0).event(C),R=xe(C.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",ce,!0),D=Oe(C,E),q=C.clientX,W=C.clientY;ll(C.view),Eo(C),P.mouse=[D,this.__zoom.invert(D)],hr(this),P.start();function H(Z){if(hn(Z),!P.moved){var ae=Z.clientX-q,le=Z.clientY-W;P.moved=ae*ae+le*le>y}P.event(Z).zoom("mouse",n(x(P.that.__zoom,P.mouse[0]=Oe(Z,E),P.mouse[1]),P.extent,a))}function ce(Z){R.on("mousemove.zoom mouseup.zoom",null),cl(Z.view,P.moved),hn(Z),P.event(Z).end()}}function j(C,...I){if(e.apply(this,arguments)){var E=this.__zoom,P=Oe(C.changedTouches?C.changedTouches[0]:C,this),R=E.invert(P),D=E.k*(C.shiftKey?.5:2),q=n(x(_(E,D),P,R),t.apply(this,I),a);hn(C),s>0?xe(this).transition().duration(s).call(N,q,P,C):xe(this).call(b.transform,q,P,C)}}function X(C,...I){if(e.apply(this,arguments)){var E=C.touches,P=E.length,R=k(this,I,C.changedTouches.length===P).event(C),D,q,W,H;for(Eo(C),q=0;q<P;++q)W=E[q],H=Oe(W,this),H=[H,this.__zoom.invert(H),W.identifier],R.touch0?!R.touch1&&R.touch0[2]!==H[2]&&(R.touch1=H,R.taps=0):(R.touch0=H,D=!0,R.taps=1+!!u);u&&(u=clearTimeout(u)),D&&(R.taps<2&&(d=H[0],u=setTimeout(function(){u=null},m)),hr(this),R.start())}}function ie(C,...I){if(this.__zooming){var E=k(this,I).event(C),P=C.changedTouches,R=P.length,D,q,W,H;for(hn(C),D=0;D<R;++D)q=P[D],W=Oe(q,this),E.touch0&&E.touch0[2]===q.identifier?E.touch0[0]=W:E.touch1&&E.touch1[2]===q.identifier&&(E.touch1[0]=W);if(q=E.that.__zoom,E.touch1){var ce=E.touch0[0],Z=E.touch0[1],ae=E.touch1[0],le=E.touch1[1],V=(V=ae[0]-ce[0])*V+(V=ae[1]-ce[1])*V,Y=(Y=le[0]-Z[0])*Y+(Y=le[1]-Z[1])*Y;q=_(q,Math.sqrt(V/Y)),W=[(ce[0]+ae[0])/2,(ce[1]+ae[1])/2],H=[(Z[0]+le[0])/2,(Z[1]+le[1])/2]}else if(E.touch0)W=E.touch0[0],H=E.touch0[1];else return;E.zoom("touch",n(x(q,W,H),E.extent,a))}}function ne(C,...I){if(this.__zooming){var E=k(this,I).event(C),P=C.changedTouches,R=P.length,D,q;for(Eo(C),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),D=0;D<R;++D)q=P[D],E.touch0&&E.touch0[2]===q.identifier?delete E.touch0:E.touch1&&E.touch1[2]===q.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(q=Oe(q,this),Math.hypot(d[0]-q[0],d[1]-q[1])<v)){var W=xe(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return b.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:er(+C),b):r},b.filter=function(C){return arguments.length?(e=typeof C=="function"?C:er(!!C),b):e},b.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:er(!!C),b):o},b.extent=function(C){return arguments.length?(t=typeof C=="function"?C:er([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),b):t},b.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],b):[i[0],i[1]]},b.translateExtent=function(C){return arguments.length?(a[0][0]=+C[0][0],a[1][0]=+C[1][0],a[0][1]=+C[0][1],a[1][1]=+C[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(C){return arguments.length?(n=C,b):n},b.duration=function(C){return arguments.length?(s=+C,b):s},b.interpolate=function(C){return arguments.length?(l=C,b):l},b.on=function(){var C=c.on.apply(c,arguments);return C===c?b:C},b.clickDistance=function(C){return arguments.length?(y=(C=+C)*C,b):Math.sqrt(y)},b.tapDistance=function(C){return arguments.length?(v=+C,b):v},b}Ye.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})};Ye.prototype.moveToBack=function(){return this.each(function(){const e=this.parentNode.firstChild;e&&this.parentNode.insertBefore(this,e)})};Ye.prototype.map=function(e){const t=[];return this.each(function(n,r){t.push(e(xe(this),r))}),t};Ye.prototype.forEach=function(e){this.each(function(t,n){e(xe(this),n)})};Ye.prototype.rotation=function(){var n;if(!this.node())return 0;let e;if(((n=this.node())==null?void 0:n.tagName)==="svg"?e=this.node().parentElement.style.transform:e=this.style("transform"),!e)return 0;const t=e.match(/rotate\(([^)]+)\)/);return t?Number(t[1].replace("deg","")):0};const z={drag:an,pointer:Oe,select:xe,selectAll:dh,zoom:ay,zoomIdentity:to,zoomTransform:Hi,selectById(e){return xe(`[id='${e}']`)},getNodeCenter(e){return e.attr("cx")?{x:e.attr("cx"),y:e.attr("cy")}:{x:+e.attr("x")+Number(e.attr("width"))/2,y:+e.attr("y")+Number(e.attr("height"))/2}},selectionWidth(e){return e.node().getBoundingClientRect().width},selectionBounds(e){return e.node().getBoundingClientRect()}};var sy=Hd;function ly(e,t){return sy(e,t)}var cy=ly;const Sl=Wd(cy);function Se(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uy=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Ua=uy,ko=()=>Math.random().toString(36).substring(7).split("").join("."),dy={INIT:`@@redux/INIT${ko()}`,REPLACE:`@@redux/REPLACE${ko()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ko()}`},kr=dy;function Ui(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Cl(e,t,n){if(typeof e!="function")throw new Error(Se(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Se(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Se(1));return n(Cl)(e,t)}let r=e,o=t,i=new Map,a=i,s=0,l=!1;function c(){a===i&&(a=new Map,i.forEach((v,b)=>{a.set(b,v)}))}function u(){if(l)throw new Error(Se(3));return o}function d(v){if(typeof v!="function")throw new Error(Se(4));if(l)throw new Error(Se(5));let b=!0;c();const _=s++;return a.set(_,v),function(){if(b){if(l)throw new Error(Se(6));b=!1,c(),a.delete(_),i=null}}}function f(v){if(!Ui(v))throw new Error(Se(7));if(typeof v.type>"u")throw new Error(Se(8));if(typeof v.type!="string")throw new Error(Se(17));if(l)throw new Error(Se(9));try{l=!0,o=r(o,v)}finally{l=!1}return(i=a).forEach(_=>{_()}),v}function m(v){if(typeof v!="function")throw new Error(Se(10));r=v,f({type:kr.REPLACE})}function g(){const v=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Se(11));function _(){const w=b;w.next&&w.next(u())}return _(),{unsubscribe:v(_)}},[Ua](){return this}}}return f({type:kr.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:m,[Ua]:g}}function fy(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:kr.INIT})>"u")throw new Error(Se(12));if(typeof n(void 0,{type:kr.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Se(13))})}function Nl(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let o;try{fy(n)}catch(i){o=i}return function(a={},s){if(o)throw o;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],m=a[d],g=f(m,s);if(typeof g>"u")throw s&&s.type,new Error(Se(14));c[d]=g,l=l||g!==m}return l=l||r.length!==Object.keys(a).length,l?c:a}}function Tr(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function py(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(Se(15))};const a={getState:o.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(a));return i=Tr(...s)(o.dispatch),{...o,dispatch:i}}}function hy(e){return Ui(e)&&"type"in e&&typeof e.type=="string"}var El=Symbol.for("immer-nothing"),Ga=Symbol.for("immer-draftable"),Re=Symbol.for("immer-state");function $e(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zt=Object.getPrototypeOf;function mt(e){return!!e&&!!e[Re]}function ot(e){var t;return e?kl(e)||Array.isArray(e)||!!e[Ga]||!!((t=e.constructor)!=null&&t[Ga])||ro(e)||oo(e):!1}var my=Object.prototype.constructor.toString();function kl(e){if(!e||typeof e!="object")return!1;const t=Zt(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===my}function Mn(e,t){no(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function no(e){const t=e[Re];return t?t.type_:Array.isArray(e)?1:ro(e)?2:oo(e)?3:0}function ti(e,t){return no(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tl(e,t,n){const r=no(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function yy(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ro(e){return e instanceof Map}function oo(e){return e instanceof Set}function xt(e){return e.copy_||e.base_}function ni(e,t){if(ro(e))return new Map(e);if(oo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&kl(e))return Zt(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Re];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],a=n[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Zt(e),n)}function Gi(e,t=!1){return io(e)||mt(e)||!ot(e)||(no(e)>1&&(e.set=e.add=e.clear=e.delete=gy),Object.freeze(e),t&&Mn(e,(n,r)=>Gi(r,!0))),e}function gy(){$e(2)}function io(e){return Object.isFrozen(e)}var vy={};function It(e){const t=vy[e];return t||$e(0,e),t}var Rn;function Il(){return Rn}function by(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ja(e,t){t&&(It("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ri(e){oi(e),e.drafts_.forEach(wy),e.drafts_=null}function oi(e){e===Rn&&(Rn=e.parent_)}function Xa(e){return Rn=by(Rn,e)}function wy(e){const t=e[Re];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ya(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Re].modified_&&(ri(t),$e(4)),ot(e)&&(e=Ir(t,e),t.parent_||Pr(t,e)),t.patches_&&It("Patches").generateReplacementPatches_(n[Re].base_,e,t.patches_,t.inversePatches_)):e=Ir(t,n,[]),ri(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==El?e:void 0}function Ir(e,t,n){if(io(t))return t;const r=t[Re];if(!r)return Mn(t,(o,i)=>Ka(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Pr(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,a=!1;r.type_===3&&(i=new Set(o),o.clear(),a=!0),Mn(i,(s,l)=>Ka(e,r,o,s,l,n,a)),Pr(e,o,!1),n&&e.patches_&&It("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ka(e,t,n,r,o,i,a){if(mt(o)){const s=i&&t&&t.type_!==3&&!ti(t.assigned_,r)?i.concat(r):void 0,l=Ir(e,o,s);if(Tl(n,r,l),mt(l))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(ot(o)&&!io(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ir(e,o),(!t||!t.scope_.parent_)&&Pr(e,o)}}function Pr(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gi(t,n)}function _y(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Il(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=ji;n&&(o=[r],i=Vn);const{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}var ji={get(e,t){if(t===Re)return e;const n=xt(e);if(!ti(n,t))return xy(e,n,t);const r=n[t];return e.finalized_||!ot(r)?r:r===To(e.base_,t)?(Io(e),e.copy_[t]=ai(r,e)):r},has(e,t){return t in xt(e)},ownKeys(e){return Reflect.ownKeys(xt(e))},set(e,t,n){const r=Pl(xt(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=To(xt(e),t),i=o==null?void 0:o[Re];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(yy(n,o)&&(n!==void 0||ti(e.base_,t)))return!0;Io(e),ii(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return To(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Io(e),ii(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$e(11)},getPrototypeOf(e){return Zt(e.base_)},setPrototypeOf(){$e(12)}},Vn={};Mn(ji,(e,t)=>{Vn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vn.deleteProperty=function(e,t){return Vn.set.call(this,e,t,void 0)};Vn.set=function(e,t,n){return ji.set.call(this,e[0],t,n,e[0])};function To(e,t){const n=e[Re];return(n?xt(n):e)[t]}function xy(e,t,n){var o;const r=Pl(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Pl(e,t){if(!(t in e))return;let n=Zt(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zt(n)}}function ii(e){e.modified_||(e.modified_=!0,e.parent_&&ii(e.parent_))}function Io(e){e.copy_||(e.copy_=ni(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Sy=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const a=this;return function(l=i,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&$e(6),r!==void 0&&typeof r!="function"&&$e(7);let o;if(ot(t)){const i=Xa(this),a=ai(t,void 0);let s=!0;try{o=n(a),s=!1}finally{s?ri(i):oi(i)}return ja(i,r),Ya(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===El&&(o=void 0),this.autoFreeze_&&Gi(o,!0),r){const i=[],a=[];It("Patches").generateReplacementPatches_(t,o,i,a),r(i,a)}return o}else $e(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,o;return[this.produce(t,n,(a,s)=>{r=a,o=s}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ot(e)||$e(8),mt(e)&&(e=Al(e));const t=Xa(this),n=ai(e,void 0);return n[Re].isManual_=!0,oi(t),n}finishDraft(e,t){const n=e&&e[Re];(!n||!n.isManual_)&&$e(9);const{scope_:r}=n;return ja(r,t),Ya(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=It("Patches").applyPatches_;return mt(e)?r(e,t):this.produce(e,o=>r(o,t))}};function ai(e,t){const n=ro(e)?It("MapSet").proxyMap_(e,t):oo(e)?It("MapSet").proxySet_(e,t):_y(e,t);return(t?t.scope_:Il()).drafts_.push(n),n}function Al(e){return mt(e)||$e(10,e),Ml(e)}function Ml(e){if(!ot(e)||io(e))return e;const t=e[Re];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ni(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ni(e,!0);return Mn(n,(r,o)=>{Tl(n,r,Ml(o))}),t&&(t.finalized_=!1),n}var Ve=new Sy,Rl=Ve.produce;Ve.produceWithPatches.bind(Ve);Ve.setAutoFreeze.bind(Ve);Ve.setUseStrictShallowCopy.bind(Ve);Ve.applyPatches.bind(Ve);Ve.createDraft.bind(Ve);Ve.finishDraft.bind(Ve);function Cy(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ny(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Ey(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Za=e=>Array.isArray(e)?e:[e];function ky(e){const t=Array.isArray(e[0])?e[0]:e;return Ey(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ty(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var Iy=class{constructor(e){this.value=e}deref(){return this.value}},Py=typeof WeakRef<"u"?WeakRef:Iy,Ay=0,Ja=1;function tr(){return{s:Ay,v:void 0,o:null,p:null}}function Xi(e,t={}){let n=tr();const{resultEqualityCheck:r}=t;let o,i=0;function a(){var d;let s=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=s.o;y===null&&(s.o=y=new WeakMap);const v=y.get(g);v===void 0?(s=tr(),y.set(g,s)):s=v}else{let y=s.p;y===null&&(s.p=y=new Map);const v=y.get(g);v===void 0?(s=tr(),y.set(g,s)):s=v}}const c=s;let u;if(s.s===Ja?u=s.v:(u=e.apply(null,arguments),i++),c.s=Ja,r){const f=((d=o==null?void 0:o.deref)==null?void 0:d.call(o))??o;f!=null&&r(f,u)&&(u=f,i!==0&&i--),o=typeof u=="object"&&u!==null||typeof u=="function"?new Py(u):u}return c.v=u,u}return a.clearCache=()=>{n=tr(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function Vl(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let i=0,a=0,s,l={},c=o.pop();typeof c=="object"&&(l=c,c=o.pop()),Cy(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:m=Xi,argsMemoizeOptions:g=[],devModeChecks:y={}}=u,v=Za(f),b=Za(g),_=ky(o),x=d(function(){return i++,c.apply(null,arguments)},...v),w=m(function(){a++;const k=Ty(_,arguments);return s=x.apply(null,k),s},...b);return Object.assign(w,{resultFunc:c,memoizedResultFunc:x,dependencies:_,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Yi=Vl(Xi),My=Object.assign((e,t=Yi)=>{Ny(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>My});function Ol(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var Ry=Ol(),Vy=Ol,Oy=(...e)=>{const t=Vl(...e),n=Object.assign((...r)=>{const o=t(...r),i=(a,...s)=>o(mt(a)?Al(a):a,...s);return Object.assign(i,o),i},{withTypes:()=>n});return n};Oy(Xi);var By=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tr:Tr.apply(null,arguments)};function Jt(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(Pe(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>hy(r)&&r.type===e,n}var Bl=class _n extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,_n.prototype)}static get[Symbol.species](){return _n}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new _n(...t[0].concat(this)):new _n(...t.concat(this))}};function Qa(e){return ot(e)?Rl(e,()=>{}):e}function es(e,t,n){if(e.has(t)){let o=e.get(t);return n.update&&(o=n.update(o,t,e),e.set(t,o)),o}if(!n.insert)throw new Error(Pe(10));const r=n.insert(t,e);return e.set(t,r),r}function zy(e){return typeof e=="boolean"}var Dy=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let a=new Bl;return n&&(zy(n)?a.push(Ry):a.push(Vy(n.extraArgument))),a},qy="RTK_autoBatch",zl=e=>t=>{setTimeout(t,e)},$y=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zl(10),Ly=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?$y:e.type==="callback"?e.queueNotification:zl(e.timeout),c=()=>{a=!1,i&&(i=!1,s.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>o&&u(),f=r.subscribe(d);return s.add(u),()=>{f(),s.delete(u)}},dispatch(u){var d;try{return o=!((d=u==null?void 0:u.meta)!=null&&d[qy]),i=!o,i&&(a||(a=!0,l(c))),r.dispatch(u)}finally{o=!0}}})},Fy=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new Bl(e);return r&&o.push(Ly(typeof r=="object"?r:void 0)),o},Wy=!0;function Hy(e){const t=Dy(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Ui(n))s=Nl(n);else throw new Error(Pe(1));let l;typeof r=="function"?l=r(t):l=t();let c=Tr;o&&(c=By({trace:!Wy,...typeof o=="object"&&o}));const u=py(...l),d=Fy(u);let f=typeof a=="function"?a(d):d();const m=c(...f);return Cl(s,i,m)}function Dl(e){const t={},n=[];let r;const o={addCase(i,a){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Pe(28));if(s in t)throw new Error(Pe(29));return t[s]=a,o},addMatcher(i,a){return n.push({matcher:i,reducer:a}),o},addDefaultCase(i){return r=i,o}};return e(o),[t,n,r]}function Uy(e){return typeof e=="function"}function Gy(e,t){let[n,r,o]=Dl(t),i;if(Uy(e))i=()=>Qa(e());else{const s=Qa(e);i=()=>s}function a(s=i(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[o]),c.reduce((u,d)=>{if(d)if(mt(u)){const m=d(u,l);return m===void 0?u:m}else{if(ot(u))return Rl(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw new Error(Pe(9))}return f}}return u},s)}return a.getInitialState=i,a}var jy="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xy=(e=21)=>{let t="",n=e;for(;n--;)t+=jy[Math.random()*64|0];return t},Yy=Symbol.for("rtk-slice-createasyncthunk");function Ky(e,t){return`${e}/${t}`}function Zy({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Yy];return function(o){const{name:i,reducerPath:a=i}=o;if(!i)throw new Error(Pe(11));typeof process<"u";const s=(typeof o.reducers=="function"?o.reducers(Qy()):o.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,w){const N=typeof x=="string"?x:x.type;if(!N)throw new Error(Pe(12));if(N in c.sliceCaseReducersByType)throw new Error(Pe(13));return c.sliceCaseReducersByType[N]=w,u},addMatcher(x,w){return c.sliceMatchers.push({matcher:x,reducer:w}),u},exposeAction(x,w){return c.actionCreators[x]=w,u},exposeCaseReducer(x,w){return c.sliceCaseReducersByName[x]=w,u}};l.forEach(x=>{const w=s[x],N={reducerName:x,type:Ky(i,x),createNotation:typeof o.reducers=="function"};tg(w)?rg(N,w,u,t):eg(N,w,u)});function d(){const[x={},w=[],N=void 0]=typeof o.extraReducers=="function"?Dl(o.extraReducers):[o.extraReducers],k={...x,...c.sliceCaseReducersByType};return Gy(o.initialState,S=>{for(let T in k)S.addCase(T,k[T]);for(let T of c.sliceMatchers)S.addMatcher(T.matcher,T.reducer);for(let T of w)S.addMatcher(T.matcher,T.reducer);N&&S.addDefaultCase(N)})}const f=x=>x,m=new Map;let g;function y(x,w){return g||(g=d()),g(x,w)}function v(){return g||(g=d()),g.getInitialState()}function b(x,w=!1){function N(S){let T=S[x];return typeof T>"u"&&w&&(T=v()),T}function k(S=f){const T=es(m,w,{insert:()=>new WeakMap});return es(T,S,{insert:()=>{const U={};for(const[j,X]of Object.entries(o.selectors??{}))U[j]=Jy(X,S,v,w);return U}})}return{reducerPath:x,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const _={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(a),injectInto(x,{reducerPath:w,...N}={}){const k=w??a;return x.inject({reducerPath:k,reducer:y},N),{..._,...b(k,!0)}}};return _}}function Jy(e,t,n,r){function o(i,...a){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return o.unwrapped=e,o}var ql=Zy();function Qy(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function eg({type:e,reducerName:t,createNotation:n},r,o){let i,a;if("reducer"in r){if(n&&!ng(r))throw new Error(Pe(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Jt(e,a):Jt(e))}function tg(e){return e._reducerDefinitionType==="asyncThunk"}function ng(e){return e._reducerDefinitionType==="reducerWithPrepare"}function rg({type:e,reducerName:t},n,r,o){if(!o)throw new Error(Pe(18));const{payloadCreator:i,fulfilled:a,pending:s,rejected:l,settled:c,options:u}=n,d=o(e,i,u);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:a||nr,pending:s||nr,rejected:l||nr,settled:c||nr})}function nr(){}var og=(e,t)=>{if(typeof e!="function")throw new Error(Pe(32))},Ki="listenerMiddleware",ig=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:i}=e;if(t)o=Jt(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(Pe(21));return og(i),{predicate:o,type:t,effect:i}},ag=Object.assign(e=>{const{type:t,predicate:n,effect:r}=ig(e);return{id:Xy(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Pe(22))}}},{withTypes:()=>ag}),sg=Object.assign(Jt(`${Ki}/add`),{withTypes:()=>sg});Jt(`${Ki}/removeAll`);var lg=Object.assign(Jt(`${Ki}/remove`),{withTypes:()=>lg});function Pe(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Dt=50,cg=()=>[...[...Array(10).keys()].map(e=>({id:fe(),x:et()-Dt*(e+1.5),y:pt()*.48,label:e+1})),...[...Array(10).keys()].map(e=>({id:fe(),x:et()+Dt*(e+.5),y:pt()*.48,label:e+1})),...[...Array(7).keys()].map(e=>({id:fe(),x:et()-Dt*(e+1.5),y:pt()*.58,label:e+1})),...[...Array(7).keys()].map(e=>({id:fe(),x:et()+Dt*(e+.5),y:pt()*.58,label:e+1})),...[...Array(5).keys()].map(e=>({id:fe(),x:et()-Dt*(e+1.5),y:pt()*.68,label:e+1})),...[...Array(5).keys()].map(e=>({id:fe(),x:et()+Dt*(e+.5),y:pt()*.68,label:e+1}))],ug=()=>[{id:fe(),x:et()-600,y:pt()*.18,width:1150,height:100,rx:10,name:"RectangleHorizontal"}],dg=()=>[{id:fe(),x:et()-78,y:pt()*.27,label:"STAGE",fontSize:35,fontWeight:200,letterSpacing:5}],$l="Type your location here",Ll={id:"0",name:"No Section",color:"#ffffff",stroke:"#ffffff"},Fl={id:"0",name:"No Category",color:"#ffffff",textColor:"#ffffff"},Po={initialized:!1,dataSynced:!1,cursor:null,showControls:!1,grid:!1,location:$l,selectedElementIds:[],lastDeselectedElementId:null,categories:[Fl,{id:fe(),name:"Standard",color:"#000000",textColor:"#f7f7f7"},{id:fe(),name:"Premium",color:"#FF0000",textColor:"#f7f7f7"},{id:fe(),name:"VIP",color:"#0000FF",textColor:"#f7f7f7"}],sections:[Ll,{id:fe(),name:"Section 1",color:"#000000",stroke:"#000000",freeSeating:!1},{id:fe(),name:"Section 2",color:"#FF0000",stroke:"#FF0000",freeSeating:!1},{id:fe(),name:"Section 3",color:"#0000FF",stroke:"#0000FF",freeSeating:!1}],selectedPolylineId:null,seats:[],text:[],shapes:[],polylines:[],images:[],initialViewBoxScale:null,initialViewBoxScaleForWidth:null,visibilityOffset:0,airplaneMode:!1},Wl=ql({name:"editor",initialState:Po,reducers:{initializeWorkspace:e=>{e.initialized=!0},resetWorkspace:e=>{e.initialized=!1,e.dataSynced=!1,Object.keys(Po).forEach(t=>{e[t]=Po[t]})},setCursor:(e,t)=>{e.cursor=t.payload},clearCursor:e=>{e.cursor=null},toggleControls:e=>{e.showControls=!e.showControls},showControls:e=>{e.showControls=!0},hideControls:e=>{e.showControls=!1},toggleGrid:(e,t)=>{e.grid=t.payload??!e.grid},setLocation:(e,t)=>{e.location=t.payload},selectElement:(e,t)=>{e.selectedElementIds=e.selectedElementIds.concat(t.payload)},clearAndSelectElements:(e,t)=>{e.selectedElementIds=t.payload},deselectElement:(e,t)=>{e.lastDeselectedElementId=t.payload,e.selectedElementIds=e.selectedElementIds.filter(n=>n!==t.payload)},clearElements:(e,t)=>{t.payload??!1?e.selectedElementIds=[e.selectedElementIds[e.selectedElementIds.length-1]]:e.selectedElementIds=[]},initializeElements:e=>{e.seats=cg(),e.text=dg(),e.shapes=ug(),e.initialized=!0},addSeat(e,t){e.seats.push(t.payload)},deleteSeat(e,t){e.seats=e.seats.filter(n=>n.id!==t.payload)},updateSeat(e,t){const n=e.seats.findIndex(r=>r.id===t.payload.id);e.seats[n]={...e.seats[n],...t.payload}},updateSeats(e,t){e.seats=e.seats.map(n=>t.payload.ids.includes(n.id)?{...n,...t.payload.data}:n)},updateSeatLabels(e,t){t.payload.forEach(n=>{const r=e.seats.findIndex(o=>o.id===n.id);e.seats[r]={...e.seats[r],label:n.label}})},addText(e,t){e.text.push(t.payload)},deleteText(e,t){e.text=e.text.filter(n=>n.id!==t.payload)},updateText(e,t){e.text=e.text.map(n=>t.payload.ids.includes(n.id)?{...n,...t.payload.data}:n)},addShape(e,t){e.shapes.push(t.payload)},deleteShape(e,t){e.shapes=e.shapes.filter(n=>n.id!==t.payload)},addPolyline:(e,t)=>{e.polylines.push(t.payload)},updatePolyline(e,t){const n=e.polylines.findIndex(r=>r.id===t.payload.id);e.polylines[n]={...e.polylines[n],...t.payload}},updatePolylines(e,t){e.polylines=e.polylines.map(n=>t.payload.ids.includes(n.id)?{...n,...t.payload.data}:n)},deletePolyline:(e,t)=>{e.polylines=e.polylines.filter(n=>n.id!==t.payload)},addPolylinePoint:(e,t)=>{e.polylines.find(r=>r.id===t.payload.id).points.push(t.payload.point)},addImage:(e,t)=>{e.images.push(t.payload)},deleteImage:(e,t)=>{e.images=e.images.filter(n=>n.id!==t.payload)},addCategory:(e,t)=>{t.payload??(t.payload={id:fe(),name:"New Category",color:"#000000",textColor:"#f7f7f7"}),e.categories.push(t.payload)},deleteCategory:(e,t)=>{e.categories=e.categories.filter(n=>n.id!==t.payload)},updateCategory:(e,t)=>{const n=e.categories.findIndex(r=>r.id===t.payload.id);e.categories[n]={...e.categories[n],...t.payload}},addSection:e=>{e.sections.push({id:fe(),name:`Section ${e.sections.length+1}`,color:"#000000",stroke:"#000000",freeSeating:!1})},updateSection:(e,t)=>{const n=e.sections.findIndex(r=>r.id===t.payload.id);e.sections[n]={...e.sections[n],...t.payload}},deleteSection:(e,t)=>{e.sections=e.sections.filter(n=>n.id!==t.payload)},setSelectedPolylineId:(e,t)=>{e.selectedPolylineId=t.payload},sync:(e,t)=>{var a,s,l,c;const{name:n,sections:r,categories:o,...i}=t.payload;e.location=n??e.location,e.sections=r?[Ll,...r]:e.sections,e.categories=o?[Fl,...o]:e.categories,e.initialViewBoxScale=(a=i.workspace)==null?void 0:a.initialViewBoxScale,e.initialViewBoxScaleForWidth=(s=i.workspace)==null?void 0:s.initialViewBoxScaleForWidth,e.visibilityOffset=((l=i.workspace)==null?void 0:l.visibilityOffset)??e.visibilityOffset,e.airplaneMode=((c=i.workspace)==null?void 0:c.airplaneMode)??e.airplaneMode,Object.keys(i).forEach(u=>{e[u]=i[u]??e[u]}),e.dataSynced=!0},setInitialViewBoxScale:(e,t)=>{var n;e.initialViewBoxScale=t.payload,e.initialViewBoxScaleForWidth=(n=document.getElementById(G.workspace))==null?void 0:n.clientWidth},setVisibilityOffset:(e,t)=>{e.visibilityOffset=t.payload},deleteElements:(e,t)=>{const n=t.payload;e.seats=e.seats.filter(r=>!n.includes(r.id)),e.text=e.text.filter(r=>!n.includes(r.id)),e.shapes=e.shapes.filter(r=>!n.includes(r.id)),e.polylines=e.polylines.filter(r=>!n.includes(r.id)),e.images=e.images.filter(r=>!n.includes(r.id)),e.selectedElementIds=e.selectedElementIds.filter(r=>!n.includes(r)),e.selectedPolylineId=e.selectedPolylineId&&!n.includes(e.selectedPolylineId)?null:e.selectedPolylineId},toggleAirplaneMode:e=>{e.airplaneMode=!e.airplaneMode}}}),{initializeWorkspace:fg,resetWorkspace:pg,setCursor:Ar,clearCursor:hg,setLocation:mg,toggleControls:Hl,showControls:yg,hideControls:gg,toggleGrid:vg,selectElement:si,deselectElement:ts,clearElements:bg,clearAndSelectElements:ao,initializeElements:wg,addSeat:Ul,deleteSeat:ns,updateSeat:lS,updateSeats:Gl,updateSeatLabels:_g,addText:jl,deleteText:xg,updateText:Sg,addShape:Xl,deleteShape:rs,addPolyline:Yl,updatePolyline:cS,updatePolylines:Cg,deletePolyline:Ng,addPolylinePoint:Eg,addImage:Kl,deleteImage:kg,addCategory:Tg,deleteCategory:Ig,updateCategory:Zl,addSection:Pg,updateSection:Ag,deleteSection:Mg,setSelectedPolylineId:Mr,sync:Rg,setInitialViewBoxScale:Jl,setVisibilityOffset:Ql,deleteElements:Vg,toggleAirplaneMode:Og}=Wl.actions,Bg=e=>Yi(t=>t.editor.polylines,t=>t.find(n=>n.id===e)),zg=e=>Yi(t=>t.editor.text,t=>t.find(n=>n.id===e)),Dg=Wl.reducer;/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const n=h.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:l,...c},u)=>h.createElement("svg",{ref:u,...qg,width:o,height:o,stroke:r,strokeWidth:a?Number(i)*24/Number(o):i,className:["lucide",`lucide-${$g(e)}`,s].join(" "),...c},[...t.map(([d,f])=>h.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=K("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=K("ArrowBigLeft",[["path",{d:"M18 15h-6v4l-7-7 7-7v4h6v6z",key:"lbrdak"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=K("ArrowBigRight",[["path",{d:"M6 9h6V5l7 7-7 7v-4H6V9z",key:"7fvt9c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=K("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=K("CaseSensitive",[["path",{d:"m3 15 4-8 4 8",key:"1vwr6u"}],["path",{d:"M4 13h6",key:"1r9ots"}],["circle",{cx:"18",cy:"12",r:"3",key:"1kchzo"}],["path",{d:"M21 9v6",key:"anns31"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=K("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=K("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=K("Codesandbox",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"7.5 4.21 12 6.81 16.5 4.21",key:"fabo96"}],["polyline",{points:"7.5 19.79 7.5 14.6 3 12",key:"z377f1"}],["polyline",{points:"21 12 16.5 14.6 16.5 19.79",key:"9nrev1"}],["polyline",{points:"3.27 6.96 12 12.01 20.73 6.96",key:"1180pa"}],["line",{x1:"12",x2:"12",y1:"22.08",y2:"12",key:"3z3uq6"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=K("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=K("DraftingCompass",[["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"m3 21 8.02-14.26",key:"1ssaw4"}],["path",{d:"m12.99 6.74 1.93 3.44",key:"iwagvd"}],["path",{d:"M19 12c-3.87 4-10.13 4-14 0",key:"1tsu18"}],["path",{d:"m21 21-2.16-3.84",key:"vylbct"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=K("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=K("FolderCog",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v3.3",key:"1k8050"}],["path",{d:"m21.7 19.4-.9-.3",key:"1qgwi9"}],["path",{d:"m15.2 16.9-.9-.3",key:"1t7mvx"}],["path",{d:"m16.6 21.7.3-.9",key:"1j67ps"}],["path",{d:"m19.1 15.2.3-.9",key:"18r7jp"}],["path",{d:"m19.6 21.7-.4-1",key:"z2vh2"}],["path",{d:"m16.8 15.3-.4-1",key:"1ei7r6"}],["path",{d:"m14.3 19.6 1-.4",key:"11sv9r"}],["path",{d:"m20.7 16.8 1-.4",key:"19m87a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=K("Frame",[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=K("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=K("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=K("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=K("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=K("MousePointerSquareDashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"m12 12 4 10 1.7-4.3L22 16Z",key:"64ilsv"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h2",key:"1qve2z"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v2",key:"p14lih"}],["path",{d:"M3 14v1",key:"vnatye"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=K("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=K("Octagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=K("PanelBottomClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"m15 8-3 3-3-3",key:"1oxy1z"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=K("PanelBottomOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=K("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=K("Pentagon",[["path",{d:"M3.5 8.7c-.7.5-1 1.4-.7 2.2l2.8 8.7c.3.8 1 1.4 1.9 1.4h9.1c.9 0 1.6-.6 1.9-1.4l2.8-8.7c.3-.8 0-1.7-.7-2.2l-7.4-5.3a2.1 2.1 0 0 0-2.4 0Z",key:"hsj90r"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=K("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=K("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=K("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=K("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=K("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=K("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=K("Squircle",[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9",key:"garfkc"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=K("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var de=(e=>(e.Select="Select",e.Eraser="Eraser",e.Seat="Seat",e.Pen="Pen",e.Text="Text",e.Shape="Shapes",e.Image="Image",e.Pan="Pan",e))(de||{});const xn={Select:{icon:({className:e,...t})=>p(is,{...t,className:$(e,"rotate-[15deg]")}),iconCursor:({className:e,...t})=>p(is,{...t,className:$(e,"translate-x-[-30%] translate-y-[-17%] rotate-[15deg]")}),shortcut:"V",description:"Select and move objects"},Eraser:{icon:vv,shortcut:"E",description:"Click on an element to delete it"},Seat:{icon:os,iconCursor:e=>p(os,{...e,size:35,strokeWidth:1.5}),shortcut:"S",crosshairs:!0,description:"Click anywhere to place a seat",subTools:[{name:"Square",icon:li,iconCursor:e=>p(li,{...e,size:38,strokeWidth:1.5})}]},Pen:{icon:as,iconCursor:e=>p(as,{...e,className:$(e.className,"translate-x-[-15%] translate-y-[5%] rotate-[15deg]")}),shortcut:"P",description:"Click anywhere to start drawing a shape"},Text:{icon:Ug,shortcut:"T",description:"Click anywhere to place text"},Shapes:{icon:rc,shortcut:"C",description:"Click anywhere to place a chosen shape from the library"},Image:{icon:nc,shortcut:"I",description:"Upload an image to the workspace"},Pan:{icon:cv,shortcut:"P",description:"Click and drag to pan the workspace"}},_v={selectedTool:de.Select,dock:!0,selectedSubTool:null},ic=ql({name:"toolbar",initialState:_v,reducers:{selectTool:(e,t)=>{e.selectedTool=t.payload,e.selectedSubTool=null},selectSubTool:(e,t)=>{e.selectedSubTool=t.payload},clearTool:e=>{e.selectedTool=null},toggleDock:(e,t)=>{e.dock=t.payload??!e.dock}}}),{clearTool:xv,selectTool:Rr,selectSubTool:Sv,toggleDock:Cv}=ic.actions,Nv=ic.reducer,Ev=Nl({editor:Dg,toolbar:Nv}),kv=!1;function Tv(){return Hy({devTools:kv,reducer:Ev,middleware:e=>e({serializableCheck:{ignoredActions:["editor/setCursor"],ignoredPaths:["editor.cursor"]}}),enhancers(e){const t=[];return e().concat(t)}})}const M=Tv(),Vr=h.forwardRef(({x:e,y:t,id:n,href:r,width:o,height:i,rotation:a,locked:s,consumer:l,isSelected:c,element:u,...d},f)=>{var g,y,v,b,_,x,w,N;const m=k=>{var S,T;l.mode==="user"&&((T=(S=l.events)==null?void 0:S.onImageHover)==null||T.call(S,u,{x:k.clientX,y:k.clientY}))};return p("image",{ref:f,id:n,x:e,y:t,href:r,width:o,height:i,...d,[B.objectLock]:s,className:$("resizable fill-transparent object-cover",c&&"outline outline-2 outline-blue-500 -outline-offset-2",d.className,(b=(v=(y=(g=l.styles)==null?void 0:g.elements)==null?void 0:y.image)==null?void 0:v.base)==null?void 0:b.className),preserveAspectRatio:"none",style:{transform:`rotate(${a??0}deg)`,transformOrigin:"center",...(N=(w=(x=(_=l.styles)==null?void 0:_.elements)==null?void 0:x.image)==null?void 0:w.base)==null?void 0:N.properties},onMouseOver:m})});Vr.displayName="Image";try{Vr.displayName="Image",Vr.__docgenInfo={description:"",displayName:"Image",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},element:{defaultValue:null,description:"",name:"element",required:!1,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},href:{defaultValue:null,description:"",name:"href",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"number"}},locked:{defaultValue:null,description:"",name:"locked",required:!1,type:{name:"boolean"}}}}}catch{}var ac={exports:{}},sc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hn=h;function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pv=typeof Object.is=="function"?Object.is:Iv,Av=Hn.useSyncExternalStore,Mv=Hn.useRef,Rv=Hn.useEffect,Vv=Hn.useMemo,Ov=Hn.useDebugValue;sc.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Mv(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Vv(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),o!==void 0&&a.hasValue){var g=a.value;if(o(g,m))return d=g}return d=m}if(g=d,Pv(u,m))return g;var y=r(m);return o!==void 0&&o(g,y)?g:(u=m,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,o]);var s=Av(e,i[0],i[1]);return Rv(function(){a.hasValue=!0,a.value=s},[s]),Ov(s),s};ac.exports=sc;var Bv=ac.exports,Me="default"in Uo?Qe:Uo,ss=Symbol.for("react-redux-context"),ls=typeof globalThis<"u"?globalThis:{};function zv(){if(!Me.createContext)return{};const e=ls[ss]??(ls[ss]=new Map);let t=e.get(Me.createContext);return t||(t=Me.createContext(null),e.set(Me.createContext,t)),t}var Or=zv(),Dv=()=>{throw new Error("uSES not initialized!")};function lc(e=Or){return function(){return Me.useContext(e)}}var qv=lc(),cc=Dv,$v=e=>{cc=e},Lv=(e,t)=>e===t;function Fv(e=Or){const t=e===Or?qv:lc(e),n=(r,o={})=>{const{equalityFn:i=Lv,devModeChecks:a={}}=typeof o=="function"?{equalityFn:o}:o,{store:s,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=t();Me.useRef(!0);const f=Me.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,a.stabilityCheck]),m=cc(l.addNestedSub,s.getState,c||s.getState,f,i);return Me.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var F=Fv();function Wv(e){e()}function Hv(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Wv(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var cs={notify(){},get:()=>[]};function Uv(e,t){let n,r=cs,o=0,i=!1;function a(y){u();const v=r.subscribe(y);let b=!1;return()=>{b||(b=!0,v(),d())}}function s(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return i}function u(){o++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Hv())}function d(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=cs)}function f(){i||(i=!0,u())}function m(){i&&(i=!1,d())}const g={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return g}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jv=Gv?Me.useLayoutEffect:Me.useEffect;function Xv({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",identityFunctionCheck:i="once"}){const a=Me.useMemo(()=>{const c=Uv(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:i}},[e,r,o,i]),s=Me.useMemo(()=>e.getState(),[e]);jv(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=t||Or;return Me.createElement(l.Provider,{value:a},n)}var uS=Xv;$v(Bv.useSyncExternalStoreWithSelector);const Pt=h.forwardRef(({className:e,type:t,...n},r)=>p("input",{type:t,className:$("flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 py-1 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Pt.displayName="Input";try{Pt.displayName="Input",Pt.__docgenInfo={description:"",displayName:"Input",props:{}}}catch{}const je=h.forwardRef(({className:e,...t},n)=>p("label",{ref:n,className:$("text-sm font-medium leading-none peer-disabled:cursor-not-allowed select-none peer-disabled:opacity-70",e),...t}));je.displayName="Label";try{je.displayName="Label",je.__docgenInfo={description:"",displayName:"Label",props:{}}}catch{}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function us(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uc(...e){return t=>{let n=!1;const r=e.map(o=>{const i=us(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():us(e[o],null)}}}}function ge(...e){return h.useCallback(uc(...e),e)}function sn(e,t=[]){let n=[];function r(i,a){const s=h.createContext(a),l=n.length;n=[...n,a];const c=d=>{var b;const{scope:f,children:m,...g}=d,y=((b=f==null?void 0:f[e])==null?void 0:b[l])||s,v=h.useMemo(()=>g,Object.values(g));return p(y.Provider,{value:v,children:m})};c.displayName=i+"Provider";function u(d,f){var y;const m=((y=f==null?void 0:f[e])==null?void 0:y[l])||s,g=h.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const o=()=>{const i=n.map(a=>h.createContext(a));return function(s){const l=(s==null?void 0:s[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return o.scopeName=e,[r,Yv(o,...t)]}function Yv(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...s,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Qt=h.forwardRef((e,t)=>{const{children:n,...r}=e,o=h.Children.toArray(n),i=o.find(Kv);if(i){const a=i.props.children,s=o.map(l=>l===i?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:l);return p(ci,{...r,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,s):null})}return p(ci,{...r,ref:t,children:n})});Qt.displayName="Slot";var ci=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const o=Jv(n),i=Zv(r,n.props);return n.type!==h.Fragment&&(i.ref=t?uc(t,o):o),h.cloneElement(n,i)}return h.Children.count(n)>1?h.Children.only(null):null});ci.displayName="SlotClone";var dc=({children:e})=>p(Le,{children:e});function Kv(e){return h.isValidElement(e)&&e.type===dc}function Zv(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...s)=>{i(...s),o(...s)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Jv(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=Qv.reduce((e,t)=>{const n=h.forwardRef((r,o)=>{const{asChild:i,...a}=r,s=i?Qt:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p(s,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function e0(e,t){e&&Vi.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function t0(e,t=globalThis==null?void 0:globalThis.document){const n=it(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var n0="DismissableLayer",ui="dismissableLayer.update",r0="dismissableLayer.pointerDownOutside",o0="dismissableLayer.focusOutside",ds,fc=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),so=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...l}=e,c=h.useContext(fc),[u,d]=h.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),g=ge(t,S=>d(S)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),_=u?y.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=b,N=s0(S=>{const T=S.target,U=[...c.branches].some(j=>j.contains(T));!w||U||(o==null||o(S),a==null||a(S),S.defaultPrevented||s==null||s())},f),k=l0(S=>{const T=S.target;[...c.branches].some(j=>j.contains(T))||(i==null||i(S),a==null||a(S),S.defaultPrevented||s==null||s())},f);return t0(S=>{_===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&s&&(S.preventDefault(),s()))},f),h.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ds=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fs(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ds)}},[u,f,n,c]),h.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fs())},[u,c]),h.useEffect(()=>{const S=()=>m({});return document.addEventListener(ui,S),()=>document.removeEventListener(ui,S)},[]),p(he.div,{...l,ref:g,style:{pointerEvents:x?w?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,N.onPointerDownCapture)})});so.displayName=n0;var i0="DismissableLayerBranch",a0=h.forwardRef((e,t)=>{const n=h.useContext(fc),r=h.useRef(null),o=ge(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p(he.div,{...e,ref:o})});a0.displayName=i0;function s0(e,t=globalThis==null?void 0:globalThis.document){const n=it(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=s=>{if(s.target&&!r.current){let l=function(){pc(r0,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function l0(e,t=globalThis==null?void 0:globalThis.document){const n=it(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&pc(o0,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fs(){const e=new CustomEvent(ui);document.dispatchEvent(e)}function pc(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?e0(o,i):o.dispatchEvent(i)}var Ao=0;function hc(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ps()),document.body.insertAdjacentElement("beforeend",e[1]??ps()),Ao++,()=>{Ao===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ao--}},[])}function ps(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mo="focusScope.autoFocusOnMount",Ro="focusScope.autoFocusOnUnmount",hs={bubbles:!1,cancelable:!0},c0="FocusScope",Qi=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=e,[s,l]=h.useState(null),c=it(o),u=it(i),d=h.useRef(null),f=ge(t,y=>l(y)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(x){if(m.paused||!s)return;const w=x.target;s.contains(w)?d.current=w:ut(d.current,{select:!0})},v=function(x){if(m.paused||!s)return;const w=x.relatedTarget;w!==null&&(s.contains(w)||ut(d.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&ut(s)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const _=new MutationObserver(b);return s&&_.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),_.disconnect()}}},[r,s,m.paused]),h.useEffect(()=>{if(s){ys.add(m);const y=document.activeElement;if(!s.contains(y)){const b=new CustomEvent(Mo,hs);s.addEventListener(Mo,c),s.dispatchEvent(b),b.defaultPrevented||(u0(m0(mc(s)),{select:!0}),document.activeElement===y&&ut(s))}return()=>{s.removeEventListener(Mo,c),setTimeout(()=>{const b=new CustomEvent(Ro,hs);s.addEventListener(Ro,u),s.dispatchEvent(b),b.defaultPrevented||ut(y??document.body,{select:!0}),s.removeEventListener(Ro,u),ys.remove(m)},0)}}},[s,c,u,m]);const g=h.useCallback(y=>{if(!n&&!r||m.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(v&&b){const _=y.currentTarget,[x,w]=d0(_);x&&w?!y.shiftKey&&b===w?(y.preventDefault(),n&&ut(x,{select:!0})):y.shiftKey&&b===x&&(y.preventDefault(),n&&ut(w,{select:!0})):b===_&&y.preventDefault()}},[n,r,m.paused]);return p(he.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});Qi.displayName=c0;function u0(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ut(r,{select:t}),document.activeElement!==n)return}function d0(e){const t=mc(e),n=ms(t,e),r=ms(t.reverse(),e);return[n,r]}function mc(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ms(e,t){for(const n of e)if(!f0(n,{upTo:t}))return n}function f0(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function p0(e){return e instanceof HTMLInputElement&&"select"in e}function ut(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&p0(e)&&t&&e.select()}}var ys=h0();function h0(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=gs(e,t),e.unshift(t)},remove(t){var n;e=gs(e,t),(n=e[0])==null||n.resume()}}}function gs(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function m0(e){return e.filter(t=>t.tagName!=="A")}var Te=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},y0=Uo["useId".toString()]||(()=>{}),g0=0;function Un(e){const[t,n]=h.useState(y0());return Te(()=>{e||n(r=>r??String(g0++))},[e]),e||(t?`radix-${t}`:"")}var v0="Arrow",yc=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return p(he.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p("polygon",{points:"0,0 30,0 15,10"})})});yc.displayName=v0;var b0=yc;function gc(e){const[t,n]=h.useState(void 0);return Te(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,s;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ea="Popper",[vc,ln]=sn(ea),[w0,bc]=vc(ea),wc=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return p(w0,{scope:t,anchor:r,onAnchorChange:o,children:n})};wc.displayName=ea;var _c="PopperAnchor",xc=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=bc(_c,n),a=h.useRef(null),s=ge(t,a);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p(he.div,{...o,ref:s})});xc.displayName=_c;var ta="PopperContent",[_0,x0]=vc(ta),Sc=h.forwardRef((e,t)=>{var V,Y,oe,J,ee,re;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...y}=e,v=bc(ta,n),[b,_]=h.useState(null),x=ge(t,Q=>_(Q)),[w,N]=h.useState(null),k=gc(w),S=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,U=r+(i!=="center"?"-"+i:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},X=Array.isArray(c)?c:[c],ie=X.length>0,ne={padding:j,boundary:X.filter(C0),altBoundary:ie},{refs:C,floatingStyles:I,placement:E,isPositioned:P,middlewareData:R}=Ud({strategy:"fixed",placement:U,whileElementsMounted:(...Q)=>Gd(...Q,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[jd({mainAxis:o+T,alignmentAxis:a}),l&&Xd({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Qd():void 0,...ne}),l&&Yd({...ne}),Kd({...ne,apply:({elements:Q,rects:te,availableWidth:me,availableHeight:be})=>{const{width:st,height:Ld}=te.reference,Xn=Q.floating.style;Xn.setProperty("--radix-popper-available-width",`${me}px`),Xn.setProperty("--radix-popper-available-height",`${be}px`),Xn.setProperty("--radix-popper-anchor-width",`${st}px`),Xn.setProperty("--radix-popper-anchor-height",`${Ld}px`)}}),w&&Zd({element:w,padding:s}),N0({arrowWidth:S,arrowHeight:T}),f&&Jd({strategy:"referenceHidden",...ne})]}),[D,q]=Ec(E),W=it(g);Te(()=>{P&&(W==null||W())},[P,W]);const H=(V=R.arrow)==null?void 0:V.x,ce=(Y=R.arrow)==null?void 0:Y.y,Z=((oe=R.arrow)==null?void 0:oe.centerOffset)!==0,[ae,le]=h.useState();return Te(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),p("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:P?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(ee=R.transformOrigin)==null?void 0:ee.y].join(" "),...((re=R.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p(_0,{scope:n,placedSide:D,onArrowChange:N,arrowX:H,arrowY:ce,shouldHideArrow:Z,children:p(he.div,{"data-side":D,"data-align":q,...y,ref:x,style:{...y.style,animation:P?void 0:"none"}})})})});Sc.displayName=ta;var Cc="PopperArrow",S0={top:"bottom",right:"left",bottom:"top",left:"right"},Nc=h.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=x0(Cc,r),a=S0[i.placedSide];return p("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p(b0,{...o,ref:n,style:{...o.style,display:"block"}})})});Nc.displayName=Cc;function C0(e){return e!==null}var N0=e=>({name:"transformOrigin",options:e,fn(t){var v,b,_;const{placement:n,rects:r,middlewareData:o}=t,a=((v=o.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,u]=Ec(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((b=o.arrow)==null?void 0:b.x)??0)+s/2,m=(((_=o.arrow)==null?void 0:_.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=a?d:`${f}px`,y=`${-l}px`):c==="top"?(g=a?d:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=a?d:`${m}px`):c==="left"&&(g=`${r.floating.width+l}px`,y=a?d:`${m}px`),{data:{x:g,y}}}});function Ec(e){const[t,n="center"]=e.split("-");return[t,n]}var na=wc,lo=xc,ra=Sc,oa=Nc,E0="Portal",ia=h.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[o,i]=h.useState(!1);Te(()=>i(!0),[]);const a=n||o&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?Fd.createPortal(p(he.div,{...r,ref:t}),a):null});ia.displayName=E0;function k0(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var co=e=>{const{present:t,children:n}=e,r=T0(t),o=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=ge(r.ref,I0(o));return typeof n=="function"||r.isPresent?h.cloneElement(o,{ref:i}):null};co.displayName="Presence";function T0(e){const[t,n]=h.useState(),r=h.useRef({}),o=h.useRef(e),i=h.useRef("none"),a=e?"mounted":"unmounted",[s,l]=k0(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=rr(r.current);i.current=s==="mounted"?c:"none"},[s]),Te(()=>{const c=r.current,u=o.current;if(u!==e){const f=i.current,m=rr(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Te(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=m=>{const y=rr(r.current).includes(m.animationName);if(m.target===t&&y&&(l("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(i.current=rr(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function rr(e){return(e==null?void 0:e.animationName)||"none"}function I0(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function On({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=P0({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,s=it(n),l=h.useCallback(c=>{if(i){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else o(c)},[i,e,o,s]);return[a,l]}function P0({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,o=h.useRef(r),i=it(t);return h.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}var A0=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qt=new WeakMap,or=new WeakMap,ir={},Vo=0,kc=function(e){return e&&(e.host||kc(e.parentNode))},M0=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kc(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},R0=function(e,t,n,r){var o=M0(t,Array.isArray(e)?e:[e]);ir[n]||(ir[n]=new WeakMap);var i=ir[n],a=[],s=new Set,l=new Set(o),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",y=(qt.get(f)||0)+1,v=(i.get(f)||0)+1;qt.set(f,y),i.set(f,v),a.push(f),y===1&&g&&or.set(f,!0),v===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(t),s.clear(),Vo++,function(){a.forEach(function(d){var f=qt.get(d)-1,m=i.get(d)-1;qt.set(d,f),i.set(d,m),f||(or.has(d)||d.removeAttribute(r),or.delete(d)),m||d.removeAttribute(n)}),Vo--,Vo||(qt=new WeakMap,qt=new WeakMap,or=new WeakMap,ir={})}},Tc=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||A0(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),R0(r,o,n,"aria-hidden")):function(){return null}},mr="right-scroll-bar-position",yr="width-before-scroll-bar",V0="with-scroll-bars-hidden",O0="--removed-body-scroll-bar-size";function Oo(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function B0(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var z0=typeof window<"u"?h.useLayoutEffect:h.useEffect,vs=new WeakMap;function D0(e,t){var n=B0(t||null,function(r){return e.forEach(function(o){return Oo(o,r)})});return z0(function(){var r=vs.get(n);if(r){var o=new Set(r),i=new Set(e),a=n.current;o.forEach(function(s){i.has(s)||Oo(s,null)}),i.forEach(function(s){o.has(s)||Oo(s,a)})}vs.set(n,e)},[e]),n}function q0(e){return e}function $0(e,t){t===void 0&&(t=q0);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(s){return i(s)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(i),a=n}var l=function(){var u=a;a=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return o}function L0(e){e===void 0&&(e={});var t=$0(null);return t.options=ht({async:!0,ssr:!1},e),t}var Ic=function(e){var t=e.sideCar,n=Hs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,ht({},n))};Ic.isSideCarExport=!0;function F0(e,t){return e.useMedium(t),Ic}var Pc=L0(),Bo=function(){},uo=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Bo,onWheelCapture:Bo,onTouchMoveCapture:Bo}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,_=e.gapMode,x=Hs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,N=D0([n,t]),k=ht(ht({},x),o);return h.createElement(h.Fragment,null,u&&h.createElement(w,{sideCar:Pc,removeScrollBar:c,shards:d,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),a?h.cloneElement(h.Children.only(s),ht(ht({},k),{ref:N})):h.createElement(b,ht({},k,{className:l,ref:N}),s))});uo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uo.classNames={fullWidth:yr,zeroRight:mr};function W0(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ef();return t&&e.setAttribute("nonce",t),e}function H0(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U0(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var G0=function(){var e=0,t=null;return{add:function(n){e==0&&(t=W0())&&(H0(t,n),U0(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j0=function(){var e=G0();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ac=function(){var e=j0(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},X0={left:0,top:0,right:0,gap:0},zo=function(e){return parseInt(e||"",10)||0},Y0=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[zo(n),zo(r),zo(o)]},K0=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return X0;var t=Y0(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Z0=Ac(),Gt="data-scroll-locked",J0=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(V0,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Gt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mr,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(yr,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(mr," .").concat(mr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yr," .").concat(yr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gt,`] {
    `).concat(O0,": ").concat(s,`px;
  }
`)},bs=function(){var e=parseInt(document.body.getAttribute(Gt)||"0",10);return isFinite(e)?e:0},Q0=function(){h.useEffect(function(){return document.body.setAttribute(Gt,(bs()+1).toString()),function(){var e=bs()-1;e<=0?document.body.removeAttribute(Gt):document.body.setAttribute(Gt,e.toString())}},[])},eb=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Q0();var i=h.useMemo(function(){return K0(o)},[o]);return h.createElement(Z0,{styles:J0(i,!t,o,n?"":"!important")})},di=!1;if(typeof window<"u")try{var ar=Object.defineProperty({},"passive",{get:function(){return di=!0,!0}});window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{di=!1}var $t=di?{passive:!1}:!1,tb=function(e){return e.tagName==="TEXTAREA"},Mc=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!tb(e)&&n[t]==="visible")},nb=function(e){return Mc(e,"overflowY")},rb=function(e){return Mc(e,"overflowX")},ws=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Rc(e,r);if(o){var i=Vc(e,r),a=i[1],s=i[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ob=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ib=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Rc=function(e,t){return e==="v"?nb(t):rb(t)},Vc=function(e,t){return e==="v"?ob(t):ib(t)},ab=function(e,t){return e==="h"&&t==="rtl"?-1:1},sb=function(e,t,n,r,o){var i=ab(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,f=0;do{var m=Vc(e,s),g=m[0],y=m[1],v=m[2],b=y-v-i*g;(g||b)&&Rc(e,s)&&(d+=b,f+=g),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(o&&Math.abs(d)<1||!o&&a>d)||!u&&(o&&Math.abs(f)<1||!o&&-a>f))&&(c=!0),c},sr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_s=function(e){return[e.deltaX,e.deltaY]},xs=function(e){return e&&"current"in e?e.current:e},lb=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cb=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ub=0,Lt=[];function db(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(ub++)[0],i=h.useState(Ac)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=tf([e.lockRef.current],(e.shards||[]).map(xs),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=h.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var b=sr(y),_=n.current,x="deltaX"in y?y.deltaX:_[0]-b[0],w="deltaY"in y?y.deltaY:_[1]-b[1],N,k=y.target,S=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in y&&S==="h"&&k.type==="range")return!1;var T=ws(S,k);if(!T)return!0;if(T?N=S:(N=S==="v"?"h":"v",T=ws(S,k)),!T)return!1;if(!r.current&&"changedTouches"in y&&(x||w)&&(r.current=N),!N)return!0;var U=r.current||N;return sb(U,v,y,U==="h"?x:w,!0)},[]),l=h.useCallback(function(y){var v=y;if(!(!Lt.length||Lt[Lt.length-1]!==i)){var b="deltaY"in v?_s(v):sr(v),_=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&lb(N.delta,b)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var x=(a.current.shards||[]).map(xs).filter(Boolean).filter(function(N){return N.contains(v.target)}),w=x.length>0?s(v,x[0]):!a.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),c=h.useCallback(function(y,v,b,_){var x={name:y,delta:v,target:b,should:_,shadowParent:fb(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(w){return w!==x})},1)},[]),u=h.useCallback(function(y){n.current=sr(y),r.current=void 0},[]),d=h.useCallback(function(y){c(y.type,_s(y),y.target,s(y,e.lockRef.current))},[]),f=h.useCallback(function(y){c(y.type,sr(y),y.target,s(y,e.lockRef.current))},[]);h.useEffect(function(){return Lt.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,$t),document.addEventListener("touchmove",l,$t),document.addEventListener("touchstart",u,$t),function(){Lt=Lt.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,$t),document.removeEventListener("touchmove",l,$t),document.removeEventListener("touchstart",u,$t)}},[]);var m=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(i,{styles:cb(o)}):null,m?h.createElement(eb,{gapMode:e.gapMode}):null)}function fb(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pb=F0(Pc,db);var Oc=h.forwardRef(function(e,t){return h.createElement(uo,ht({},e,{ref:t,sideCar:pb}))});Oc.classNames=uo.classNames;const Bc=Oc;var aa="Popover",[zc,dS]=sn(aa,[ln]),Gn=ln(),[hb,bt]=zc(aa),Dc=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!1}=e,s=Gn(t),l=h.useRef(null),[c,u]=h.useState(!1),[d=!1,f]=On({prop:r,defaultProp:o,onChange:i});return p(na,{...s,children:p(hb,{scope:t,contentId:Un(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:a,children:n})})};Dc.displayName=aa;var qc="PopoverAnchor",$c=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=bt(qc,n),i=Gn(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=o;return h.useEffect(()=>(a(),()=>s()),[a,s]),p(lo,{...i,...r,ref:t})});$c.displayName=qc;var Lc="PopoverTrigger",Fc=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=bt(Lc,n),i=Gn(n),a=ge(t,o.triggerRef),s=p(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jc(o.open),...r,ref:a,onClick:se(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?s:p(lo,{asChild:!0,...i,children:s})});Fc.displayName=Lc;var sa="PopoverPortal",[mb,yb]=zc(sa,{forceMount:void 0}),Wc=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=bt(sa,t);return p(mb,{scope:t,forceMount:n,children:p(co,{present:n||i.open,children:p(ia,{asChild:!0,container:o,children:r})})})};Wc.displayName=sa;var en="PopoverContent",Hc=h.forwardRef((e,t)=>{const n=yb(en,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=bt(en,e.__scopePopover);return p(co,{present:r||i.open,children:i.modal?p(gb,{...o,ref:t}):p(vb,{...o,ref:t})})});Hc.displayName=en;var gb=h.forwardRef((e,t)=>{const n=bt(en,e.__scopePopover),r=h.useRef(null),o=ge(t,r),i=h.useRef(!1);return h.useEffect(()=>{const a=r.current;if(a)return Tc(a)},[]),p(Bc,{as:Qt,allowPinchZoom:!0,children:p(Uc,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),i.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:se(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),vb=h.forwardRef((e,t)=>{const n=bt(en,e.__scopePopover),r=h.useRef(!1),o=h.useRef(!1);return p(Uc,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,s;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Uc=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,f=bt(en,n),m=Gn(n);return hc(),p(Qi,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:p(so,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:p(ra,{"data-state":jc(f.open),role:"dialog",id:f.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gc="PopoverClose",la=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=bt(Gc,n);return p(he.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>o.onOpenChange(!1))})});la.displayName=Gc;var bb="PopoverArrow",wb=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Gn(n);return p(oa,{...o,...r,ref:t})});wb.displayName=bb;function jc(e){return e?"open":"closed"}var _b=Dc,xb=$c,Sb=Fc,Cb=Wc,Xc=Hc,Nb=la;const tn=_b,nn=Sb,Ss=xb,Br=Nb,At=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>p(Cb,{children:p(Xc,{ref:o,align:t,sideOffset:n,className:$("stk-core z-50 w-72 rounded-md border border-gray-200 bg-popover p-4 py-2 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));At.displayName=Xc.displayName;try{tn.displayName="Popover",tn.__docgenInfo={description:"",displayName:"Popover",props:{}}}catch{}try{nn.displayName="PopoverTrigger",nn.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{At.displayName="PopoverContent",At.__docgenInfo={description:"",displayName:"PopoverContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Ss.displayName="PopoverAnchor",Ss.__docgenInfo={description:"",displayName:"PopoverAnchor",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Br.displayName="PopoverClose",Br.__docgenInfo={description:"",displayName:"PopoverClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}function Cs(e,[t,n]){return Math.min(n,Math.max(t,e))}function Eb(e){const t=e+"CollectionProvider",[n,r]=sn(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:g,children:y}=m,v=Qe.useRef(null),b=Qe.useRef(new Map).current;return p(o,{scope:g,itemMap:b,collectionRef:v,children:y})};a.displayName=t;const s=e+"CollectionSlot",l=Qe.forwardRef((m,g)=>{const{scope:y,children:v}=m,b=i(s,y),_=ge(g,b.collectionRef);return p(Qt,{ref:_,children:v})});l.displayName=s;const c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Qe.forwardRef((m,g)=>{const{scope:y,children:v,...b}=m,_=Qe.useRef(null),x=ge(g,_),w=i(c,y);return Qe.useEffect(()=>(w.itemMap.set(_,{ref:_,...b}),()=>void w.itemMap.delete(_))),p(Qt,{[u]:"",ref:x,children:v})});d.displayName=c;function f(m){const g=i(e+"CollectionConsumer",m);return Qe.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((w,N)=>b.indexOf(w.ref.current)-b.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:l,ItemSlot:d},f,r]}var kb=h.createContext(void 0);function Tb(e){const t=h.useContext(kb);return e||t||"ltr"}function Yc(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ib="VisuallyHidden",ca=h.forwardRef((e,t)=>p(he.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ca.displayName=Ib;var Pb=ca,Ab=[" ","Enter","ArrowUp","ArrowDown"],Mb=[" ","Enter"],jn="Select",[fo,po,Rb]=Eb(jn),[cn,fS]=sn(jn,[Rb,ln]),ho=ln(),[Vb,wt]=cn(jn),[Ob,Bb]=cn(jn),Kc=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:m,form:g}=e,y=ho(t),[v,b]=h.useState(null),[_,x]=h.useState(null),[w,N]=h.useState(!1),k=Tb(c),[S=!1,T]=On({prop:r,defaultProp:o,onChange:i}),[U,j]=On({prop:a,defaultProp:s,onChange:l}),X=h.useRef(null),ie=v?g||!!v.closest("form"):!0,[ne,C]=h.useState(new Set),I=Array.from(ne).map(E=>E.props.value).join(";");return p(na,{...y,children:O(Vb,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:_,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Un(),value:U,onValueChange:j,open:S,onOpenChange:T,dir:k,triggerPointerDownPosRef:X,disabled:f,children:[p(fo.Provider,{scope:t,children:p(Ob,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(E=>{C(P=>new Set(P).add(E))},[]),onNativeOptionRemove:h.useCallback(E=>{C(P=>{const R=new Set(P);return R.delete(E),R})},[]),children:n})}),ie?O(bu,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:U,onChange:E=>j(E.target.value),disabled:f,form:g,children:[U===void 0?p("option",{value:""}):null,Array.from(ne)]},I):null]})})};Kc.displayName=jn;var Zc="SelectTrigger",Jc=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=ho(n),a=wt(Zc,n),s=a.disabled||r,l=ge(t,a.onTriggerChange),c=po(n),u=h.useRef("touch"),[d,f,m]=wu(y=>{const v=c().filter(x=>!x.disabled),b=v.find(x=>x.value===a.value),_=_u(v,y,b);_!==void 0&&a.onValueChange(_.value)}),g=y=>{s||(a.onOpenChange(!0),m()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p(lo,{asChild:!0,...i,children:p(he.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":vu(a.value)?"":void 0,...o,ref:l,onClick:se(o.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&g(y)}),onPointerDown:se(o.onPointerDown,y=>{u.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:se(o.onKeyDown,y=>{const v=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(v&&y.key===" ")&&Ab.includes(y.key)&&(g(),y.preventDefault())})})})});Jc.displayName=Zc;var Qc="SelectValue",eu=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:a="",...s}=e,l=wt(Qc,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=ge(t,l.onValueNodeChange);return Te(()=>{c(u)},[c,u]),p(he.span,{...s,ref:d,style:{pointerEvents:"none"},children:vu(l.value)?p(Le,{children:a}):i})});eu.displayName=Qc;var zb="SelectIcon",tu=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return p(he.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});tu.displayName=zb;var Db="SelectPortal",nu=e=>p(ia,{asChild:!0,...e});nu.displayName=Db;var Mt="SelectContent",ru=h.forwardRef((e,t)=>{const n=wt(Mt,e.__scopeSelect),[r,o]=h.useState();if(Te(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Vi.createPortal(p(ou,{scope:e.__scopeSelect,children:p(fo.Slot,{scope:e.__scopeSelect,children:p("div",{children:e.children})})}),i):null}return p(iu,{...e,ref:t})});ru.displayName=Mt;var De=10,[ou,_t]=cn(Mt),qb="SelectContentImpl",iu=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:v,...b}=e,_=wt(Mt,n),[x,w]=h.useState(null),[N,k]=h.useState(null),S=ge(t,V=>w(V)),[T,U]=h.useState(null),[j,X]=h.useState(null),ie=po(n),[ne,C]=h.useState(!1),I=h.useRef(!1);h.useEffect(()=>{if(x)return Tc(x)},[x]),hc();const E=h.useCallback(V=>{const[Y,...oe]=ie().map(re=>re.ref.current),[J]=oe.slice(-1),ee=document.activeElement;for(const re of V)if(re===ee||(re==null||re.scrollIntoView({block:"nearest"}),re===Y&&N&&(N.scrollTop=0),re===J&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==ee))return},[ie,N]),P=h.useCallback(()=>E([T,x]),[E,T,x]);h.useEffect(()=>{ne&&P()},[ne,P]);const{onOpenChange:R,triggerPointerDownPosRef:D}=_;h.useEffect(()=>{if(x){let V={x:0,y:0};const Y=J=>{var ee,re;V={x:Math.abs(Math.round(J.pageX)-(((ee=D.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(J.pageY)-(((re=D.current)==null?void 0:re.y)??0))}},oe=J=>{V.x<=10&&V.y<=10?J.preventDefault():x.contains(J.target)||R(!1),document.removeEventListener("pointermove",Y),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",oe,{capture:!0})}}},[x,R,D]),h.useEffect(()=>{const V=()=>R(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[R]);const[q,W]=wu(V=>{const Y=ie().filter(ee=>!ee.disabled),oe=Y.find(ee=>ee.ref.current===document.activeElement),J=_u(Y,V,oe);J&&setTimeout(()=>J.ref.current.focus())}),H=h.useCallback((V,Y,oe)=>{const J=!I.current&&!oe;(_.value!==void 0&&_.value===Y||J)&&(U(V),J&&(I.current=!0))},[_.value]),ce=h.useCallback(()=>x==null?void 0:x.focus(),[x]),Z=h.useCallback((V,Y,oe)=>{const J=!I.current&&!oe;(_.value!==void 0&&_.value===Y||J)&&X(V)},[_.value]),ae=r==="popper"?fi:au,le=ae===fi?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:v}:{};return p(ou,{scope:n,content:x,viewport:N,onViewportChange:k,itemRefCallback:H,selectedItem:T,onItemLeave:ce,itemTextRefCallback:Z,focusSelectedItem:P,selectedItemText:j,position:r,isPositioned:ne,searchRef:q,children:p(Bc,{as:Qt,allowPinchZoom:!0,children:p(Qi,{asChild:!0,trapped:_.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:se(o,V=>{var Y;(Y=_.trigger)==null||Y.focus({preventScroll:!0}),V.preventDefault()}),children:p(so,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:p(ae,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:V=>V.preventDefault(),...b,...le,onPlaced:()=>C(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:se(b.onKeyDown,V=>{const Y=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!Y&&V.key.length===1&&W(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let J=ie().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(V.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ee=V.target,re=J.indexOf(ee);J=J.slice(re+1)}setTimeout(()=>E(J)),V.preventDefault()}})})})})})})});iu.displayName=qb;var $b="SelectItemAlignedPosition",au=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=wt(Mt,n),a=_t(Mt,n),[s,l]=h.useState(null),[c,u]=h.useState(null),d=ge(t,S=>u(S)),f=po(n),m=h.useRef(!1),g=h.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:b,focusSelectedItem:_}=a,x=h.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&c&&y&&v&&b){const S=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),j=b.getBoundingClientRect();if(i.dir!=="rtl"){const ee=j.left-T.left,re=U.left-ee,Q=S.left-re,te=S.width+Q,me=Math.max(te,T.width),be=window.innerWidth-De,st=Cs(re,[De,Math.max(De,be-me)]);s.style.minWidth=te+"px",s.style.left=st+"px"}else{const ee=T.right-j.right,re=window.innerWidth-U.right-ee,Q=window.innerWidth-S.right-re,te=S.width+Q,me=Math.max(te,T.width),be=window.innerWidth-De,st=Cs(re,[De,Math.max(De,be-me)]);s.style.minWidth=te+"px",s.style.right=st+"px"}const X=f(),ie=window.innerHeight-De*2,ne=y.scrollHeight,C=window.getComputedStyle(c),I=parseInt(C.borderTopWidth,10),E=parseInt(C.paddingTop,10),P=parseInt(C.borderBottomWidth,10),R=parseInt(C.paddingBottom,10),D=I+E+ne+R+P,q=Math.min(v.offsetHeight*5,D),W=window.getComputedStyle(y),H=parseInt(W.paddingTop,10),ce=parseInt(W.paddingBottom,10),Z=S.top+S.height/2-De,ae=ie-Z,le=v.offsetHeight/2,V=v.offsetTop+le,Y=I+E+V,oe=D-Y;if(Y<=Z){const ee=X.length>0&&v===X[X.length-1].ref.current;s.style.bottom="0px";const re=c.clientHeight-y.offsetTop-y.offsetHeight,Q=Math.max(ae,le+(ee?ce:0)+re+P),te=Y+Q;s.style.height=te+"px"}else{const ee=X.length>0&&v===X[0].ref.current;s.style.top="0px";const Q=Math.max(Z,I+y.offsetTop+(ee?H:0)+le)+oe;s.style.height=Q+"px",y.scrollTop=Y-Z+y.offsetTop}s.style.margin=`${De}px 0`,s.style.minHeight=q+"px",s.style.maxHeight=ie+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,s,c,y,v,b,i.dir,r]);Te(()=>x(),[x]);const[w,N]=h.useState();Te(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const k=h.useCallback(S=>{S&&g.current===!0&&(x(),_==null||_(),g.current=!1)},[x,_]);return p(Fb,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:p("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:p(he.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});au.displayName=$b;var Lb="SelectPopperPosition",fi=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=De,...i}=e,a=ho(n);return p(ra,{...a,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fi.displayName=Lb;var[Fb,ua]=cn(Mt,{}),pi="SelectViewport",su=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=_t(pi,n),a=ua(pi,n),s=ge(t,i.onViewportChange),l=h.useRef(0);return O(Le,{children:[p("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p(fo.Slot,{scope:n,children:p(he.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:se(o.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-De*2,y=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(y,v);if(b<g){const _=b+m,x=Math.min(g,_),w=_-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});su.displayName=pi;var lu="SelectGroup",[Wb,Hb]=cn(lu),Ub=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Un();return p(Wb,{scope:n,id:o,children:p(he.div,{role:"group","aria-labelledby":o,...r,ref:t})})});Ub.displayName=lu;var cu="SelectLabel",Gb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Hb(cu,n);return p(he.div,{id:o.id,...r,ref:t})});Gb.displayName=cu;var zr="SelectItem",[jb,uu]=cn(zr),du=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...a}=e,s=wt(zr,n),l=_t(zr,n),c=s.value===r,[u,d]=h.useState(i??""),[f,m]=h.useState(!1),g=ge(t,_=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,_,r,o)}),y=Un(),v=h.useRef("touch"),b=()=>{o||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p(jb,{scope:n,value:r,disabled:o,textId:y,isSelected:c,onItemTextChange:h.useCallback(_=>{d(x=>x||((_==null?void 0:_.textContent)??"").trim())},[]),children:p(fo.ItemSlot,{scope:n,value:r,disabled:o,textValue:u,children:p(he.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:g,onFocus:se(a.onFocus,()=>m(!0)),onBlur:se(a.onBlur,()=>m(!1)),onClick:se(a.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:se(a.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:se(a.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:se(a.onPointerMove,_=>{var x;v.current=_.pointerType,o?(x=l.onItemLeave)==null||x.call(l):v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(a.onPointerLeave,_=>{var x;_.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:se(a.onKeyDown,_=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&_.key===" "||(Mb.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});du.displayName=zr;var Sn="SelectItemText",fu=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,a=wt(Sn,n),s=_t(Sn,n),l=uu(Sn,n),c=Bb(Sn,n),[u,d]=h.useState(null),f=ge(t,b=>d(b),l.onItemTextChange,b=>{var _;return(_=s.itemTextRefCallback)==null?void 0:_.call(s,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,g=h.useMemo(()=>p("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=c;return Te(()=>(y(g),()=>v(g)),[y,v,g]),O(Le,{children:[p(he.span,{id:l.textId,...i,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Vi.createPortal(i.children,a.valueNode):null]})});fu.displayName=Sn;var pu="SelectItemIndicator",hu=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return uu(pu,n).isSelected?p(he.span,{"aria-hidden":!0,...r,ref:t}):null});hu.displayName=pu;var hi="SelectScrollUpButton",mu=h.forwardRef((e,t)=>{const n=_t(hi,e.__scopeSelect),r=ua(hi,e.__scopeSelect),[o,i]=h.useState(!1),a=ge(t,r.onScrollButtonChange);return Te(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),o?p(gu,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});mu.displayName=hi;var mi="SelectScrollDownButton",yu=h.forwardRef((e,t)=>{const n=_t(mi,e.__scopeSelect),r=ua(mi,e.__scopeSelect),[o,i]=h.useState(!1),a=ge(t,r.onScrollButtonChange);return Te(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),o?p(gu,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});yu.displayName=mi;var gu=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=_t("SelectScrollButton",n),a=h.useRef(null),s=po(n),l=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),Te(()=>{var u;const c=s().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),p(he.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:se(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:se(o.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:se(o.onPointerLeave,()=>{l()})})}),Xb="SelectSeparator",Yb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p(he.div,{"aria-hidden":!0,...r,ref:t})});Yb.displayName=Xb;var yi="SelectArrow",Kb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ho(n),i=wt(yi,n),a=_t(yi,n);return i.open&&a.position==="popper"?p(oa,{...o,...r,ref:t}):null});Kb.displayName=yi;function vu(e){return e===""||e===void 0}var bu=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=h.useRef(null),i=ge(t,o),a=Yc(n);return h.useEffect(()=>{const s=o.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&u){const d=new Event("change",{bubbles:!0});u.call(s,n),s.dispatchEvent(d)}},[a,n]),p(ca,{asChild:!0,children:p("select",{...r,ref:i,defaultValue:n})})});bu.displayName="BubbleSelect";function wu(e){const t=it(e),n=h.useRef(""),r=h.useRef(0),o=h.useCallback(a=>{const s=n.current+a;t(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function _u(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=Zb(e,Math.max(i,0));o.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function Zb(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Jb=Kc,xu=Jc,Qb=eu,ew=tu,tw=nu,Su=ru,nw=su,Cu=du,rw=fu,ow=hu,Nu=mu,Eu=yu;const Dr=Jb,qr=Qb,Bn=h.forwardRef(({className:e,children:t,...n},r)=>O(xu,{ref:r,className:$("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-gray-200 bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,p(ew,{asChild:!0,children:p(Yg,{className:"h-4 w-4 opacity-50"})})]}));Bn.displayName=xu.displayName;const ku=h.forwardRef(({className:e,...t},n)=>p(Nu,{ref:n,className:$("flex cursor-default items-center justify-center py-1",e),...t,children:p(tc,{})}));ku.displayName=Nu.displayName;const Tu=h.forwardRef(({className:e,...t},n)=>p(Eu,{ref:n,className:$("flex cursor-default items-center justify-center py-1",e),...t,children:p(ec,{})}));Tu.displayName=Eu.displayName;const zn=h.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>p(tw,{children:O(Su,{ref:o,className:$("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p(ku,{}),p(nw,{className:$("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),p(Tu,{})]})}));zn.displayName=Su.displayName;const Dn=h.forwardRef(({className:e,children:t,...n},r)=>O(Cu,{ref:r,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:p(ow,{children:p(Gg,{className:"h-4 w-4"})})}),p(rw,{children:t})]}));Dn.displayName=Cu.displayName;try{Dr.displayName="Select",Dr.__docgenInfo={description:"",displayName:"Select",props:{}}}catch{}try{qr.displayName="SelectValue",qr.__docgenInfo={description:"",displayName:"SelectValue",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Bn.displayName="SelectTrigger",Bn.__docgenInfo={description:"",displayName:"SelectTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{zn.displayName="SelectContent",zn.__docgenInfo={description:"",displayName:"SelectContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Dn.displayName="SelectItem",Dn.__docgenInfo={description:"",displayName:"SelectItem",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}var da="Switch",[iw,pS]=sn(da),[aw,sw]=iw(da),Iu=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[f,m]=h.useState(null),g=ge(t,x=>m(x)),y=h.useRef(!1),v=f?u||!!f.closest("form"):!0,[b=!1,_]=On({prop:o,defaultProp:i,onChange:c});return O(aw,{scope:n,checked:b,disabled:s,children:[p(he.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":Mu(b),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:g,onClick:se(e.onClick,x=>{_(w=>!w),v&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),v&&p(lw,{control:f,bubbles:!y.current,name:r,value:l,checked:b,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Iu.displayName=da;var Pu="SwitchThumb",Au=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=sw(Pu,n);return p(he.span,{"data-state":Mu(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Au.displayName=Pu;var lw=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=h.useRef(null),a=Yc(n),s=gc(t);return h.useEffect(()=>{const l=i.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[a,n,r]),p("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:i,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Mu(e){return e?"checked":"unchecked"}var Ru=Iu,cw=Au;const yt=h.forwardRef(({className:e,...t},n)=>p(Ru,{className:$("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-slate-200",e),...t,ref:n,children:p(cw,{className:$("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yt.displayName=Ru.displayName;try{yt.displayName="Switch",yt.__docgenInfo={description:"",displayName:"Switch",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{body.displayName="body",body.__docgenInfo={description:"",displayName:"body",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{callout.displayName="callout",callout.__docgenInfo={description:"",displayName:"callout",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{caption.displayName="caption",caption.__docgenInfo={description:"",displayName:"caption",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Body.displayName="Body",Body.__docgenInfo={description:"",displayName:"Body",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Callout.displayName="Callout",Callout.__docgenInfo={description:"",displayName:"Callout",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Caption.displayName="Caption",Caption.__docgenInfo={description:"",displayName:"Caption",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}var[mo,hS]=sn("Tooltip",[ln]),yo=ln(),Vu="TooltipProvider",uw=700,gi="tooltip.open",[dw,fa]=mo(Vu),Ou=e=>{const{__scopeTooltip:t,delayDuration:n=uw,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[a,s]=h.useState(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),p(dw,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:i})};Ou.displayName=Vu;var go="Tooltip",[fw,vo]=mo(go),Bu=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:s}=e,l=fa(go,e.__scopeTooltip),c=yo(t),[u,d]=h.useState(null),f=Un(),m=h.useRef(0),g=a??l.disableHoverableContent,y=s??l.delayDuration,v=h.useRef(!1),[b=!1,_]=On({prop:r,defaultProp:o,onChange:S=>{S?(l.onOpen(),document.dispatchEvent(new CustomEvent(gi))):l.onClose(),i==null||i(S)}}),x=h.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),w=h.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,_(!0)},[_]),N=h.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_(!1)},[_]),k=h.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,_(!0),m.current=0},y)},[y,_]);return h.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),p(na,{...c,children:p(fw,{scope:t,contentId:f,open:b,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:h.useCallback(()=>{l.isOpenDelayed?k():w()},[l.isOpenDelayed,k,w]),onTriggerLeave:h.useCallback(()=>{g?N():(window.clearTimeout(m.current),m.current=0)},[N,g]),onOpen:w,onClose:N,disableHoverableContent:g,children:n})})};Bu.displayName=go;var vi="TooltipTrigger",zu=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=vo(vi,n),i=fa(vi,n),a=yo(n),s=h.useRef(null),l=ge(t,s,o.onTriggerChange),c=h.useRef(!1),u=h.useRef(!1),d=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p(lo,{asChild:!0,...a,children:p(he.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:se(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:se(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:se(e.onFocus,()=>{c.current||o.onOpen()}),onBlur:se(e.onBlur,o.onClose),onClick:se(e.onClick,o.onClose)})})});zu.displayName=vi;var pw="TooltipPortal",[mS,hw]=mo(pw,{forceMount:void 0}),rn="TooltipContent",Du=h.forwardRef((e,t)=>{const n=hw(rn,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,a=vo(rn,e.__scopeTooltip);return p(co,{present:r||a.open,children:a.disableHoverableContent?p(qu,{side:o,...i,ref:t}):p(mw,{side:o,...i,ref:t})})}),mw=h.forwardRef((e,t)=>{const n=vo(rn,e.__scopeTooltip),r=fa(rn,e.__scopeTooltip),o=h.useRef(null),i=ge(t,o),[a,s]=h.useState(null),{trigger:l,onClose:c}=n,u=o.current,{onPointerInTransitChange:d}=r,f=h.useCallback(()=>{s(null),d(!1)},[d]),m=h.useCallback((g,y)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},_=bw(b,v.getBoundingClientRect()),x=ww(b,_),w=_w(y.getBoundingClientRect()),N=Sw([...x,...w]);s(N),d(!0)},[d]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(l&&u){const g=v=>m(v,u),y=v=>m(v,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",y)}}},[l,u,m,f]),h.useEffect(()=>{if(a){const g=y=>{const v=y.target,b={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),x=!xw(b,a);_?f():x&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,a,c,f]),p(qu,{...e,ref:i})}),[yw,gw]=mo(go,{isInside:!1}),qu=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...s}=e,l=vo(rn,n),c=yo(n),{onClose:u}=l;return h.useEffect(()=>(document.addEventListener(gi,u),()=>document.removeEventListener(gi,u)),[u]),h.useEffect(()=>{if(l.trigger){const d=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p(so,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:O(ra,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p(dc,{children:r}),p(yw,{scope:n,isInside:!0,children:p(Pb,{id:l.contentId,role:"tooltip",children:o||r})})]})})});Du.displayName=rn;var $u="TooltipArrow",vw=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=yo(n);return gw($u,n).isInside?null:p(oa,{...o,...r,ref:t})});vw.displayName=$u;function bw(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ww(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function _w(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function xw(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const s=t[i].x,l=t[i].y,c=t[a].x,u=t[a].y;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(o=!o)}return o}function Sw(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Cw(t)}function Cw(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Nw=Ou,Ew=Bu,kw=zu,Lu=Du;const Ns=e=>p(Nw,{delayDuration:100,...e}),gt=Ew,vt=kw,at=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p(Lu,{ref:r,sideOffset:t,className:$("z-50 overflow-hidden rounded-md border border-gray-200 bg-white px-3 py-1 text-sm text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));at.displayName=Lu.displayName;try{gt.displayName="Tooltip",gt.__docgenInfo={description:"",displayName:"Tooltip",props:{}}}catch{}try{vt.displayName="TooltipTrigger",vt.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{at.displayName="TooltipContent",at.__docgenInfo={description:"",displayName:"TooltipContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Ns.displayName="TooltipProvider",Ns.__docgenInfo={description:"",displayName:"TooltipProvider",props:{}}}catch{}const Tw=({component:e,className:t,style:n,duration:r=.3})=>{const[o,i]=h.useState(0),[a,s]=h.useState(e);return h.useEffect(()=>{i(0),setTimeout(()=>{s(e),i(1)},r/2*1e3)},[]),p("div",{className:$("w-full h-full",t),style:{...n,transitionDuration:`${r/2}s`,opacity:o},children:a})};try{animatedswitcher.displayName="animatedswitcher",animatedswitcher.__docgenInfo={description:"",displayName:"animatedswitcher",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},duration:{defaultValue:{value:"0.3"},description:"",name:"duration",required:!1,type:{name:"number"}}}}}catch{}function Fu(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Fu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Iw(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Fu(e))&&(r&&(r+=" "),r+=t);return r}const Es=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ks=Iw,Pw=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ks(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Es(u)||Es(d);return o[c][f]}),s=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...m}=u;return Object.entries(m).every(g=>{let[y,v]=g;return Array.isArray(v)?v.includes({...i,...s}[y]):{...i,...s}[y]===v})?[...c,d,f]:c},[]);return ks(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},Aw=Pw("group flex justify-center items-center cursor-pointer rounded-md font-medium outline-none transition-all duration-medium splash",{variants:{variant:{primary:"bg-black text-white",secondary:"text-black bg-slate-100 hover:bg-slate-200/75 after:bg-black/[0.15]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),Ts=({variant:e="primary",children:t,loading:n,className:r,...o})=>O("div",{role:"button",className:$(Aw({variant:e}),n?"gap-2":"gap-0",r,n||o.disabled?"opacity-80 pointer-events-none":""),disabled:n||o.disabled,...o,children:[n!==void 0&&p("div",{className:`${n?"opacity-100 ml-0":"opacity-0 pointer-events-none -mr-4"} transition-all duration-150`,children:O("svg",{"aria-hidden":"true",className:"w-[1.125rem] h-[1.125rem] text-gray-500 animate-spin dark:text-gray-600 fill-white",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),p("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),t]}),Ee=({to:e,wrapperClassName:t,target:n,ariaLabel:r,...o})=>e?p("a",{href:e,target:n??"_self",className:t,"aria-label":r,children:p(Ts,{...o})}):p(Ts,{...o});try{button.displayName="button",button.__docgenInfo={description:"",displayName:"button",props:{to:{defaultValue:null,description:"",name:"to",required:!1,type:{name:"string"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"primary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}const Ue=({label:e,icon:t,className:n,...r})=>{const o=p(Ee,{className:$("px-2",r.disabled&&"opacity-80 pointer-events-none",n),disabled:r.disabled,...r,children:t});return e?O(gt,{children:[p(vt,{children:o}),p(at,{children:p("p",{children:e})})]}):o};try{iconbutton.displayName="iconbutton",iconbutton.__docgenInfo={description:"",displayName:"iconbutton",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"ReactNode"}},to:{defaultValue:null,description:"",name:"to",required:!1,type:{name:"string"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}try{AnimatedSwitcher.displayName="AnimatedSwitcher",AnimatedSwitcher.__docgenInfo={description:"",displayName:"AnimatedSwitcher",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},duration:{defaultValue:{value:"0.3"},description:"",name:"duration",required:!1,type:{name:"number"}}}}}catch{}try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{to:{defaultValue:null,description:"",name:"to",required:!1,type:{name:"string"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"primary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}try{IconButton.displayName="IconButton",IconButton.__docgenInfo={description:"",displayName:"IconButton",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"ReactNode"}},to:{defaultValue:null,description:"",name:"to",required:!1,type:{name:"string"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{}}}catch{}try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{}}}catch{}try{Popover.displayName="Popover",Popover.__docgenInfo={description:"",displayName:"Popover",props:{}}}catch{}try{PopoverTrigger.displayName="PopoverTrigger",PopoverTrigger.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{PopoverContent.displayName="PopoverContent",PopoverContent.__docgenInfo={description:"",displayName:"PopoverContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{PopoverAnchor.displayName="PopoverAnchor",PopoverAnchor.__docgenInfo={description:"",displayName:"PopoverAnchor",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{PopoverClose.displayName="PopoverClose",PopoverClose.__docgenInfo={description:"",displayName:"PopoverClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{}}}catch{}try{SelectValue.displayName="SelectValue",SelectValue.__docgenInfo={description:"",displayName:"SelectValue",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectTrigger.displayName="SelectTrigger",SelectTrigger.__docgenInfo={description:"",displayName:"SelectTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectContent.displayName="SelectContent",SelectContent.__docgenInfo={description:"",displayName:"SelectContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectItem.displayName="SelectItem",SelectItem.__docgenInfo={description:"",displayName:"SelectItem",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Switch.displayName="Switch",Switch.__docgenInfo={description:"",displayName:"Switch",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Body.displayName="Body",Body.__docgenInfo={description:"",displayName:"Body",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Callout.displayName="Callout",Callout.__docgenInfo={description:"",displayName:"Callout",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Caption.displayName="Caption",Caption.__docgenInfo={description:"",displayName:"Caption",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{}}}catch{}try{TooltipTrigger.displayName="TooltipTrigger",TooltipTrigger.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{TooltipContent.displayName="TooltipContent",TooltipContent.__docgenInfo={description:"",displayName:"TooltipContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{TooltipProvider.displayName="TooltipProvider",TooltipProvider.__docgenInfo={description:"",displayName:"TooltipProvider",props:{}}}catch{}const bi=e=>{var t,n,r,o;return p("div",{id:G.reloader,className:$("w-8 h-8 p-2 rounded-md bg-slate-100 cursor-pointer splash",(n=(t=e.styles)==null?void 0:t.reloadButton)==null?void 0:n.className),onClick:e==null?void 0:e.onReload,role:"button",style:(o=(r=e.styles)==null?void 0:r.reloadButton)==null?void 0:o.properties,children:p(mv,{size:16})})},Mw=h.memo(bi);try{bi.displayName="Reloader",bi.__docgenInfo={description:"",displayName:"Reloader",props:{onReload:{defaultValue:null,description:"",name:"onReload",required:!0,type:{name:"() => void"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}}}}}catch{}const Rw=()=>M.dispatch(Og()),wi=e=>{var n,r,o,i,a,s,l,c,u,d,f,m,g,y,v,b,_,x,w,N,k,S;const t=F(T=>T.editor.airplaneMode);return O(gt,{children:[p(vt,{className:(i=(o=(r=(n=e.styles)==null?void 0:n.core)==null?void 0:r.tooltip)==null?void 0:o.trigger)==null?void 0:i.className,style:(c=(l=(s=(a=e.styles)==null?void 0:a.core)==null?void 0:s.tooltip)==null?void 0:l.trigger)==null?void 0:c.properties,children:p(Ee,{variant:t?"primary":"secondary",className:$("w-8 h-8 p-2",(f=(d=(u=e.styles)==null?void 0:u.airplaneControl)==null?void 0:d.button)==null?void 0:f.className),onClick:Rw,style:(y=(g=(m=e.styles)==null?void 0:m.airplaneControl)==null?void 0:g.button)==null?void 0:y.properties,children:p(pv,{size:16})})}),O(at,{sideOffset:15,className:(x=(_=(b=(v=e.styles)==null?void 0:v.core)==null?void 0:b.tooltip)==null?void 0:_.content)==null?void 0:x.className,style:(S=(k=(N=(w=e.styles)==null?void 0:w.core)==null?void 0:N.tooltip)==null?void 0:k.content)==null?void 0:S.properties,children:[t?"Disable":"Enable"," Airplane Mode"]})]})};try{wi.displayName="AirplaneMode",wi.__docgenInfo={description:"",displayName:"AirplaneMode",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}function Vw(){const e=F(t=>t.toolbar.dock);return p("div",{className:$("w-8 h-8 p-2 rounded-md bg-slate-100 cursor-pointer splash transition-all duration-300 ease-in-out"),role:"button",onClick:()=>M.dispatch(Cv(void 0)),children:e?p(dv,{size:16}):p(fv,{size:16})})}const Wu=h.memo(Vw),Ow=()=>M.dispatch(Jl(z.zoomTransform(document.querySelector(Ge.workspaceGroup)).k)),Bw=()=>M.dispatch(Jl(null)),zw=()=>{const e=z.zoomTransform(document.querySelector(Ge.workspaceGroup)).k;M.dispatch(Ql(e)),z.select(Ge.workspaceGroup).attr(B.visibilityOffset,e)},Dw=()=>{z.select(Ge.workspaceGroup).attr(B.visibilityOffset,0),M.dispatch(Ql(0)),u_()},_i=e=>{var n,r,o,i,a,s,l,c,u,d,f,m,g,y,v,b,_,x,w,N,k,S;const t=F(T=>T.editor.initialViewBoxScale);return O(gt,{children:[p(vt,{className:(i=(o=(r=(n=e.styles)==null?void 0:n.core)==null?void 0:r.tooltip)==null?void 0:o.trigger)==null?void 0:i.className,style:(c=(l=(s=(a=e.styles)==null?void 0:a.core)==null?void 0:s.tooltip)==null?void 0:l.trigger)==null?void 0:c.properties,children:p(Ee,{variant:t?"primary":"secondary",className:$("w-8 h-8 p-2",(f=(d=(u=e.styles)==null?void 0:u.visibilityControls)==null?void 0:d.buttons)==null?void 0:f.className),onClick:t?Bw:Ow,style:(y=(g=(m=e.styles)==null?void 0:m.visibilityControls)==null?void 0:g.buttons)==null?void 0:y.properties,children:t?p(av,{size:16}):p(wv,{size:16})})}),p(at,{sideOffset:15,className:(x=(_=(b=(v=e.styles)==null?void 0:v.core)==null?void 0:b.tooltip)==null?void 0:_.content)==null?void 0:x.className,style:(S=(k=(N=(w=e.styles)==null?void 0:w.core)==null?void 0:N.tooltip)==null?void 0:k.content)==null?void 0:S.properties,children:t?"Unlock initial scale":"Lock initial scale"})]})},xi=e=>{var n,r,o,i,a,s,l,c,u,d,f,m,g,y,v,b,_,x,w,N,k,S;const t=F(T=>T.editor.visibilityOffset);return O(gt,{children:[p(vt,{className:(i=(o=(r=(n=e.styles)==null?void 0:n.core)==null?void 0:r.tooltip)==null?void 0:o.trigger)==null?void 0:i.className,style:(c=(l=(s=(a=e.styles)==null?void 0:a.core)==null?void 0:s.tooltip)==null?void 0:l.trigger)==null?void 0:c.properties,children:p(Ee,{variant:t===0?"secondary":"primary",className:$("w-8 h-8 p-2",(f=(d=(u=e.styles)==null?void 0:u.visibilityControls)==null?void 0:d.buttons)==null?void 0:f.className),onClick:t===0?zw:Dw,style:(y=(g=(m=e.styles)==null?void 0:m.visibilityControls)==null?void 0:g.buttons)==null?void 0:y.properties,children:t===0?p(yv,{size:16}):p(tv,{size:16})})}),p(at,{sideOffset:15,className:(x=(_=(b=(v=e.styles)==null?void 0:v.core)==null?void 0:b.tooltip)==null?void 0:_.content)==null?void 0:x.className,style:(S=(k=(N=(w=e.styles)==null?void 0:w.core)==null?void 0:N.tooltip)==null?void 0:k.content)==null?void 0:S.properties,children:t===0?"Set visibility offset":"Unset visibility offset"})]})};try{_i.displayName="VisibilityFreezeScale",_i.__docgenInfo={description:"",displayName:"VisibilityFreezeScale",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}}}}}catch{}try{xi.displayName="VisibilityOffset",xi.__docgenInfo={description:"",displayName:"VisibilityOffset",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}}}}}catch{}const qw=Oi((e,t)=>{const n=+e.attr(B.visibilityOffset)||0;if(n){const r=+e.attr(B.initialViewBoxScaleForWidth);t*1.1<pa(n,r)?l_():c_()}},25);function $w(e){const t=z.select(Ge.workspaceGroup);qw(t,e.transform.k),t.attr("transform",e.transform)}const Be=z.zoom().on("zoom",$w),Lw=()=>{z.selectById(G.workspace).transition().call(Be.scaleBy,1.1)},Fw=()=>{z.selectById(G.workspace).transition().call(Be.scaleBy,.9)},Ww=(e=50,t=250)=>{z.selectById(G.workspace).transition().duration(t).call(Be.translateBy,e,0)},Hw=(e=50,t=250)=>{z.selectById(G.workspace).transition().duration(t).call(Be.translateBy,-1*e,0)},Uw=(e=50,t=250)=>{z.selectById(G.workspace).transition().duration(t).call(Be.translateBy,0,e)},Gw=(e=50,t=250)=>{z.selectById(G.workspace).transition().duration(t).call(Be.translateBy,0,-1*e)},Si=({k:e,x:t,y:n})=>{z.selectById(G.workspace).call(Be.transform,z.zoomIdentity.translate(t,n).scale(e))},Ci=({k:e,x:t,y:n})=>{z.selectById(G.workspace).transition().duration(1e3).call(Be.scaleTo,e,[t,n])},jw=e=>{var f,m,g,y,v,b,_,x,w,N,k,S,T,U,j,X,ie,ne,C,I,E,P,R,D,q,W,H,ce,Z,ae,le;const t=F(V=>V.toolbar.dock),n=F(V=>V.toolbar.selectedTool);h.useLayoutEffect(()=>{const V=z.selectById(G.workspace);if(V.on("zoom",null),n==de.Pan)V.call(Be);else{const Y=V.call(Be).on("wheel.zoom",oe=>{oe.preventDefault();const J=V.property("__zoom").k||1;if(oe.ctrlKey){const ee=J*Math.pow(2,-oe.deltaY*.01);Be.scaleTo(V,ee,z.pointer(oe))}else Be.translateBy(V,-(oe.deltaX/J),-(oe.deltaY/J))});e.mode!=="user"&&Y.on("mousedown.zoom",null)}},[n]);const r=(f=e.styles)==null?void 0:f.zoomControls,o=(m=e.styles)==null?void 0:m.panControls,i=(g=e.styles)==null?void 0:g.dock,a=e.mode==="designer",s=((y=e.options)==null?void 0:y.showZoomControls)??!0,l=a&&(((v=e.options)==null?void 0:v.showVisibilityControls)??!0),c=a&&((b=e.options)==null?void 0:b.showAirplaneControl),u=((_=e.options)==null?void 0:_.showReloadButton)??!1,d=e.mode==="user";return O(Le,{children:[d&&O("div",{id:G.reloader,className:"absolute top-4 right-4 flex flex-col gap-2",children:[u&&p(Mw,{mode:e.mode,options:e.options,styles:e.styles,onReload:(x=e.events)==null?void 0:x.onReload}),(s||l)&&p(Wu,{})]}),(s||l)&&p("div",{className:$("absolute overflow-clip bottom-0 pb-4 left-0 right-0 flex justify-center items-center pointer-events-none",(w=i==null?void 0:i.root)==null?void 0:w.className),children:O("div",{id:G.zoomControls,className:$("border border-gray-200 w-fit bg-white p-2 overflow-x-auto rounded-lg flex justify-center [&>div]:shrink-0 gap-2 transition-all duration-500 ease-in-out opacity-100 pointer-events-auto",(N=i==null?void 0:i.container)==null?void 0:N.className,!t&&"translate-y-20 opacity-0"),style:(k=i==null?void 0:i.container)==null?void 0:k.properties,children:[l&&p(_i,{...e}),s&&O(Le,{children:[p(Ee,{variant:"secondary",className:$("w-8 h-8 p-2",(T=(S=o==null?void 0:o.handles)==null?void 0:S.left)==null?void 0:T.className),onClick:()=>Ww(),style:(j=(U=o==null?void 0:o.handles)==null?void 0:U.left)==null?void 0:j.properties,children:p(jg,{size:16})}),p(Ee,{variant:"secondary",className:$("w-8 h-8 p-2",(ie=(X=o==null?void 0:o.handles)==null?void 0:X.right)==null?void 0:ie.className),onClick:()=>Hw(),style:(C=(ne=o==null?void 0:o.handles)==null?void 0:ne.right)==null?void 0:C.properties,children:p(Xg,{size:16})}),p(Ee,{variant:"secondary",className:$("w-8 h-8 p-2",(I=r==null?void 0:r.out)==null?void 0:I.className),onClick:Fw,style:(E=r==null?void 0:r.out)==null?void 0:E.properties,children:p(sv,{size:16})}),p(Ee,{variant:"secondary",className:$("w-8 h-8 p-2",(P=r==null?void 0:r.in)==null?void 0:P.className),onClick:Lw,style:(R=r==null?void 0:r.in)==null?void 0:R.properties,children:p(Zi,{size:16})}),p(Ee,{variant:"secondary",className:$("w-8 h-8 p-2",(q=(D=o==null?void 0:o.handles)==null?void 0:D.up)==null?void 0:q.className),onClick:()=>Uw(),style:(H=(W=o==null?void 0:o.handles)==null?void 0:W.up)==null?void 0:H.properties,children:p(tc,{size:16})}),p(Ee,{variant:"secondary",className:$("w-8 h-8 p-2",(Z=(ce=o==null?void 0:o.handles)==null?void 0:ce.down)==null?void 0:Z.className),onClick:()=>Gw(),style:(le=(ae=o==null?void 0:o.handles)==null?void 0:ae.down)==null?void 0:le.properties,children:p(ec,{size:16})})]}),l&&p(xi,{...e}),c&&p(wi,{})]})})]})};try{Si.displayName="panAndZoom",Si.__docgenInfo={description:"",displayName:"panAndZoom",props:{k:{defaultValue:null,description:"",name:"k",required:!0,type:{name:"any"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"any"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"any"}}}}}catch{}try{Ci.displayName="panAndZoomToArea",Ci.__docgenInfo={description:"",displayName:"panAndZoomToArea",props:{k:{defaultValue:null,description:"",name:"k",required:!0,type:{name:"any"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"any"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"any"}}}}}catch{}try{dock.displayName="dock",dock.__docgenInfo={description:"",displayName:"dock",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"IEvents"}}}}}catch{}const $r=h.forwardRef(({id:e,points:t,color:n,stroke:r,sections:o,categories:i,section:a,onClick:s,rotation:l,consumer:c,isSelected:u,element:d,...f},m)=>{var v,b,_,x,w,N,k,S,T,U,j,X,ie,ne,C,I,E,P,R,D,q,W,H,ce;const g=h.useMemo(()=>{var Z;return(Z=o==null?void 0:o.find)==null?void 0:Z.call(o,ae=>ae.id===a)},[o,a]),y=Z=>{var ae,le,V,Y,oe;if(s(Z),g){if((le=(ae=c.events)==null?void 0:ae.onSectionClick)==null||le.call(ae,g),(V=c.events)!=null&&V.onFreeSeatClick&&g.freeSeating){const J=i==null?void 0:i.find(ee=>ee.section===g.id);J&&c.events.onFreeSeatClick({category:{...J,section:g}})}if(!g.freeSeating){const J=+z.select(Ge.workspaceGroup).attr(B.visibilityOffset);if(J>0){const ee=Uu(Z);Ci({k:pa(J,(oe=(Y=c.data)==null?void 0:Y.workspace)==null?void 0:oe.initialViewBoxScaleForWidth)*1.1,x:ee.x,y:ee.y})}}}};return p("polyline",{ref:m,id:e,points:t.map(Z=>`${Z.x},${Z.y}`).join(" "),onClick:y,...f,style:{color:(g==null?void 0:g.color)??n??"transparent",stroke:(g==null?void 0:g.stroke)??r,transform:`rotate(${l??0}deg)`,transformOrigin:"center",...(x=(_=(b=(v=c.styles)==null?void 0:v.elements)==null?void 0:b.shape)==null?void 0:_.base)==null?void 0:x.properties,...g&&((S=(k=(N=(w=c.styles)==null?void 0:w.elements)==null?void 0:N.section)==null?void 0:k.base)==null?void 0:S.properties),...(g==null?void 0:g.freeSeating)&&((X=(j=(U=(T=c.styles)==null?void 0:T.elements)==null?void 0:U.section)==null?void 0:j.freeSeating)==null?void 0:X.properties)},[B.section]:a,[B.sectionFreeSeating]:g==null?void 0:g.freeSeating,className:$(f.className,(I=(C=(ne=(ie=c.styles)==null?void 0:ie.elements)==null?void 0:ne.shape)==null?void 0:C.base)==null?void 0:I.className,c.mode==="user"&&g&&"cursor-pointer filter hover:brightness-[1.05]",c.mode==="user"&&!g&&"pointer-events-none",g&&((D=(R=(P=(E=c.styles)==null?void 0:E.elements)==null?void 0:P.section)==null?void 0:R.base)==null?void 0:D.className),(g==null?void 0:g.freeSeating)&&((ce=(H=(W=(q=c.styles)==null?void 0:q.elements)==null?void 0:W.section)==null?void 0:H.freeSeating)==null?void 0:ce.className))})});$r.displayName="Polyline";try{$r.displayName="Polyline",$r.__docgenInfo={description:"",displayName:"Polyline",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}},sections:{defaultValue:null,description:"",name:"sections",required:!1,type:{name:"ISection[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!1,type:{name:"ISeatCategory[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(e: any) => void"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},element:{defaultValue:null,description:"",name:"element",required:!1,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},points:{defaultValue:null,description:"",name:"points",required:!0,type:{name:"IPolylinepoint[]"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},stroke:{defaultValue:null,description:"",name:"stroke",required:!1,type:{name:"string"}},section:{defaultValue:null,description:"",name:"section",required:!1,type:{name:"string"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"number"}}}}}catch{}const Rt=28,Do=Rt/2,lr=Rt/3,Xw=Rt/2.73,Yw=Rt/2.65,qo=Rt*.75,Lr=h.forwardRef(({x:e,y:t,id:n,label:r,categories:o,category:i,sections:a,status:s=Ne.Available,onClick:l,consumer:c,rotation:u,element:d,isSelected:f,airplaneMode:m,...g},y)=>{var X,ie,ne,C,I,E,P,R,D,q,W,H,ce,Z,ae,le,V,Y,oe,J,ee,re;const v=h.useMemo(()=>{var Q;return(Q=o==null?void 0:o.find)==null?void 0:Q.call(o,te=>te.id===i)},[o,i]),b=h.useMemo(()=>{var Q;return(Q=a==null?void 0:a.find)==null?void 0:Q.call(a,te=>te.id===(v==null?void 0:v.section))},[a,v]),_=!m&&(((X=c.options)==null?void 0:X.showSeatLabels)??!0),x=(C=(ne=(ie=c.styles)==null?void 0:ie.elements)==null?void 0:ne.seat)==null?void 0:C.statusColors,w=f?(I=c.options)==null?void 0:I.selectedSeatIcon:(E=c.options)==null?void 0:E.seatIcon,N=h.useMemo(()=>{var me,be;let Q=(+((me=y.current)==null?void 0:me.getAttribute("cx"))||e)-lr/3.5;const te=((be=r==null?void 0:r.toString())==null?void 0:be.length)??0;return te>=2&&(Q-=lr/2.75*(te-1)),d.square&&(Q+=Do),Q},[y,r,e]),k=h.useMemo(()=>{var te;let Q=(+((te=y.current)==null?void 0:te.getAttribute("cy"))||t)+lr/2.75;return d.square&&(Q+=Do),Q},[y,r,t]);h.useEffect(()=>{var Q,te;if(y.current){const me=z.select(y.current),be=z.selectById(`${n}-label`);s===Ne.Unavailable||s===Ne.Reserved||s===Ne.Locked?(me.style("color",((Q=x==null?void 0:x[s])==null?void 0:Q.background)??Wt[s].background),be==null||be.style("stroke",((te=x==null?void 0:x[s])==null?void 0:te.label)??Wt[s].label)):v?(me.style("color",v.color),be==null||be.style("stroke",v.textColor)):(me.style("color",Wt[s].background),be==null||be.style("stroke",Wt[s].label))}},[y,v,s]);const S=Q=>{var te,me;l(Q),(me=(te=c.events)==null?void 0:te.onSeatClick)==null||me.call(te,gr(d,v,b))},T=Q=>{var te,me;c.mode==="user"&&((me=(te=c.events)==null?void 0:te.onSeatHover)==null||me.call(te,gr(d,v,b),{x:Q.clientX,y:Q.clientY}))},U=Q=>{var te,me;c.mode==="user"&&((me=(te=c.events)==null?void 0:te.onSeatLeave)==null||me.call(te,gr(d,v,b),{x:Q.clientX,y:Q.clientY}))},j={ref:y,id:n,onClick:S,[B.category]:i,[B.section]:v==null?void 0:v.section,[B.status]:s,...g,className:$(g.className,c.mode==="designer"&&"filter hover:brightness-[1.05]",c.mode==="user"&&s===Ne.Available&&"cursor-pointer filter hover:brightness-[1.05]",(q=(D=(R=(P=c.styles)==null?void 0:P.elements)==null?void 0:R.seat)==null?void 0:D.base)==null?void 0:q.className),style:{transform:`rotate(${u??0}deg)`,transformOrigin:"center",...(Z=(ce=(H=(W=c.styles)==null?void 0:W.elements)==null?void 0:H.seat)==null?void 0:ce.base)==null?void 0:Z.properties},onMouseOver:T,onMouseOut:U};return O(Le,{children:[d.square?p("rect",{x:e,y:t,height:Rt,width:Rt,rx:3,ry:3,...j}):p("circle",{cx:e,cy:t,r:Do,...j}),w&&p(w,{x:e-Xw,y:t-Yw,width:qo,height:qo,size:qo,className:$((Y=(V=(le=(ae=c.styles)==null?void 0:ae.elements)==null?void 0:le.seat)==null?void 0:V.icon)==null?void 0:Y.className,"stk-seat-icon"),style:(re=(ee=(J=(oe=c.styles)==null?void 0:oe.elements)==null?void 0:J.seat)==null?void 0:ee.icon)==null?void 0:re.properties}),r&&_&&!w&&p("text",{id:`${n}-label`,x:N,y:k,fontSize:lr,fontWeight:200,letterSpacing:1,onClick:S,...g,[B.elementType]:void 0,className:$(g.className,"unselectable !stroke-1"),children:r})]})});Lr.displayName="Seat";try{Lr.displayName="Seat",Lr.__docgenInfo={description:"",displayName:"Seat",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}},element:{defaultValue:null,description:"",name:"element",required:!0,type:{name:"ISeat"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"ISeatCategory[]"}},sections:{defaultValue:null,description:"",name:"sections",required:!0,type:{name:"ISection[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(e: any) => void"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},airplaneMode:{defaultValue:null,description:"",name:"airplaneMode",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},category:{defaultValue:null,description:"",name:"category",required:!1,type:{name:"string"}},status:{defaultValue:{value:"SeatStatus.Available"},description:"",name:"status",required:!1,type:{name:"string"}},square:{defaultValue:null,description:"",name:"square",required:!1,type:{name:"boolean"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"number"}}}}}catch{}const qn=50,Kw=.65,$n={width:150,height:75},Fr=h.forwardRef(({x:e,y:t,id:n,name:r,width:o,height:i,rx:a,resizable:s,className:l,stroke:c,color:u,rotation:d,consumer:f,isSelected:m,element:g,...y},v)=>{var x,w,N,k,S,T,U,j,X,ie,ne,C,I,E,P,R;const b=r1({options:f.options});if(r==="RectangleHorizontal")return o??(o=$n.width),i??(i=$n.height),p("rect",{ref:v,id:n,x:e,y:t,width:o,height:i,rx:a??15,className:$(l,s&&"resizable",(k=(N=(w=(x=f.styles)==null?void 0:x.elements)==null?void 0:w.shape)==null?void 0:N.base)==null?void 0:k.className),style:{color:u??"transparent",stroke:c,transform:`rotate(${d??0}deg)`,transformOrigin:"center",...(j=(U=(T=(S=f.styles)==null?void 0:S.elements)==null?void 0:T.shape)==null?void 0:U.base)==null?void 0:j.properties},[B.shape]:"RectangleHorizontal",...y});o??(o=qn),i??(i=qn);const _=b[r];return p("g",{x:e,y:t,style:{transform:`rotate(${d??0}deg)`,transformOrigin:"center"},children:p(_,{id:n,ref:v,x:e,y:t,width:o,height:i,className:$(l,"stroke-[0.9]",(C=(ne=(ie=(X=f.styles)==null?void 0:X.elements)==null?void 0:ie.shape)==null?void 0:ne.base)==null?void 0:C.className),style:{color:u??"transparent",stroke:c,...(R=(P=(E=(I=f.styles)==null?void 0:I.elements)==null?void 0:E.shape)==null?void 0:P.base)==null?void 0:R.properties},[B.shape]:r,...y})})});Fr.displayName="Shape";try{Fr.displayName="Shape",Fr.__docgenInfo={description:"",displayName:"Shape",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},resizable:{defaultValue:null,description:"",name:"resizable",required:!1,type:{name:"boolean"}},consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},element:{defaultValue:null,description:"",name:"element",required:!1,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},rx:{defaultValue:null,description:"",name:"rx",required:!1,type:{name:"number"}},stroke:{defaultValue:null,description:"",name:"stroke",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"number"}}}}}catch{}const Zw=35,Wr=h.forwardRef(({x:e,y:t,id:n,label:r,fontSize:o=Zw,fontWeight:i=200,letterSpacing:a=3,color:s,rotation:l,consumer:c,embraceOffset:u,onClick:d,isSelected:f,element:m,...g},y)=>{var v,b,_,x,w,N,k,S;return p("text",{ref:y,id:n,x:e,y:t,fontSize:o,fontWeight:i,letterSpacing:a,...g,onClick:d,className:$(g.className,(x=(_=(b=(v=c.styles)==null?void 0:v.elements)==null?void 0:b.text)==null?void 0:_.base)==null?void 0:x.className,c.mode==="user"&&"!pointer-events-none"),style:{transform:`rotate(${l??0}deg)`,transformOrigin:"center",...(S=(k=(N=(w=c.styles)==null?void 0:w.elements)==null?void 0:N.text)==null?void 0:k.base)==null?void 0:S.properties,stroke:s,color:s},[B.embraceOffset]:u,children:r})});Wr.displayName="Text";try{Wr.displayName="Text",Wr.__docgenInfo={description:"",displayName:"Text",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(e: any) => void"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!1,type:{name:"boolean"}},element:{defaultValue:null,description:"",name:"element",required:!1,type:{name:"any"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},fontSize:{defaultValue:{value:"35"},description:"",name:"fontSize",required:!1,type:{name:"number"}},fontWeight:{defaultValue:{value:"200"},description:"",name:"fontWeight",required:!1,type:{name:"number"}},letterSpacing:{defaultValue:{value:"3"},description:"",name:"letterSpacing",required:!1,type:{name:"number"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},embraceOffset:{defaultValue:null,description:"",name:"embraceOffset",required:!1,type:{name:"boolean"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!1,type:{name:"number"}}}}}catch{}const L={Seat:"seat",Text:"text",Shape:"shape",Polyline:"polyline",Image:"image"},Ni={[L.Seat]:Lr,[L.Text]:Wr,[L.Shape]:Fr,[L.Polyline]:$r,[L.Image]:Vr},Jw=(e,t,n)=>{e.attr("cx")?(e.attr("cx",+e.attr("cx")+t),e.attr("cy",+e.attr("cy")+n)):(e.attr("x",+e.attr("x")+t),e.attr("y",+e.attr("y")+n));const r=z.selectById(`${e.attr("id")}-label`);r.attr("x",+r.attr("x")+t),r.attr("y",+r.attr("y")+n)},Qw=(e,t,n)=>{e.attr("x",+e.attr("x")+t),e.attr("y",+e.attr("y")+n)},e_=(e,t,n)=>{if(gd.includes(e.style("cursor")))return;const r=+e.attr("x")+t,o=+e.attr("y")+n;e.attr("x",r).attr("y",o)},t_=(e,t,n)=>{const r=e.attr("points").split(" ").map(o=>{const[i,a]=o.split(",");return`${+i+t},${+a+n}`}).join(" ");e.attr("points",r)},bo=(e,t,n,r,o)=>{t(e,r,o),M.getState().editor.selectedElementIds.forEach(i=>{if(e.attr("id")!==i){const a=z.selectById(i);a.attr(B.elementType)===n&&t(a,r,o)}})},n_=an().on("drag",function(e){const t=xe(this),n=+t.attr("x")+e.dx,r=+t.attr("y")+e.dy;t.attr("x",n),t.attr("y",r)}),r_=an().on("drag",function(e){bo(xe(this),Jw,L.Seat,e.dx,e.dy)}),o_=an().on("drag",function(e){bo(xe(this),Qw,L.Text,e.dx,e.dy)}),i_=an().on("drag",function(e){const t=xe(this);t.attr(B.objectLock)!=="true"&&bo(t,e_,L.Shape,e.dx,e.dy)}),a_=an().on("drag",function(e){bo(xe(this),t_,L.Polyline,e.dx,e.dy)}),Hu=e=>{var t;e.style("display","block"),(t=z.selectById(`${e.attr("id")}-label`))==null||t.style("display","block")},s_=e=>{var t;e.style("display","none"),(t=z.selectById(`${e.attr("id")}-label`))==null||t.style("display","none")},l_=()=>{const e=z.selectAll(`[${B.elementType}="${L.Seat}"]`);if(e.size()&&(e==null?void 0:e.style("display"))!=="none"){const t=z.selectAll(`[${B.elementType}="${L.Polyline}"][${B.section}]`),n=z.selectAll(`[${B.embraceOffset}="true"]`);setTimeout(()=>e.forEach(s_),100),t.forEach(r=>{r.style("opacity",1).style("pointer-events","all")}),n.forEach(r=>{r.style("opacity",1).style("pointer-events","all")})}},c_=()=>{const e=z.selectAll(`[${B.elementType}="${L.Seat}"]`);if(e.size()&&e.style("display")!=="block"){const t=z.selectAll(`[${B.elementType}="${L.Polyline}"][${B.section}]`),n=z.selectAll(`[${B.embraceOffset}="true"]`);e.forEach(Hu),t.forEach(r=>{r.attr(B.sectionFreeSeating)!=="true"&&r.style("opacity",0).style("pointer-events","none")}),n.forEach(r=>{r.style("opacity",0).style("pointer-events","none")})}},u_=()=>{const e=z.selectAll(`[${B.elementType}="${L.Seat}"]`),t=z.selectAll(`[${B.elementType}="${L.Polyline}"]`),n=z.selectAll(`[${B.embraceOffset}="true"]`);e.forEach(Hu),t.forEach(r=>{r.style("opacity",1).style("pointer-events","all")}),n.forEach(r=>{r.style("opacity",1).style("pointer-events","all")})},gr=(e,t,n)=>({...e,category:t?{...t,section:n}:null}),Ei=({type:e=L.Seat,id:t,x:n=250,y:r=250,isSelected:o=!1,consumer:i,...a})=>{var f,m,g,y,v;const s=h.useRef(),l=Ni[e],c=(f=i.styles)==null?void 0:f.elements;h.useEffect(()=>{if(!s.current||i.mode!=="designer")return;const b=xe(s.current);e===L.Seat?r_(b):e===L.Text?o_(b):e===L.Shape||e===L.Image?i_(b):e===L.Polyline?a_(b):n_(b)},[s,i.mode]);const u=b=>{if(i.mode==="user"&&(e!==L.Seat||a.status!==Ne.Available))return;const _=()=>{var x,w,N,k;return(x=i.options)!=null&&x.maxSeatSelectionCount&&M.getState().editor.selectedElementIds.length>=((w=i.options)==null?void 0:w.maxSeatSelectionCount)?((k=(N=i.events)==null?void 0:N.onMaxSeatSelectionCountReached)==null||k.call(N),!0):!1};if(i.mode==="user"&&i.seatSelectionMode==="chain")return o?M.dispatch(ts(t)):_()?void 0:M.dispatch(si(t));if(M.getState().toolbar.selectedTool===de.Select&&s.current){const w=b.ctrlKey||b.metaKey;if(o)return w?M.dispatch(ts(s.current.id)):void 0;if(i.mode==="user"&&_())return;w?M.dispatch(si(s.current.id)):M.dispatch(ao([s.current.id]))}},d=h.useMemo(()=>({[L.Text]:c==null?void 0:c.text,[L.Shape]:c==null?void 0:c.shape,[L.Polyline]:c==null?void 0:c.shape,[L.Image]:c==null?void 0:c.image,[L.Seat]:c==null?void 0:c.seat}),[c]);return p(l,{id:t,ref:s,x:n,y:r,...a,className:$("fill-current transition-all duration-medium",o?e===L.Text?"text-selected":"element-selected":e===L.Text?"text-unselected":"element-unselected",!a.color&&e!==L.Text&&"text-white",o?(g=(m=d[e])==null?void 0:m.selected)==null?void 0:g.className:(v=(y=d[e])==null?void 0:y.unselected)==null?void 0:v.className),onClick:u,consumer:i,isSelected:o,[B.elementType]:e,[B.element]:"true"})},mn=h.memo(Ei,Sl);try{Ei.displayName="Element",Ei.__docgenInfo={description:"",displayName:"Element",props:{consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}}}}}catch{}try{Ni.displayName="elements",Ni.__docgenInfo={description:"",displayName:"elements",props:{consumer:{defaultValue:null,description:"",name:"consumer",required:!0,type:{name:"ISTKProps"}}}}}catch{}try{showSeat.displayName="showSeat",showSeat.__docgenInfo={description:"",displayName:"showSeat",props:{moveToBack:{defaultValue:null,description:"",name:"moveToBack",required:!0,type:{name:"() => Selection<Element, {}, HTMLElement, any>"}},moveToFront:{defaultValue:null,description:"",name:"moveToFront",required:!0,type:{name:"() => Selection<Element, {}, HTMLElement, any>"}},map:{defaultValue:null,description:"",name:"map",required:!0,type:{name:"<T>(callback: (d: Selection<Element, {}, HTMLElement, any>, i: number) => T) => T[]"}},forEach:{defaultValue:null,description:"",name:"forEach",required:!0,type:{name:"<T>(callback: (d: Selection<Element, {}, HTMLElement, any>, i: number) => T) => T[]"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!0,type:{name:"() => number"}}}}}catch{}try{hideSeat.displayName="hideSeat",hideSeat.__docgenInfo={description:"",displayName:"hideSeat",props:{moveToBack:{defaultValue:null,description:"",name:"moveToBack",required:!0,type:{name:"() => Selection<Element, {}, HTMLElement, any>"}},moveToFront:{defaultValue:null,description:"",name:"moveToFront",required:!0,type:{name:"() => Selection<Element, {}, HTMLElement, any>"}},map:{defaultValue:null,description:"",name:"map",required:!0,type:{name:"<T>(callback: (d: Selection<Element, {}, HTMLElement, any>, i: number) => T) => T[]"}},forEach:{defaultValue:null,description:"",name:"forEach",required:!0,type:{name:"<T>(callback: (d: Selection<Element, {}, HTMLElement, any>, i: number) => T) => T[]"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!0,type:{name:"() => number"}}}}}catch{}const d_=e=>(e=e.reduce((t,n)=>(t[n.id]=n,t),{}),z.selectAll(`[${B.elementType}="${L.Seat}"]`).map(t=>{var o,i,a,s,l,c;const n=t.attr("id"),r=((o=t.node())==null?void 0:o.nodeName)==="rect";return{id:n,x:+t.attr(r?"x":"cx"),y:+t.attr(r?"y":"cy"),label:((a=(i=document.getElementById(`${t.attr("id")}-label`))==null?void 0:i.textContent)==null?void 0:a.trim())??((c=(l=(s=e[n])==null?void 0:s.label)==null?void 0:l.toString())==null?void 0:c.trim()),status:t.attr(B.status),category:t.attr(B.category),square:r,rotation:t.rotation()}})),f_=()=>z.selectAll(`[${B.elementType}="${L.Text}"]`).map(e=>({id:e.attr("id"),x:+e.attr("x"),y:+e.attr("y"),label:e.text(),fontSize:+e.attr("font-size"),fontWeight:+e.attr("font-weight"),letterSpacing:+e.attr("letter-spacing"),color:Xe(e.style("stroke"))||e.attr("stroke"),embraceOffset:e.attr(B.embraceOffset)==="true",rotation:e.rotation()})),p_=()=>z.selectAll(`[${B.elementType}="${L.Shape}"]`).map(e=>({id:e.attr("id"),name:e.attr(B.shape),x:+e.attr("x"),y:+e.attr("y"),width:+e.attr("width"),height:+e.attr("height"),rx:e.attr("rx")?+e.attr("rx"):void 0,color:Xe(e.style("color"))||e.attr("color"),stroke:Xe(e.style("stroke"))||e.attr("stroke"),rotation:e.rotation()})),h_=()=>z.selectAll(`[${B.elementType}="${L.Polyline}"]`).map(e=>({id:e.attr("id"),points:e.attr("points").split(" ").map(t=>{const[n,r]=t.split(",");return{x:+n,y:+r}}),section:e.attr(B.section),color:Xe(e.style("color"))||e.attr("color"),stroke:Xe(e.style("stroke"))||e.attr("stroke"),rotation:e.rotation()})).filter(e=>e.points.length>1),m_=()=>z.selectAll(`[${B.elementType}="${L.Image}"]`).map(e=>({id:e.attr("id"),x:+e.attr("x"),y:+e.attr("y"),width:+e.attr("width"),height:+e.attr("height"),href:e.attr("href"),rotation:e.rotation(),locked:e.attr(B.objectLock)==="true"})),y_=()=>{const e=M.getState().editor;return{name:e.location,categories:e.categories.slice(1),sections:e.sections.slice(1),seats:d_(e.seats),text:f_(),shapes:p_(),polylines:h_(),images:m_(),workspace:{initialViewBoxScale:e.initialViewBoxScale,initialViewBoxScaleForWidth:e.initialViewBoxScaleForWidth,visibilityOffset:e.visibilityOffset,airplaneMode:e.airplaneMode}}},pt=()=>{const e=document.getElementById(G.workspaceContainer);return e?e.clientHeight:0},et=()=>{const e=document.getElementById(G.workspaceContainer);return typeof window>"u"?0:window.innerWidth/2-((e==null?void 0:e.offsetLeft)??0)-8},g_=()=>{const e=document.getElementById(G.workspaceContainer);return typeof window>"u"?0:window.innerHeight/2-((e==null?void 0:e.offsetTop)??0)},pa=(e,t)=>{var n;if(t){const o=((n=document.getElementById(G.workspace))==null?void 0:n.clientWidth)/t;e*=o>=1?o:o*1.25}return e},ha=e=>{try{e()}catch{}},vr=(e,t,n)=>e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom,Uu=e=>{let t=e.target;for(;t.id!==G.workspace;)t=t.parentElement;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}},Cn=e=>{const t=Uu(e);return Gu(t)},Gu=(e,t)=>(t??(t=Hi(document.querySelector(Ge.workspaceGroup))),{x:(e.x-t.x)/t.k,y:(e.y-t.y)/t.k}),v_=(e,t)=>{const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},b_=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),w_=async e=>{const t=new Image;t.src=URL.createObjectURL(await fetch(e).then(o=>o.blob())),await t.decode();const n=t.width,r=t.height;return{width:n,height:r}},Xe=e=>{if(!e)return"";if(e.includes("transparent"))return"#ffffff00";function t(i){const a=Number(i).toString(16);return a.length==1?"0"+a:a}const[n,r,o]=e.match(/\d+/g);return"#"+t(n)+t(r)+t(o)},ye={init:__,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Ft(){}function __(e){const t=e;ye.document=t.document,ye.DocumentFragment=t.DocumentFragment||Ft,ye.SVGElement=t.SVGElement||Ft,ye.SVGSVGElement=t.SVGSVGElement||Ft,ye.SVGElementInstance=t.SVGElementInstance||Ft,ye.Element=t.Element||Ft,ye.HTMLElement=t.HTMLElement||ye.Element,ye.Event=t.Event,ye.Touch=t.Touch||Ft,ye.PointerEvent=t.PointerEvent||t.MSPointerEvent}var ju=e=>!!(e&&e.Window)&&e instanceof e.Window;let Xu,Bt;function Yu(e){Xu=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),Bt=e}typeof window<"u"&&window&&Yu(window);function on(e){return ju(e)?e:(e.ownerDocument||e).defaultView||Bt.window}const x_=e=>e===Bt||ju(e),S_=e=>wo(e)&&e.nodeType===11,wo=e=>!!e&&typeof e=="object",Ku=e=>typeof e=="function",C_=e=>typeof e=="number",N_=e=>typeof e=="boolean",E_=e=>typeof e=="string",k_=e=>{if(!e||typeof e!="object")return!1;const t=on(e)||Bt;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},T_=e=>wo(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),I_=e=>wo(e)&&typeof e.length<"u"&&Ku(e.splice);var A={window:x_,docFrag:S_,object:wo,func:Ku,number:C_,bool:N_,string:E_,element:k_,plainObject:T_,array:I_};const ve={init:P_,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function P_(e){const t=ye.Element,n=e.navigator||{};ve.supportsTouch="ontouchstart"in e||A.func(e.DocumentTouch)&&ye.document instanceof e.DocumentTouch,ve.supportsPointerEvent=n.pointerEnabled!==!1&&!!ye.PointerEvent,ve.isIOS=/iP(hone|od|ad)/.test(n.platform),ve.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),ve.isIe9=/MSIE 9/.test(n.userAgent),ve.isOperaMobile=n.appName==="Opera"&&ve.supportsTouch&&/Presto/.test(n.userAgent),ve.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",ve.pEventTypes=ve.supportsPointerEvent?ye.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ve.wheelEvent=ye.document&&"onmousewheel"in ye.document?"mousewheel":"wheel"}function kt(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Zu(e,t){for(;A.element(e);){if(Vt(e,t))return e;e=zt(e)}return null}function zt(e){let t=e.parentNode;if(A.docFrag(t)){for(;(t=t.host)&&A.docFrag(t););return t}return t}function Vt(e,t){return Bt!==Xu&&(t=t.replace(/\/deep\//g," ")),e[ve.prefixedMatchesSelector](t)}function ki(e,t,n){for(;A.element(e);){if(Vt(e,t))return!0;if(e=zt(e),e===n)return Vt(e,t)}return!1}function Is(e){return e.correspondingUseElement||e}function A_(e){return e=e||Bt,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Ju(e){const t=e instanceof ye.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function ma(e){const t=Ju(e);if(!ve.isIOS7&&t){const n=A_(on(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function Ps(e){return A.string(e)?(ye.document.querySelector(e),!0):!1}function _e(e,t){for(const r in t)e[r]=t[r];return e}function M_(e){const{actions:t,browser:n,Interactable:r,defaults:o}=e;nt.cursors=B_(n),nt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(i){return V_(this,i,e)},t.map.resize=nt,t.methodDict.resize="resizable",o.actions.resize=nt.defaults}function R_(e){const{interaction:t,interactable:n,element:r,rect:o,buttons:i}=e;if(!o)return;const a=_e({},t.coords.cur.page),s=n.options.resize;if(!(!(s&&s.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&!(i&s.mouseButtons))){if(A.object(s.edges)){const l={left:!1,right:!1,top:!1,bottom:!1};for(const c in l)l[c]=O_(c,s.edges[c],a,t._latestPointer.eventTarget,r,o,s.margin||nt.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{const l=s.axis!=="y"&&a.x>o.right-nt.defaultMargin,c=s.axis!=="x"&&a.y>o.bottom-nt.defaultMargin;(l||c)&&(e.action={name:"resize",axes:(l?"x":"")+(c?"y":"")})}return e.action?!1:void 0}}function V_(e,t,n){return A.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),A.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=n.defaults.actions.resize.axis),A.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:A.bool(t.square)&&(e.options.resize.square=t.square),e):A.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function O_(e,t,n,r,o,i,a){if(!t)return!1;if(t===!0){const s=A.number(i.width)?i.width:i.right-i.left,l=A.number(i.height)?i.height:i.bottom-i.top;if(a=Math.min(a,Math.abs((e==="left"||e==="right"?s:l)/2)),s<0&&(e==="left"?e="right":e==="right"&&(e="left")),l<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){const c=s>=0?i.left:i.right;return n.x<c+a}if(e==="top"){const c=l>=0?i.top:i.bottom;return n.y<c+a}if(e==="right")return n.x>(s>=0?i.right:i.left)-a;if(e==="bottom")return n.y>(l>=0?i.bottom:i.top)-a}return A.element(r)?A.element(t)?t===r:ki(r,t,o):!1}function B_(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function z_(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const r=t,o=n.rect;n._rects={start:_e({},o),corrected:_e({},o),previous:_e({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}function D_(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const r=t,i=n.interactable.options.resize.invert,a=i==="reposition"||i==="negate",s=n.rect,{start:l,corrected:c,delta:u,previous:d}=n._rects;if(_e(d,c),a){if(_e(c,s),i==="reposition"){if(c.top>c.bottom){const f=c.top;c.top=c.bottom,c.bottom=f}if(c.left>c.right){const f=c.left;c.left=c.right,c.right=f}}}else c.top=Math.min(s.top,l.bottom),c.bottom=Math.max(s.bottom,l.top),c.left=Math.min(s.left,l.right),c.right=Math.max(s.right,l.left);c.width=c.right-c.left,c.height=c.bottom-c.top;for(const f in c)u[f]=c[f]-d[f];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=u}function q_(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.prepared.edges)return;const r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}function As(e){let{iEvent:t,interaction:n}=e;if(n.prepared.name!=="resize"||!n.resizeAxes)return;const r=n.interactable.options,o=t;r.resize.square?(n.resizeAxes==="y"?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=n.resizeAxes,n.resizeAxes==="x"?o.delta.y=0:n.resizeAxes==="y"&&(o.delta.x=0))}const nt={id:"actions/resize",before:["actions/drag"],install:M_,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.resizeAxes="xy"},"interactions:action-start":e=>{z_(e),As(e)},"interactions:action-move":e=>{D_(e),As(e)},"interactions:action-end":q_,"auto-start:check":R_},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor(e){let{edges:t,axis:n,name:r}=e;const o=nt.cursors;let i=null;if(n)i=o[r+n];else if(t){let a="";for(const s of["top","bottom","left","right"])t[s]&&(a+=s);i=o[a]}return i},filterEventType:e=>e.search("resize")===0,defaultMargin:null},Qu=(e,t)=>{for(const n of t)e.push(n);return e},ed=e=>Qu([],e),_o=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},br=(e,t)=>e[_o(e,t)];function Hr(e){const t={};for(const n in e){const r=e[n];A.plainObject(r)?t[n]=Hr(r):A.array(r)?t[n]=ed(r):t[n]=r}return t}let Ms=0,Je,St;function $_(e){if(Je=e.requestAnimationFrame,St=e.cancelAnimationFrame,!Je){const t=["ms","moz","webkit","o"];for(const n of t)Je=e[`${n}RequestAnimationFrame`],St=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}Je=Je&&Je.bind(e),St=St&&St.bind(e),Je||(Je=t=>{const n=Date.now(),r=Math.max(0,16-(n-Ms)),o=e.setTimeout(()=>{t(n+r)},r);return Ms=n+r,o},St=t=>clearTimeout(t))}var L_={request:e=>Je(e),cancel:e=>St(e),init:$_};function jt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o=>!0,r=arguments.length>3?arguments[3]:void 0;if(r=r||{},A.string(e)&&e.search(" ")!==-1&&(e=Rs(e)),A.array(e))return e.forEach(o=>jt(o,t,n,r)),r;if(A.object(e)&&(t=e,e=""),A.func(t)&&n(e))r[e]=r[e]||[],r[e].push(t);else if(A.array(t))for(const o of t)jt(e,o,n,r);else if(A.object(t))for(const o in t){const i=Rs(o).map(a=>`${e}${a}`);jt(i,t[o],n,r)}return r}function Rs(e){return e.trim().split(/ +/)}function Vs(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class td{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=_e({},t||{})}fire(t){let n;const r=this.global;(n=this.types[t.type])&&Vs(t,n),!t.propagationStopped&&r&&(n=r[t.type])&&Vs(t,n)}on(t,n){const r=jt(t,n);for(t in r)this.types[t]=Qu(this.types[t]||[],r[t])}off(t,n){const r=jt(t,n);for(t in r){const o=this.types[t];if(!(!o||!o.length))for(const i of r[t]){const a=o.indexOf(i);a!==-1&&o.splice(a,1)}}}getRect(t){return null}}const F_=["webkit","moz"];function nd(e,t){e.__set||(e.__set={});for(const n in t)F_.some(r=>n.indexOf(r)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(r){e.__set[n]=r},configurable:!0});return e}var ya=(e,t)=>Math.sqrt(e*e+t*t);function $o(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function W_(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function H_(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function U_(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function rd(e){return e instanceof ye.Event||e instanceof ye.Touch}function Ur(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function G_(e,t){return t=t||{x:0,y:0},ve.isOperaMobile&&rd(e)?(Ur("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Ur("page",e,t),t}function j_(e,t){return t=t||{},ve.isOperaMobile&&rd(e)?Ur("screen",e,t):Ur("client",e,t),t}function Gr(e){return A.number(e.pointerId)?e.pointerId:e.identifier}function X_(e,t,n){const r=t.length>1?od(t):t[0];G_(r,e.page),j_(r,e.client),e.timeStamp=n}function ga(e){const t=[];return A.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function od(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const r in t)t[r]+=n[r];for(const n in t)t[n]/=e.length;return t}function Y_(e){if(!e.length)return null;const t=ga(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),i=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:i,width:o-n,height:i-r}}function K_(e,t){const n=t+"X",r=t+"Y",o=ga(e),i=o[0][n]-o[1][n],a=o[0][r]-o[1][r];return ya(i,a)}function Z_(e,t){const n=t+"X",r=t+"Y",o=ga(e),i=o[1][n]-o[0][n],a=o[1][r]-o[0][r];return 180*Math.atan2(a,i)/Math.PI}function J_(e){return A.string(e.pointerType)?e.pointerType:A.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof ye.Touch?"touch":"mouse"}function id(e){const t=A.func(e.composedPath)?e.composedPath():e.path;return[Is(t?t[0]:e.target),Is(e.currentTarget)]}function yn(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function Q_(e){var t;const n=[],r={},o=[],i={add:a,remove:s,addDelegate:l,removeDelegate:c,delegateListener:u,delegateUseCapture:d,delegatedEvents:r,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return i.supportsOptions=!0},get passive(){return i.supportsPassive=!0}}),e.events=i;function a(f,m,g,y){if(!f.addEventListener)return;const v=gn(y);let b=br(n,_=>_.eventTarget===f);b||(b={eventTarget:f,events:{}},n.push(b)),b.events[m]||(b.events[m]=[]),br(b.events[m],_=>_.func===g&&cr(_.options,v))||(f.addEventListener(m,g,i.supportsOptions?v:v.capture),b.events[m].push({func:g,options:v}))}function s(f,m,g,y){if(!f.addEventListener||!f.removeEventListener)return;const v=_o(n,w=>w.eventTarget===f),b=n[v];if(!b||!b.events)return;if(m==="all"){for(m in b.events)b.events.hasOwnProperty(m)&&s(f,m,"all");return}let _=!1;const x=b.events[m];if(x)if(g==="all"){for(let w=x.length-1;w>=0;w--){const N=x[w];s(f,m,N.func,N.options)}return}else{const w=gn(y);for(let N=0;N<x.length;N++){const k=x[N];if(k.func===g&&cr(k.options,w)){f.removeEventListener(m,g,i.supportsOptions?w:w.capture),x.splice(N,1),x.length===0&&(delete b.events[m],_=!0);break}}}_&&!Object.keys(b.events).length&&n.splice(v,1)}function l(f,m,g,y,v){const b=gn(v);if(!r[g]){r[g]=[];for(const w of o)a(w,g,u),a(w,g,d,!0)}const _=r[g];let x=br(_,w=>w.selector===f&&w.context===m);x||(x={selector:f,context:m,listeners:[]},_.push(x)),x.listeners.push({func:y,options:b})}function c(f,m,g,y,v){const b=gn(v),_=r[g];let x=!1,w;if(_)for(w=_.length-1;w>=0;w--){const N=_[w];if(N.selector===f&&N.context===m){const{listeners:k}=N;for(let S=k.length-1;S>=0;S--){const T=k[S];if(T.func===y&&cr(T.options,b)){k.splice(S,1),k.length||(_.splice(w,1),s(m,g,u),s(m,g,d,!0)),x=!0;break}}if(x)break}}}function u(f,m){const g=gn(m),y=new ex(f),v=r[f.type],[b]=id(f);let _=b;for(;A.element(_);){for(let x=0;x<v.length;x++){const w=v[x],{selector:N,context:k}=w;if(Vt(_,N)&&kt(k,b)&&kt(k,_)){const{listeners:S}=w;y.currentTarget=_;for(const T of S)cr(T.options,g)&&T.func(y)}}_=zt(_)}}function d(f){return u.call(this,f,!0)}return i}class ex{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,nd(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function gn(e){return A.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function cr(e,t){return e===t?!0:typeof e=="boolean"?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive}var tx={id:"events",install:Q_};const nx=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):A.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function rx(e,t,n){const r=e.options.preventDefault;if(r!=="never"){if(r==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const o=on(n.target).document,i=t.getDocOptions(o);if(!(i&&i.events)||i.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||A.element(n.target)&&Vt(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function ox(e){let{interaction:t,event:n}=e;t.interactable&&t.interactable.checkAndPreventDefault(n)}function ix(e){const{Interactable:t}=e;t.prototype.preventDefault=nx,t.prototype.checkAndPreventDefault=function(n){return rx(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const r of e.interactions.list)if(r.element&&(r.element===n.target||kt(r.element,n.target))){r.interactable.checkAndPreventDefault(n);return}}})}var ax={id:"core/interactablePreventDefault",install:ix,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=ox,e),{})};function Ln(e,t){let n=!1;return function(){return n||(Bt.console.warn(t),n=!0),e.apply(this,arguments)}}function ad(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function sx(e,t,n){return e==="parent"?zt(n):e==="self"?t.getRect(n):Zu(n,e)}function lx(e,t,n,r){let o=e;return A.string(o)?o=sx(o,t,n):A.func(o)&&(o=o(...r)),A.element(o)&&(o=ma(o)),o}function cx(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function ux(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function dx(e,t,n){const r=n&&e.options[n],i=r&&r.origin||e.options.origin,a=lx(i,e,t,[e&&t]);return cx(a)||{x:0,y:0}}class sd{constructor(t){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(sd.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const ld={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class va extends sd{constructor(t,n,r,o,i,a,s){super(t),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,i=i||t.element;const l=t.interactable,c=(l&&l.options||ld).deltaSource,u=dx(l,i,r),d=o==="start",f=o==="end",m=d?this:t.prevEvent,g=d?t.coords.start:f?{page:m.page,client:m.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=_e({},g.page),this.client=_e({},g.client),this.rect=_e({},t.rect),this.timeStamp=g.timeStamp,f||(this.page.x-=u.x,this.page.y-=u.y,this.client.x-=u.x,this.client.y-=u.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=i,this.currentTarget=i,this.preEnd=a,this.type=s||r+(o||""),this.interactable=l,this.t0=d?t.pointers[t.pointers.length-1].downTime:m.t0,this.x0=t.coords.start.page.x-u.x,this.y0=t.coords.start.page.y-u.y,this.clientX0=t.coords.start.client.x-u.x,this.clientY0=t.coords.start.client.y-u.y,d||f?this.delta={x:0,y:0}:this.delta={x:this[c].x-m[c].x,y:this[c].y-m[c].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=_e({},t.coords.velocity[c]),this.speed=ya(this.velocity.x,this.velocity.y),this.swipe=f||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const r=22.5;n<0&&(n+=360);const o=135-r<=n&&n<225+r,i=225-r<=n&&n<315+r,a=!o&&(315-r<=n||n<45+r),s=!i&&45-r<=n&&n<135+r;return{up:i,down:s,left:o,right:a,angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(va.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});class fx{constructor(t,n,r,o,i){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=i}}let px=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),hx=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),mx=0;class yx{get pointerMoveTolerance(){return 1}constructor(t){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Ln(function(i){this.move(i)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:yn(),prev:yn(),cur:yn(),delta:yn(),velocity:yn()},this._id=mx++;let{pointerType:n,scopeFire:r}=t;this._scopeFire=r,this.pointerType=n;const o=this;this._proxy={};for(const i in px)Object.defineProperty(this._proxy,i,{get(){return o[i]}});for(const i in hx)Object.defineProperty(this._proxy,i,{value:function(){return o[i](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,n,r){const o=this.updatePointer(t,n,r,!0),i=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:r,pointerIndex:o,pointerInfo:i,type:"down",interaction:this})}start(t,n,r){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(ad(this.prepared,t),this.interactable=n,this.element=r,this.rect=n.getRect(r),this.edges=this.prepared.edges?_e({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,r){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,r,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let i,a;this.pointerIsDown&&!this.pointerWasMoved&&(i=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ya(i,a)>this.pointerMoveTolerance);const s=this.getPointerIndex(t),l={pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,type:"move",eventTarget:r,dx:i,dy:a,duplicate:o,interaction:this};o||H_(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",l),!o&&!this.simulation&&(this.interacting()&&(l.type=null,this.move(l)),this.pointerWasMoved&&$o(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&U_(this.coords.delta),t=_e({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,r,o){let i=this.getPointerIndex(t);i===-1&&(i=this.updatePointer(t,n,r,!1));const a=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${a}`,{pointer:t,pointerIndex:i,pointerInfo:this.pointers[i],event:n,eventTarget:r,type:a,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=Gr(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:_o(this.pointers,r=>r.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,r,o){const i=Gr(t);let a=this.getPointerIndex(t),s=this.pointers[a];return o=o===!1?!1:o||/(down|start)$/i.test(n.type),s?s.pointer=t:(s=new fx(i,t,n,null,null),a=this.pointers.length,this.pointers.push(s)),X_(this.coords.cur,this.pointers.map(l=>l.pointer),this._now()),W_(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,s.downTime=this.coords.cur.timeStamp,s.downTarget=r,nd(this.downPointer,t),this.interacting()||($o(this.coords.start,this.coords.cur),$o(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,r),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:r,down:o,pointerInfo:s,pointerIndex:a,interaction:this}),a}removePointer(t,n){const r=this.getPointerIndex(t);if(r===-1)return;const o=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:r,pointerInfo:o,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,r){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=r}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,r,o){return new va(this,t,this.prepared.name,n,this.element,r,o)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:r,preEnd:o,type:i}=t,{rect:a}=this;if(a&&r==="move"&&(ux(this.edges,a,this.coords.delta[this.interactable.options.deltaSource]),a.width=a.right-a.left,a.height=a.bottom-a.top),this._scopeFire(`interactions:before-action-${r}`,t)===!1)return!1;const l=t.iEvent=this._createPreparedEvent(n,r,o,i);return this._scopeFire(`interactions:action-${r}`,t),r==="start"&&(this.prevEvent=l),this._fireEvent(l),this._scopeFire(`interactions:after-action-${r}`,t),!0}_now(){return Date.now()}}const Ti={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of Ti.methodOrder){const n=Ti[t](e);if(n)return n}return null},simulationResume(e){let{pointerType:t,eventType:n,eventTarget:r,scope:o}=e;if(!/down|start/i.test(n))return null;for(const i of o.interactions.list){let a=r;if(i.simulation&&i.simulation.allowResume&&i.pointerType===t)for(;a;){if(a===i.element)return i;a=zt(a)}}return null},mouseOrPen(e){let{pointerId:t,pointerType:n,eventType:r,scope:o}=e;if(n!=="mouse"&&n!=="pen")return null;let i;for(const a of o.interactions.list)if(a.pointerType===n){if(a.simulation&&!Os(a,t))continue;if(a.interacting())return a;i||(i=a)}if(i)return i;for(const a of o.interactions.list)if(a.pointerType===n&&!(/down/i.test(r)&&a.simulation))return a;return null},hasPointer(e){let{pointerId:t,scope:n}=e;for(const r of n.interactions.list)if(Os(r,t))return r;return null},idle(e){let{pointerType:t,scope:n}=e;for(const r of n.interactions.list){if(r.pointers.length===1){const o=r.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(r.pointers.length>=2)continue;if(!r.interacting()&&t===r.pointerType)return r}return null}};function Os(e,t){return e.pointers.some(n=>{let{id:r}=n;return r===t})}const cd=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function gx(e){const t={};for(const i of cd)t[i]=ud(i,e);const n=ve.pEventTypes;let r;ye.PointerEvent?r=[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:r=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],r.push({type:"blur",listener(i){for(const a of e.interactions.list)a.documentBlur(i)}}),e.prevTouchTime=0,e.Interaction=class extends yx{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(i){e.interactions.pointerMoveTolerance=i}_now(){return e.now()}},e.interactions={list:[],new(i){i.scopeFire=(s,l)=>e.fire(s,l);const a=new e.Interaction(i);return e.interactions.list.push(a),a},listeners:t,docEvents:r,pointerMoveTolerance:1};function o(){for(const i of e.interactions.list)if(!(!i.pointerIsDown||i.pointerType!=="touch"||i._interacting))for(const a of i.pointers)e.documents.some(s=>{let{doc:l}=s;return kt(l,a.downTarget)})||i.removePointer(a.pointer,a.event)}e.usePlugin(ax)}function ud(e,t){return function(n){const r=t.interactions.list,o=J_(n),[i,a]=id(n),s=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const l of n.changedTouches){const c=l,u=Gr(c),d={pointer:c,pointerId:u,pointerType:o,eventType:n.type,eventTarget:i,curEventTarget:a,scope:t},f=Bs(d);s.push([d.pointer,d.eventTarget,d.curEventTarget,f])}}else{let l=!1;if(!ve.supportsPointerEvent&&/mouse/.test(n.type)){for(let c=0;c<r.length&&!l;c++)l=r[c].pointerType!=="mouse"&&r[c].pointerIsDown;l=l||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!l){const c={pointer:n,pointerId:Gr(n),pointerType:o,eventType:n.type,curEventTarget:a,eventTarget:i,scope:t},u=Bs(c);s.push([c.pointer,c.eventTarget,c.curEventTarget,u])}}for(const[l,c,u,d]of s)d[e](l,n,c,u)}}function Bs(e){const{pointerType:t,scope:n}=e,o={interaction:Ti.search(e),searchDetails:e};return n.fire("interactions:find",o),o.interaction||n.interactions.new({pointerType:t})}function Lo(e,t){let{doc:n,scope:r,options:o}=e;const{interactions:{docEvents:i},events:a}=r,s=a[t];r.browser.isIOS&&!o.events&&(o.events={passive:!1});for(const c in a.delegatedEvents)s(n,c,a.delegateListener),s(n,c,a.delegateUseCapture,!0);const l=o&&o.events;for(const{type:c,listener:u}of i)s(n,c,u,l)}const vx={id:"core/interactions",install:gx,listeners:{"scope:add-document":e=>Lo(e,"add"),"scope:remove-document":e=>Lo(e,"remove"),"interactable:unset":(e,t)=>{let{interactable:n}=e;for(let r=t.interactions.list.length-1;r>=0;r--){const o=t.interactions.list[r];o.interactable===n&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Lo,doOnInteractions:ud,methodNames:cd};function jr(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}var dt=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(dt||{});class bx{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,n,r,o){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new td,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||r,this._win=on(Ps(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}setOnEvents(t,n){return A.func(n.onstart)&&this.on(`${t}start`,n.onstart),A.func(n.onmove)&&this.on(`${t}move`,n.onmove),A.func(n.onend)&&this.on(`${t}end`,n.onend),A.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,r){var o;const i=(o=this._actions.map[t])==null?void 0:o.filterEventType,a=s=>(i==null||i(s))&&jr(s,this._actions);(A.array(n)||A.object(n))&&this._onOff(dt.Off,t,n,void 0,a),(A.array(r)||A.object(r))&&this._onOff(dt.On,t,r,void 0,a)}setPerAction(t,n){const r=this._defaults;for(const o in n){const i=o,a=this.options[t],s=n[i];i==="listeners"&&this.updatePerActionListeners(t,a.listeners,s),A.array(s)?a[i]=ed(s):A.plainObject(s)?(a[i]=_e(a[i]||{},Hr(s)),A.object(r.perAction[i])&&"enabled"in r.perAction[i]&&(a[i].enabled=s.enabled!==!1)):A.bool(s)&&A.object(r.perAction[i])?a[i].enabled=s:a[i]=s}}getRect(t){return t=t||(A.element(this.target)?this.target:null),A.string(this.target)&&(t=t||this._context.querySelector(this.target)),ma(t)}rectChecker(t){return A.func(t)?(this.getRect=n=>{const r=_e({},t.apply(this,n));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(Ps(n)||A.object(n)){this.options[t]=n;for(const r in this._actions.map)this.options[r][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}getAllElements(){const{target:t}=this;return A.string(t)?Array.from(this._context.querySelectorAll(t)):A.func(t)&&t.getAllElements?t.getAllElements():A.element(t)?[t]:[]}context(){return this._context}inContext(t){return this._context===t.ownerDocument||kt(this._context,t)}testIgnoreAllow(t,n,r){return!this.testIgnore(t.ignoreFrom,n,r)&&this.testAllow(t.allowFrom,n,r)}testAllow(t,n,r){return t?A.element(r)?A.string(t)?ki(r,t,n):A.element(t)?kt(t,r):!1:!1:!0}testIgnore(t,n,r){return!t||!A.element(r)?!1:A.string(t)?ki(r,t,n):A.element(t)?kt(t,r):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,r,o,i){A.object(n)&&!A.array(n)&&(o=r,r=null);const a=jt(n,r,i);for(let s in a){s==="wheel"&&(s=ve.wheelEvent);for(const l of a[s])jr(s,this._actions)?this.events[t===dt.On?"on":"off"](s,l):A.string(this.target)?this._scopeEvents[t===dt.On?"addDelegate":"removeDelegate"](this.target,this._context,s,l,o):this._scopeEvents[t===dt.On?"add":"remove"](this.target,s,l,o)}return this}on(t,n,r){return this._onOff(dt.On,t,n,r)}off(t,n,r){return this._onOff(dt.Off,t,n,r)}set(t){const n=this._defaults;A.object(t)||(t={}),this.options=Hr(n.base);for(const r in this._actions.methodDict){const o=r,i=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,_e(_e({},n.perAction),n.actions[o])),this[i](t[o])}for(const r in t){if(r==="getRect"){this.rectChecker(t.getRect);continue}A.func(this[r])&&this[r](t[r])}return this}unset(){if(A.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let r=n.length-1;r>=0;r--){const{selector:o,context:i,listeners:a}=n[r];o===this.target&&i===this._context&&n.splice(r,1);for(let s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[s][0],a[s][1])}}else this._scopeEvents.remove(this.target,"all")}}class wx{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":n=>{let{interactable:r}=n;const{target:o}=r,i=A.string(o)?this.selectorMap[o]:o[this.scope.id],a=_o(i,s=>s===r);i.splice(a,1)}})}new(t,n){n=_e(n||{},{actions:this.scope.actions});const r=new this.scope.Interactable(t,n,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),A.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(r.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:n,interactable:r,win:this.scope._win}),r}getExisting(t,n){const r=n&&n.context||this.scope.document,o=A.string(t),i=o?this.selectorMap[t]:t[this.scope.id];if(i)return br(i,a=>a._context===r&&(o||a.inContext(t)))}forEachMatch(t,n){for(const r of this.list){let o;if((A.string(r.target)?A.element(t)&&Vt(t,r.target):t===r.target)&&r.inContext(t)&&(o=n(r)),o!==void 0)return o}}}function _x(e){const t=(n,r)=>{let o=e.interactables.getExisting(n,r);return o||(o=e.interactables.new(n,r),o.events.global=t.globalEvents),o};return t.getPointerAverage=od,t.getTouchBBox=Y_,t.getTouchDistance=K_,t.getTouchAngle=Z_,t.getElementRect=ma,t.getElementClientRect=Ju,t.matchesSelector=Vt,t.closest=Zu,t.globalEvents={},t.version="1.10.26",t.scope=e,t.use=function(n,r){return this.scope.usePlugin(n,r),this},t.isSet=function(n,r){return!!this.scope.interactables.get(n,r&&r.context)},t.on=Ln(function(r,o,i){if(A.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),A.array(r)){for(const a of r)this.on(a,o,i);return this}if(A.object(r)){for(const a in r)this.on(a,r[a],o);return this}return jr(r,this.scope.actions)?this.globalEvents[r]?this.globalEvents[r].push(o):this.globalEvents[r]=[o]:this.scope.events.add(this.scope.document,r,o,{options:i}),this},"The interact.on() method is being deprecated"),t.off=Ln(function(r,o,i){if(A.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),A.array(r)){for(const a of r)this.off(a,o,i);return this}if(A.object(r)){for(const a in r)this.off(a,r[a],o);return this}if(jr(r,this.scope.actions)){let a;r in this.globalEvents&&(a=this.globalEvents[r].indexOf(o))!==-1&&this.globalEvents[r].splice(a,1)}else this.scope.events.remove(this.scope.document,r,o,i);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return ve.supportsTouch},t.supportsPointerEvent=function(){return ve.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return A.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,r){this.scope.addDocument(n,r)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class xx{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=ve,this.defaults=Hr(ld),this.Eventable=td,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=_x(this),this.InteractEvent=va,this.Interactable=void 0,this.interactables=new wx(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=n=>this.removeDocument(n.target);const t=this;this.Interactable=class extends bx{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:r}}of this.listenerMaps)if(r&&r(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:Sx(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let r=0;const o=this.listenerMaps.length,i=t.before.reduce((a,s)=>(a[s]=!0,a[zs(s)]=!0,a),{});for(;r<o;r++){const a=this.listenerMaps[r].id;if(a&&(i[a]||i[zs(a)]))break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const r=on(t);n=n?_e({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),r=on(t),o=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function Sx(e,t){return e.isInitialized=!0,A.window(t)&&Yu(t),ye.init(t),ve.init(t),L_.init(t),e.window=t,e.document=t.document,e.usePlugin(vx),e.usePlugin(tx),e}function zs(e){return e&&e.replace(/\/.*$/,"")}const dd=new xx,ba=dd.interactStatic,Cx=typeof globalThis<"u"?globalThis:window;dd.init(Cx);ba.use(nt);function Nx(e){const{Interactable:t}=e;t.prototype.getAction=function(r,o,i,a){const s=Ex(this,o,i,a,e);return this.options.actionChecker?this.options.actionChecker(r,o,s,this,a,i):s},t.prototype.ignoreFrom=Ln(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Ln(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Tx,t.prototype.styleCursor=kx}function Ex(e,t,n,r,o){const i=e.getRect(r),a=t.buttons||{0:1,1:4,3:8,4:16}[t.button],s={action:null,interactable:e,interaction:n,element:r,rect:i,buttons:a};return o.fire("auto-start:check",s),s.action}function kx(e){return A.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Tx(e){return A.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Ix={id:"auto-start/interactableMethods",install:Nx};function Px(e){const{interactStatic:t,defaults:n}=e;e.usePlugin(Ix),n.base.actionChecker=null,n.base.styleCursor=!0,_e(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=r=>md(r,e),e.autoStart={maxInteractions:1/0,withinInteractionLimit:xo,cursorElement:null}}function Ax(e,t){let{interaction:n,pointer:r,event:o,eventTarget:i}=e;if(n.interacting())return;const a=pd(n,r,o,i,t);hd(n,a,t)}function Mx(e,t){let{interaction:n,pointer:r,event:o,eventTarget:i}=e;if(n.pointerType!=="mouse"||n.pointerIsDown||n.interacting())return;const a=pd(n,r,o,i,t);hd(n,a,t)}function Rx(e,t){const{interaction:n}=e;if(!n.pointerIsDown||n.interacting()||!n.pointerWasMoved||!n.prepared.name)return;t.fire("autoStart:before-start",e);const{interactable:r}=n,o=n.prepared.name;o&&r&&(r.options[o].manualStart||!xo(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),yd(n,t)))}function Vx(e,t){let{interaction:n}=e;const{interactable:r}=n;r&&r.options.styleCursor&&Ii(n.element,"",t)}function fd(e,t,n,r,o){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&xo(t,n,e,o)?e:null}function Ox(e,t,n,r,o,i,a){for(let s=0,l=r.length;s<l;s++){const c=r[s],u=o[s],d=c.getAction(t,n,e,u);if(!d)continue;const f=fd(d,c,u,i,a);if(f)return{action:f,interactable:c,element:u}}return{action:null,interactable:null,element:null}}function pd(e,t,n,r,o){let i=[],a=[],s=r;function l(c){i.push(c),a.push(s)}for(;A.element(s);){i=[],a=[],o.interactables.forEachMatch(s,l);const c=Ox(e,t,n,i,a,r,o);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;s=zt(s)}return{action:null,interactable:null,element:null}}function hd(e,t,n){let{action:r,interactable:o,element:i}=t;r=r||{name:null},e.interactable=o,e.element=i,ad(e.prepared,r),e.rect=o&&r.name?o.getRect(i):null,yd(e,n),n.fire("autoStart:prepared",{interaction:e})}function xo(e,t,n,r){const o=e.options,i=o[n.name].max,a=o[n.name].maxPerElement,s=r.autoStart.maxInteractions;let l=0,c=0,u=0;if(!(i&&a&&s))return!1;for(const d of r.interactions.list){const f=d.prepared.name;if(d.interacting()){if(l++,l>=s)return!1;if(d.interactable===e&&(c+=f===n.name?1:0,c>=i||d.element===t&&(u++,f===n.name&&u>=a)))return!1}}return s>0}function md(e,t){return A.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ii(e,t,n){const{cursorElement:r}=n.autoStart;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function yd(e,t){const{interactable:n,element:r,prepared:o}=e;if(!(e.pointerType==="mouse"&&n&&n.options.styleCursor)){t.autoStart.cursorElement&&Ii(t.autoStart.cursorElement,"",t);return}let i="";if(o.name){const a=n.options[o.name].cursorChecker;A.func(a)?i=a(o,n,r,e._interacting):i=t.actions.map[o.name].getCursor(o)}Ii(e.element,i||"",t)}const wa={id:"auto-start/base",before:["actions"],install:Px,listeners:{"interactions:down":Ax,"interactions:move":(e,t)=>{Mx(e,t),Rx(e,t)},"interactions:stop":Vx},maxInteractions:md,withinInteractionLimit:xo,validateAction:fd};function Bx(e,t){let{interaction:n,eventTarget:r,dx:o,dy:i}=e;if(n.prepared.name!=="drag")return;const a=Math.abs(o),s=Math.abs(i),l=n.interactable.options.drag,c=l.startAxis,u=a>s?"x":a<s?"y":"xy";if(n.prepared.axis=l.lockAxis==="start"?u[0]:l.lockAxis,u!=="xy"&&c!=="xy"&&c!==u){n.prepared.name=null;let d=r;const f=function(m){if(m===n.interactable)return;const g=n.interactable.options.drag;if(!g.manualStart&&m.testIgnoreAllow(g,d,r)){const y=m.getAction(n.downPointer,n.downEvent,n,d);if(y&&y.name==="drag"&&zx(u,m)&&wa.validateAction(y,m,d,r,t))return m}};for(;A.element(d);){const m=t.interactables.forEachMatch(d,f);if(m){n.prepared.name="drag",n.interactable=m,n.element=d;break}d=zt(d)}}}function zx(e,t){if(!t)return!1;const n=t.options.drag.startAxis;return e==="xy"||n==="xy"||n===e}var Dx={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":Bx}};function qx(e){const{defaults:t}=e;e.usePlugin(wa),t.perAction.hold=0,t.perAction.delay=0}function Fo(e){const t=e.prepared&&e.prepared.name;if(!t)return null;const n=e.interactable.options;return n[t].hold||n[t].delay}const $x={id:"auto-start/hold",install:qx,listeners:{"interactions:new":e=>{let{interaction:t}=e;t.autoStartHoldTimer=null},"autoStart:prepared":e=>{let{interaction:t}=e;const n=Fo(t);n>0&&(t.autoStartHoldTimer=setTimeout(()=>{t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":e=>{let{interaction:t,duplicate:n}=e;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":e=>{let{interaction:t}=e;Fo(t)>0&&(t.prepared.name=null)}},getHoldDuration:Fo};var Lx={id:"auto-start",install(e){e.usePlugin(wa),e.usePlugin($x),e.usePlugin(Dx)}};ba.use(Lx);const gd=["ns-resize","ew-resize","nwse-resize","nesw-resize"],Fx=()=>{h.useEffect(()=>{ba(".resizable").resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{move(e){const t=e.target,n=+e.target.getAttribute("width"),r=+e.target.getAttribute("height"),o=n/r,i=z.zoomTransform(document.querySelector(Ge.workspaceGroup));let a=e.deltaRect.width,s=e.deltaRect.height;e.shiftKey&&(s=a/o),i.k<1&&(a*=1/i.k,s*=1/i.k),t.setAttribute("width",Math.abs(n+a)),t.setAttribute("height",Math.abs(r+s))}}})},[])},Wx=e=>{h.useEffect(()=>{window.toast||(e??(e={success:window.alert,info:window.alert,warning:window.alert,error:window.alert,loading:window.alert,dismiss:()=>{}}),window.toast=e)},[])},Hx=()=>{const e=F(t=>t.editor.selectedElementIds);h.useEffect(()=>{const t=n=>{(n.key==="Backspace"||n.key==="Delete")&&(document.querySelectorAll("input:focus").length||M.dispatch(Vg(e)))};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e])},Ux=()=>{const e=F(r=>r.editor.selectedElementIds),t=F(r=>r.editor.lastDeselectedElementId),n=F(r=>r.toolbar.selectedTool);h.useEffect(()=>{const r=o=>{var s,l,c,u;let i=o.target.id;((l=(s=o.target.parentNode)==null?void 0:s.getAttribute)==null?void 0:l.call(s,B.elementType))===L.Shape&&(i=o.target.parentNode.id),!e.includes(i)&&t!==i&&![i,(c=o.target.parentNode)==null?void 0:c.id].includes(G.operationTrigger)&&e.length&&!vr(o.clientX,o.clientY,(u=document.getElementById(G.controls))==null?void 0:u.getBoundingClientRect())&&M.dispatch(bg(n===de.Text&&i===G.workspace))};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[e])},We=5,Gx=()=>{const e=F(t=>t.editor.selectedElementIds);h.useEffect(()=>{const t=n=>{if((n.ctrlKey||n.metaKey)&&n.key==="d"&&(e!=null&&e.length)){n.preventDefault();const o=[];e.forEach(i=>{var c;const a=document.getElementById(i),s=a.getAttribute(B.elementType);let l=null;s===L.Seat?(l={id:fe(),x:Number(a.getAttribute("cx"))+We,y:Number(a.getAttribute("cy"))+We,label:(c=document.getElementById(`${i}-label`))==null?void 0:c.textContent,status:a.getAttribute(B.status)},M.dispatch(Ul(l))):s===L.Text?(l={id:fe(),x:Number(a.getAttribute("x"))+We,y:Number(a.getAttribute("y"))+We,fontSize:Number(a.getAttribute("font-size")),fontWeight:a.getAttribute("font-weight"),letterSpacing:Number(a.getAttribute("letter-spacing")),label:a.textContent},M.dispatch(jl(l))):s===L.Shape?(l={id:fe(),x:Number(a.getAttribute("x"))+We,y:Number(a.getAttribute("y"))+We,width:Number(a.getAttribute("width")),height:Number(a.getAttribute("height")),rx:Number(a.getAttribute("rx")),name:a.getAttribute(B.shape)},M.dispatch(Xl(l))):s===L.Polyline?(l={id:fe(),points:a.getAttribute("points").split(" ").map(u=>{const[d,f]=u.split(",");return{x:Number(d)+We,y:Number(f)+We}})},M.dispatch(Yl(l))):s===L.Image&&(l={id:fe(),x:Number(a.getAttribute("x"))+We,y:Number(a.getAttribute("y"))+We,href:a.getAttribute("href"),width:Number(a.getAttribute("width")),height:Number(a.getAttribute("height"))},M.dispatch(Kl(l))),l&&o.push(l.id)}),M.dispatch(ao(o))}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e])},jx=()=>{const e=F(t=>t.editor.selectedElementIds);h.useEffect(()=>{const t=n=>{e.forEach(r=>{const o=z.selectById(r),i=o.attr(B.elementType)===L.Seat,a=i?z.selectById(`${r}-label`):null,s=i&&o.node().nodeName!=="rect"?"cx":"x",l=i&&o.node().nodeName!=="rect"?"cy":"y";switch(n.key){case"ArrowLeft":return a==null||a.attr("x",+a.attr("x")-1),o.attr(s,+o.attr(s)-1);case"ArrowRight":return a==null||a.attr("x",+a.attr("x")+1),o.attr(s,+o.attr(s)+1);case"ArrowUp":return a==null||a.attr("y",+a.attr("y")-1),o.attr(l,+o.attr(l)-1);case"ArrowDown":return a==null||a.attr("y",+a.attr("y")+1),o.attr(l,+o.attr(l)+1)}})};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e])},Xx=()=>{const e=F(n=>n.editor.selectedPolylineId),t=F(n=>n.editor.polylines);h.useEffect(()=>{const n=r=>{if(e){const o=document.getElementById(G.templine),i=M.getState().editor.polylines.find(l=>l.id===e),a=i.points[i.points.length-1],s=Cn(r);o.setAttribute("x1",a.x),o.setAttribute("y1",a.y),o.setAttribute("x2",String(s.x)),o.setAttribute("y2",String(s.y))}};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[e,t])},Yx=e=>{const t=F(n=>n.editor.selectedElementIds);h.useEffect(()=>{var n;if((n=e.events)!=null&&n.onSeatSelectionChange){const{seats:r,categories:o,sections:i}=M.getState().editor,a=[];r.forEach(s=>{var l,c;if(t.includes(s.id)){const u=(l=o==null?void 0:o.find)==null?void 0:l.call(o,f=>f.id===s.category),d=(c=i==null?void 0:i.find)==null?void 0:c.call(i,f=>f.id===(u==null?void 0:u.section));a.push(gr(s,u,d))}}),e.events.onSeatSelectionChange(a)}},[t])},Kx=()=>{const e=F(t=>t.toolbar.selectedTool);h.useLayoutEffect(()=>{const t=z.selectById(G.workspace);if(t.node())if(e===de.Select){const{top:n,left:r}=z.selectionBounds(z.selectById(G.workspace)),o={element:null,currentY:0,currentX:0,originX:0,originY:0,setElement:function(l){this.element=l},getNewAttributes:function(){const l=this.currentX<this.originX?this.currentX:this.originX,c=this.currentY<this.originY?this.currentY:this.originY,u=Math.abs(this.currentX-this.originX),d=Math.abs(this.currentY-this.originY);return{x:l,y:c,width:u,height:d}},getCurrentAttributes:function(){const l=z.zoomTransform(document.querySelector(Ge.workspaceGroup)),{x:c,y:u}=Gu({x:+this.element.attr("x"),y:+this.element.attr("y")},l);return{x1:c,y1:u,x2:c+Number(this.element.attr("width"))/l.k,y2:u+Number(this.element.attr("height"))/l.k}},init:function(l,c){const u=t.append("rect").attr("id",G.workspaceSelection).attr("rx",4).attr("ry",4).attr("x",0).attr("y",0).attr("width",0).attr("height",0).classed("workspace-selection",!0);this.setElement(u),this.originX=l,this.originY=c,this.update(l,c)},update:function(l,c){var d,f;this.currentX=l-(+((d=this.element)==null?void 0:d.attr("width"))||this.currentX===this.originX?r:0),this.currentY=c-(+((f=this.element)==null?void 0:f.attr("height"))||this.currentY===this.originY?n:0);const u=this.getNewAttributes();Object.keys(u).forEach(m=>{this.element.attr(m,u[m])})},remove:function(){this.element.remove(),this.element=null}},i=l=>{const c=z.pointer(l);o.init(c[0],c[1])},a=l=>{const c=z.pointer(l);o.update(c[0],c[1])},s=()=>{const l=o.getCurrentAttributes();o.remove();const c=z.selectAll(`[${B.element}]`),u=[];c.forEach(d=>{var y,v;const f=d.attr(B.elementType)===L.Seat,m=f&&((y=d.node())==null?void 0:y.nodeName)!=="rect"?+d.attr("cx"):+d.attr("x"),g=f&&((v=d.node())==null?void 0:v.nodeName)!=="rect"?+d.attr("cy"):+d.attr("y");if(m>=l.x1&&m<=l.x2&&g>=l.y1&&g<=l.y2){const b=d.attr("id");b!=null&&b.includes("-label")||u.push(b)}}),M.dispatch(ao(u))};t.call(z.drag().on("drag",a).on("start",i).on("end",s))}else t.call(z.drag().on("drag",null).on("start",null).on("end",null))},[e])},Zx=()=>{h.useEffect(()=>{const e=t=>{if((t.ctrlKey||t.metaKey)&&t.key==="a"){t.preventDefault();const r=z.selectAll(`[${B.elementType}="${L.Seat}"]`).map(l=>l.attr("id")),o=z.selectAll(`[${B.elementType}="${L.Shape}"]`).map(l=>l.attr("id")),i=z.selectAll(`[${B.elementType}="${L.Text}"]`).map(l=>l.attr("id")),a=z.selectAll(`[${B.elementType}="${L.Polyline}"]`).map(l=>l.attr("id")),s=z.selectAll(`[${B.elementType}="${L.Image}"]`).map(l=>l.attr("id"));M.dispatch(ao([...r,...o,...i,...a,...s]))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[])},Jx=()=>{const e=F(t=>t.toolbar.selectedTool);return h.useLayoutEffect(()=>{var n;const t=r=>{if(e==de.Seat){const o=M.getState().toolbar.selectedSubTool==="Square";M.dispatch(Ul({id:fe(),...Cn(r),label:"?",status:Ne.Available,square:o}))}else if(e==de.Text){const o=fe(),i=Cn(r);M.dispatch(jl({id:o,x:i.x-68,y:i.y+11,label:"Edit me!"}))}else if(e==de.Shape){const o=M.getState().editor.cursor,i=Cn(r),a={id:fe(),x:i.x,y:i.y,name:o.displayName};a.name===En.displayName?(a.width=$n.width*.83,a.height=$n.height,a.x-=a.width/2,a.y-=a.height/2):(a.x-=qn/2,a.y-=qn/2),M.dispatch(Xl(a))}else if(e==de.Pen){const o=M.getState().editor.selectedPolylineId,i=Cn(r);if(o)M.getState().editor.polylines.find(s=>s.id===o).points.find(s=>v_(s,i)<=5)&&(M.dispatch(Mr(null)),M.dispatch(si(o)),M.dispatch(Rr(de.Select))),M.dispatch(Eg({id:o,point:i}));else{const a=fe();M.dispatch(Mr(a)),M.dispatch(Yl({id:a,points:[i]}))}}else e==de.Eraser&&(r.target.parentNode.nodeName==="svg"&&r.target.id!==G.workspace?M.dispatch(rs(r.target.id||r.target.parentNode.id)):r.target.nodeName==="circle"?M.dispatch(ns(r.target.id)):r.target.nodeName==="rect"?r.target.getAttribute(B.elementType)===L.Shape?M.dispatch(rs(r.target.id)):r.target.getAttribute(B.elementType)===L.Seat&&M.dispatch(ns(r.target.id)):r.target.nodeName==="text"?M.dispatch(xg(r.target.id)):r.target.nodeName==="image"?M.dispatch(kg(r.target.id)):r.target.nodeName==="polyline"&&M.dispatch(Ng(r.target.id)))};return(n=document.getElementById(G.workspace))==null||n.addEventListener("click",t),()=>{var r;(r=document.getElementById(G.workspace))==null||r.removeEventListener("click",t)}},[e]),null},vd=e=>{const t=F(n=>n.editor.dataSynced);h.useLayoutEffect(()=>{var n,r;e.data?M.dispatch(Rg(e.data)):M.dispatch(wg()),(r=(n=e.events)==null?void 0:n.onWorkspaceLoad)==null||r.call(n)},[e.data]),h.useEffect(()=>{var n,r,o,i,a,s,l,c,u,d;if(t){const{height:f,width:m,top:g,left:y}=z.selectionBounds(z.selectById(G.workspace)),v=z.select(Ge.workspaceGroup),{left:b,top:_,height:x,width:w}=z.selectionBounds(v);let N=1;(r=(n=e.data)==null?void 0:n.workspace)!=null&&r.initialViewBoxScale&&(v.attr(B.initialViewBoxScaleForWidth,(o=e.data)==null?void 0:o.workspace.initialViewBoxScaleForWidth),N=pa((a=(i=e.data)==null?void 0:i.workspace)==null?void 0:a.initialViewBoxScale,(l=(s=e.data)==null?void 0:s.workspace)==null?void 0:l.initialViewBoxScaleForWidth)),(u=(c=e.data)==null?void 0:c.workspace)!=null&&u.visibilityOffset&&v.attr(B.visibilityOffset,(d=e.data)==null?void 0:d.workspace.visibilityOffset),N*=1.05,Si({k:N,y:(f+g-(_*N*2+x*N))/2,x:(m+y-(b*N*2+w*N))/2}),M.dispatch(fg())}},[t]),h.useEffect(()=>()=>{M.dispatch(pg())},[])},Qx=e=>{Hx(),Ux(),Gx(),jx(),Xx(),Kx(),Zx(),Jx(),vd(e)},e1=e=>{vd(e),Yx(e)},t1={RectangleHorizontal:En,Codesandbox:Kg,ArrowBigLeft:Fg,ArrowBigRight:Wg,ArrowBigDown:Lg,ArrowBigUp:Hg,Play:hv,Squircle:bv,Pentagon:rc,Square:li,Hexagon:ov,Octagon:uv,Diamond:Jg},Wo=Object.values(t1),_a=e=>!(e!=null&&e.shapes)||(e==null?void 0:e.shapes.icons.length)===0?Wo:e!=null&&e.shapes.overrideDefaultIconset?e.shapes.icons:[...Wo,...e.shapes.icons],n1=({options:e})=>h.useMemo(()=>_a(e),[e==null?void 0:e.shapes]),r1=({options:e})=>h.useMemo(()=>_a(e).reduce((t,n)=>(t[n.displayName]=n,t),{}),[e==null?void 0:e.shapes]),o1=()=>document.getElementById("image-input").click(),i1=({options:{maxImageSize:e=1024e3}={}})=>{const[t,n]=h.useState(null),r=async i=>{const a=i.target.files[0];if(a){if(a.size>e){const s=+(e/1024).toFixed(0);window.toast.warning(`Image size should be less than ${s>1024?`${(s/1024).toFixed(0)} MB`:`${s} KB`}`),i.target.value="";return}n(await b_(a))}},o=h.useCallback(async()=>{const i=await w_(t);for(;i.height>500;)i.height/=2,i.width/=2;M.dispatch(Kl({id:fe(),href:t,x:et()-i.width/2,y:g_()*.75-i.height/2,width:i.width,height:i.height})),M.dispatch(gg()),M.dispatch(Rr(de.Select))},[t]);return O("div",{className:"w-full flex flex-col gap-5",children:[p("div",{className:"w-full aspect-square flex justify-center items-center rounded-md overflow-clip cursor-pointer bg-slate-100 border border-gray-200",onClick:o1,children:t?p("img",{src:t,alt:"uploaded image",className:"h-full w-full object-cover"}):p(nc,{size:24,className:"text-slate-500"})}),p(Ee,{className:"py-2.5",variant:"secondary",onClick:o,disabled:!t,children:"Add to Workspace"}),p("input",{id:"image-input",type:"file",accept:"image/*",className:"hidden",onInput:r})]})},bd=h.memo(i1);bd.name="ImageControls";const a1=()=>O("div",{className:"h-full w-full flex flex-col justify-center items-center gap-2 text-slate-400",children:[p(rv,{}),p("p",{className:"text-sm",children:"No controls available for tool"})]}),s1=()=>O("div",{className:"h-full w-full flex flex-col justify-center items-center gap-2 text-slate-400",children:[p(lv,{}),p("p",{className:"text-sm",children:"No element selected"})]}),l1=()=>O("div",{className:"h-full w-full flex flex-col justify-center items-center gap-2 text-slate-400",children:[p(nv,{}),p("p",{className:"text-sm",children:"No controls available for selection"})]}),c1=()=>M.dispatch(Pg(void 0)),u1=e=>M.dispatch(Mg(e)),vn=Oi(e=>M.dispatch(Ag(e)),150),Xr=({options:e})=>{const t=F(n=>n.editor.sections);return O("div",{className:"flex flex-col gap-3",children:[O("div",{className:"w-full flex justify-between items-center gap-4",children:[p("h6",{className:"font-medium text-sm",children:"Sections"}),p(Ue,{className:"w-6 h-6 p-0",variant:"secondary",icon:p(Zi,{className:"w-4 h-4"}),onClick:c1})]}),p("div",{className:"flex flex-col gap-4",children:t.map((n,r)=>n.id!=="0"&&O("div",{className:"flex justify-start items-center gap-2",children:[p("input",{defaultValue:n.color,type:"color",className:"flex-shrink-0 w-6 h-6 p-0 bg-white square-color-input",onChange:o=>vn({...n,color:o.target.value})}),p("input",{defaultValue:n.stroke,type:"color",className:"flex-shrink-0 w-6 h-6 p-0 bg-white square-color-input",onChange:o=>vn({...n,stroke:o.target.value})}),p(Pt,{defaultValue:n.name,className:"h-8",onChange:o=>vn({...n,name:o.target.value})}),p(Ue,{className:$("w-6 h-6 p-0 shrink-0",!(n!=null&&n.freeSeating)&&"text-gray-400"),variant:"secondary",icon:p(Qg,{className:"w-4 h-4"}),onClick:()=>n!=null&&n.freeSeating?vn({...n,freeSeating:!1}):vn({...n,freeSeating:!0})}),!(e!=null&&e.disableSectionDelete)&&p(Ue,{className:"w-6 h-6 p-0 shrink-0",variant:"secondary",icon:p(Ji,{className:"w-4 h-4"}),onClick:()=>u1(n.id),disabled:r===0})]},`category-${n.id}`))})]})},d1=({firstElement:e,selectedElementIds:t,options:n})=>{var o;const r=F(i=>i.editor.sections);return O(Le,{children:[p("div",{className:"flex flex-col gap-3",children:O("div",{className:"w-full flex justify-between items-center gap-4",children:[p("h6",{className:"font-medium text-sm",children:"Sections"}),O(tn,{children:[p(nn,{children:p(Ue,{className:"w-6 h-6 p-0 shrink-0",variant:"secondary",icon:p(oc,{className:"w-4 h-4"})})}),p(At,{className:"bg-white w-80 py-4 mr-4",children:p(Xr,{options:n})})]})]})}),O(Dr,{onValueChange:i=>{M.dispatch(Cg({ids:t,data:{section:+i==0?null:i}}))},defaultValue:((o=e==null?void 0:e.getAttribute)==null?void 0:o.call(e,B.section))||void 0,children:[p(Bn,{className:"w-full",children:p(qr,{placeholder:"Select Section"})}),p(zn,{className:"bg-white",children:r.map(i=>p(Dn,{value:i.id,children:O("div",{className:"flex gap-3 items-center",children:[i.id==="0"?p("div",{className:"w-4 h-0.5 bg-black"}):p("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:i.color}})," ",i.name]})},i.id))})]},t==null?void 0:t.join(","))]})};try{Xr.displayName="SectionManager",Xr.__docgenInfo={description:"",displayName:"SectionManager",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}try{sectionselector.displayName="sectionselector",sectionselector.__docgenInfo={description:"",displayName:"sectionselector",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const f1=e=>p("div",{className:"flex flex-col gap-4",children:p(Xr,{...e})});try{polyline.displayName="polyline",polyline.__docgenInfo={description:"",displayName:"polyline",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const p1=()=>M.dispatch(Tg(void 0)),h1=e=>M.dispatch(Ig(e)),Ho=Oi(e=>M.dispatch(Zl(e)),150),m1=e=>{const t=e.target,n=t.getAttribute(B.category),r=t.getAttribute(B.section);M.dispatch(Zl({id:n,section:+r==0?null:r}))},Yr=({options:e})=>{const t=F(o=>o.editor.categories),n=F(o=>o.editor.sections),r=F(o=>o.editor.seats);return O("div",{className:"grid gap-4",children:[O("div",{className:"flex gap-2 justify-between items-center",children:[p("h6",{className:"font-medium text-sm",children:"Options"}),p(Ue,{className:"w-6 h-6 p-0",variant:"secondary",icon:p(Zi,{className:"w-4 h-4"}),onClick:p1})]}),p("div",{className:"flex flex-col gap-4",children:t.map(o=>{if(o.id==="0")return null;const i=(e==null?void 0:e.disableCategoryDeleteIfReserved)&&(r==null?void 0:r.some(a=>a.category===o.id&&(a.status===Ne.Reserved||a.status===Ne.Locked)));return O("div",{className:"flex justify-start items-center gap-2",children:[p("input",{defaultValue:o.color,type:"color",className:"flex-shrink-0 w-6 h-6 p-0 bg-white square-color-input",onChange:a=>Ho({...o,color:a.target.value})}),p("input",{defaultValue:o.textColor,type:"color",className:"flex-shrink-0 w-6 h-6 p-0 bg-white square-color-input",onChange:a=>Ho({...o,textColor:a.target.value})}),p(Pt,{defaultValue:o.name,className:"h-8",onChange:a=>Ho({...o,name:a.target.value})}),O(tn,{children:[p(nn,{children:p(Ue,{className:$("w-6 h-6 p-0 shrink-0",!o.section&&"text-gray-400"),variant:"secondary",icon:p(iv,{className:"w-4 h-4"})})}),p(At,{className:"bg-white w-auto p-0 mr-4",children:n.map(a=>O(la,{className:$("w-full flex gap-3 items-center py-2 px-4 text-base cursor-pointer hover:bg-gray-100 transition-all duration-medium",a.id==="0"&&"justify-center border-b border-gray-200 pb-2",a.id===o.section&&"bg-blue-50 "),[B.section]:a.id,[B.category]:o.id,onClick:m1,children:[a.id!=="0"&&p("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:a.color}}),a.name]},a.id))})]}),!(e!=null&&e.disableCategoryDelete)&&p(Ue,{className:"w-6 h-6 p-0 shrink-0",variant:"secondary",icon:p(Ji,{className:"w-4 h-4"}),onClick:()=>h1(o.id),disabled:i})]},`category-${o.id}`)})})]})},y1=({firstElement:e,selectedElementIds:t,options:n})=>{var o;const r=F(i=>i.editor.categories);return O("div",{className:"flex flex-col gap-3",children:[O("div",{className:"w-full flex justify-between items-center gap-4",children:[p("h6",{className:"font-medium text-sm",children:"Categories"}),O(tn,{children:[p(nn,{children:p(Ue,{className:"w-6 h-6 p-0 shrink-0",variant:"secondary",icon:p(oc,{className:"w-4 h-4"})})}),p(At,{className:"bg-white w-80 py-4 mr-4",children:p(Yr,{options:n})})]})]}),O(Dr,{onValueChange:i=>{M.dispatch(Gl({ids:t,data:{category:+i==0?void 0:i}}))},defaultValue:((o=e==null?void 0:e.getAttribute)==null?void 0:o.call(e,B.category))||void 0,children:[p(Bn,{className:"w-full",children:p(qr,{placeholder:"Select Category"})}),p(zn,{className:"bg-white",children:r.map(i=>p(Dn,{value:i.id,children:O("div",{className:"flex gap-3 items-center",children:[i.id==="0"?p("div",{className:"w-4 h-0.5 bg-black"}):p("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:i.color}})," ",i.name]})},i.id))})]},t==null?void 0:t.join(","))]})};try{Yr.displayName="CategoryManager",Yr.__docgenInfo={description:"",displayName:"CategoryManager",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}try{categorizer.displayName="categorizer",categorizer.__docgenInfo={description:"",displayName:"categorizer",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const g1=e=>p("div",{className:"flex flex-col gap-4",children:p(Yr,{...e})});try{seat.displayName="seat",seat.__docgenInfo={description:"",displayName:"seat",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const v1=()=>{const e=F(n=>n.editor.selectedElementIds),t=z.selectById(e[0]);return O("div",{className:"flex flex-col gap-3",children:[O("div",{className:"flex flex-col gap-3",children:[p(je,{htmlFor:"rotation-input",children:"Rotation (deg)"}),p(Pt,{id:"rotation-input",defaultValue:t==null?void 0:t.rotation(),type:"number",min:-360,max:360,onChange:n=>{e.forEach(r=>{var i;const o=z.selectById(r);((i=o==null?void 0:o.node())==null?void 0:i.tagName)==="svg"?o.node().parentElement.style.transform=`rotate(${n.target.value}deg)`:o.style("transform",`rotate(${n.target.value}deg)`)})}},t==null?void 0:t.rotation())]}),p(Ee,{className:"py-[0.35rem]",variant:"secondary",onClick:()=>{e.forEach(n=>{z.selectById(n).moveToFront()})},children:"Bring to Front"}),p(Ee,{className:"py-[0.35rem]",variant:"secondary",onClick:()=>{e.forEach(n=>{z.selectById(n).moveToBack()})},children:"Send to Back"})]})},b1=()=>{const e=F(i=>i.editor.selectedElementIds),t=document.getElementById(e[0]),[n,r]=h.useState(t.getAttribute(B.objectLock)==="true");return p("div",{className:"flex flex-col gap-5",children:O("div",{className:"flex justify-between items-center gap-2",children:[p(je,{htmlFor:"stk-lock-position",children:"Object Lock"}),p(yt,{id:"stk-lock-position",checked:n,onCheckedChange:i=>{e.forEach(a=>{document.getElementById(a).setAttribute(B.objectLock,i.toString())}),r(i)}})]})})},Ae=({id:e,label:t,...n})=>O(Le,{children:[p(je,{htmlFor:e,children:t}),p(Pt,{id:e,className:"col-span-2",...n})]});try{controlinput.displayName="controlinput",controlinput.__docgenInfo={description:"",displayName:"controlinput",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}}}}}catch{}const w1=e=>{var o,i;const t=F(a=>a.editor.selectedElementIds),n=F(Bg(t[0])),r=document.getElementById(t[0]);return O("div",{className:"flex flex-col gap-5",children:[p(d1,{firstElement:r,selectedElementIds:t,...e}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"polyline-stroke-input",label:"Stroke",defaultValue:Xe((o=z.select(r))==null?void 0:o.style("stroke")),type:"color",disabled:!!n.section,onChange:a=>{t.forEach(s=>{z.selectById(s).style("stroke",a.target.value)})},className:"p-0 px-[.125rem]"})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"polyline-fill-input",label:"Fill",defaultValue:Xe((i=z.select(r))==null?void 0:i.style("color")),type:"color",disabled:!!n.section,onChange:a=>{t.forEach(s=>{z.selectById(s).style("color",a.target.value)})},className:"p-0 px-[.125rem]"})})]})};try{polyline.displayName="polyline",polyline.__docgenInfo={description:"",displayName:"polyline",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const _1=e=>{const[t,n]=h.useState(),r=F(s=>s.editor.selectedElementIds),o=document.getElementById(r[0]),i=document.getElementById(`${r[0]}-label`),a=()=>{M.dispatch(_g(r.map((s,l)=>{var c;return{id:s,label:`${(c=document.getElementById(`${s}-label`))==null?void 0:c.textContent}${l+1}`}})))};return h.useEffect(()=>{r!=null&&r.length?n((o==null?void 0:o.getAttribute(B.status))||void 0):n(void 0)},[r,o]),O("div",{className:"flex flex-col gap-5",children:[p(y1,{firstElement:o,selectedElementIds:r,...e}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"seat-label-input",label:"Label",defaultValue:i==null?void 0:i.textContent,onChange:s=>{M.dispatch(Gl({ids:r,data:{label:s.target.value}}))}},i==null?void 0:i.textContent)}),r.length>1&&p(Ee,{className:"py-[0.35rem]",variant:"secondary",onClick:a,children:"Set Incremental Labels"}),p("div",{className:"w-full flex flex-col gap-3",children:Object.values(Ne).map(s=>{const l=`stk-seat-status-rg-${s}`;return O("div",{className:"flex items-center gap-2 justify-between",children:[p(je,{htmlFor:l,children:s}),p(yt,{id:l,checked:s===t,onCheckedChange:()=>{r.forEach(c=>{const u=z.selectById(c),d=z.selectById(`${c}-label`);u.attr(B.status,s),n(s);let f=Wt[s].background,m=Wt[s].label;if(s===Ne.Available){const g=M.getState().editor.categories.find(y=>y.id===u.attr(B.category));g&&(f=g.color,m=g.textColor)}u.style("color",f),d==null||d.style("stroke",m)})}})]},l)})})]})};try{seats.displayName="seats",seats.__docgenInfo={description:"",displayName:"seats",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const wd=()=>{var o;const[e,t]=h.useState(!0),n=F(i=>i.editor.selectedElementIds),r=document.getElementById(n[0]);return O("div",{className:"flex flex-col gap-5",children:[p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"shape-width-input",label:"Width",defaultValue:r==null?void 0:r.getAttribute("width"),type:"number",onChange:i=>{const a=r.getAttribute("width")/r.getAttribute("height");n.forEach(s=>{var l,c;if((l=document.getElementById(s))==null||l.setAttribute("width",i.target.value),e){const u=i.target.value/a.toFixed(2);(c=document.getElementById(s))==null||c.setAttribute("height",u),document.getElementById("shape-height-input").value=u}})}})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"shape-height-input",label:"Height",defaultValue:r==null?void 0:r.getAttribute("height"),type:"number",onChange:i=>{const a=r.getAttribute("width")/r.getAttribute("height");n.forEach(s=>{var l,c;if((l=document.getElementById(s))==null||l.setAttribute("height",i.target.value),e){const u=(i.target.value*a).toFixed(2);(c=document.getElementById(s))==null||c.setAttribute("width",u),document.getElementById("shape-width-input").value=u}})}})}),O("div",{className:"flex justify-between items-center gap-2",children:[p(je,{htmlFor:"stk-aspect-ratio",children:"Maintain Aspect Ratio"}),p(yt,{id:"stk-aspect-ratio",checked:e,onCheckedChange:t})]}),((o=r==null?void 0:r.getAttribute)==null?void 0:o.call(r,B.shape))==="RectangleHorizontal"&&p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"shape-border-radius-input",label:"Border Radius",defaultValue:r==null?void 0:r.getAttribute("rx"),type:"number",onChange:i=>{n.forEach(a=>{var s;(s=document.getElementById(a))==null||s.setAttribute("rx",i.target.value)})}})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"shape-stroke-input",label:"Stroke",defaultValue:Xe(z.select(r).style("stroke")),type:"color",onChange:i=>{n.forEach(a=>{z.selectById(a).style("stroke",i.target.value)})},className:"p-0 px-[.125rem]"})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"shape-fill-input",label:"Fill",defaultValue:Xe(z.select(r).style("color")),type:"color",onChange:i=>{n.forEach(a=>{z.selectById(a).style("color",i.target.value)})},className:"p-0 px-[.125rem]"})})]})};wd.__docgenInfo={description:"",methods:[],displayName:"ShapeSelectControls"};const x1=()=>{const e=F(o=>o.editor.selectedElementIds),t=F(zg(e[0])),n=document.getElementById(e[0]),r=h.useCallback(o=>{M.dispatch(Sg({ids:e,data:{embraceOffset:o}}))},[e]);return O("div",{className:"flex flex-col gap-5",children:[p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"text-label-input",label:"Label",defaultValue:n==null?void 0:n.textContent,onChange:o=>{e.forEach(i=>{const a=document.getElementById(i);a&&(a.textContent=o.target.value)})}})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"text-font-size-input",label:"Font Size",defaultValue:n==null?void 0:n.getAttribute("font-size"),type:"number",onChange:o=>{e.forEach(i=>{var a;(a=document.getElementById(i))==null||a.setAttribute("font-size",o.target.value)})}})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"text-font-weight-input",label:"Font Weight",defaultValue:n==null?void 0:n.getAttribute("font-weight"),type:"number",step:100,min:100,max:900,onChange:o=>{e.forEach(i=>{var a;(a=document.getElementById(i))==null||a.setAttribute("font-weight",o.target.value)})}})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"text-letter-spacing-input",label:"Letter Spacing",defaultValue:n==null?void 0:n.getAttribute("letter-spacing"),type:"number",step:.1,min:0,onChange:o=>{e.forEach(i=>{var a;(a=document.getElementById(i))==null||a.setAttribute("letter-spacing",o.target.value)})}})}),p("div",{className:"flex flex-col gap-3",children:p(Ae,{id:"text-color-input",label:"Color",defaultValue:Xe(z.select(n).style("stroke")),type:"color",onChange:o=>{e.forEach(i=>{const a=z.selectById(i);a.style("stroke",o.target.value),a.style("color",o.target.value)})},className:"p-0 px-[.125rem]"})}),O("div",{className:"flex justify-between items-center gap-2",children:[p(je,{htmlFor:"stk-embrace-offset-marker",children:"Embrace Visibility Offset"}),p(yt,{id:"stk-embrace-offset-marker",checked:t.embraceOffset,onCheckedChange:r})]})]})},S1=({options:e,styles:t})=>{const n=F(o=>o.editor.selectedElementIds),r=h.useMemo(()=>{var i,a;const o=(a=(i=document.getElementById(n[0]))==null?void 0:i.getAttribute)==null?void 0:a.call(i,B.elementType);return o===L.Text?x1:o===L.Shape?wd:o===L.Polyline?w1:o===L.Image?b1:_1},[n]);return O("div",{className:"flex flex-col gap-5",children:[p(r,{options:e,styles:t}),p(v1,{})]})};try{select.displayName="select",select.__docgenInfo={description:"",displayName:"select",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const _d=e=>{const t=n=>p(e,{...n,className:$(n.className,"fill-transparent",e.displayName!==En.displayName&&"stroke-[0.9]"),size:e.displayName===En.displayName?$n.width:qn,strokeWidth:e.displayName===En.displayName?.25:Kw});return t.displayName=e.displayName,t},C1=({options:e})=>{const[t,n]=h.useState(0),r=h.useCallback((i,a)=>{ha(()=>{n(a),M.dispatch(Ar(i))})},[]),o=n1({options:e});return p("div",{className:"w-full grid grid-cols-5 gap-4",children:o.map((i,a)=>p("div",{className:$("cursor-pointer aspect-square w-full rounded-lg flex justify-center items-center text-slate-500 bg-gray-100 transition-all duration-medium",t==a&&"bg-black/90 text-white"),onClick:()=>r(_d(i),a),children:p(i,{size:20})},a))})},Pi=({options:e})=>ha(()=>{M.dispatch(Ar(_d(_a(e)[0])))}),xd=h.memo(C1,Sl);xd.name="ShapeControls";try{Pi.displayName="selectFirstShape",Pi.__docgenInfo={description:"",displayName:"selectFirstShape",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}}}}}catch{}const N1=()=>M.dispatch(Hl()),E1="transition-all duration-500 ease-in-out",k1="w-[22rem]",T1=({options:e,styles:t})=>{const n=F(a=>a.editor.showControls),r=F(a=>a.toolbar.selectedTool),o=F(a=>a.editor.selectedElementIds),i=h.useMemo(()=>{var a,s;if(r===de.Select){if(o.length){const l=(s=(a=document.getElementById(o[0]))==null?void 0:a.getAttribute)==null?void 0:s.call(a,B.elementType);return o.length>1&&!o.every(u=>{var d,f;return((f=(d=document.getElementById(u))==null?void 0:d.getAttribute)==null?void 0:f.call(d,B.elementType))===l})?l1:S1}return s1}return r===de.Seat?g1:r===de.Pen?f1:r===de.Shape?xd:r===de.Image?bd:a1},[r,o]);return O("div",{id:G.controls,className:$("h-full bg-white border-l shadow-lg border-gray-200 absolute top-0 overflow-y-auto z-10",E1,k1,n?"right-0":"-right-[22rem]"),children:[O("div",{className:"flex justify-between items-center gap-4 h-14 border-b border-gray-200 box-content px-5 sticky top-0 bg-white",children:[p("h5",{children:"Settings"}),p(Ue,{className:"w-6 h-6 p-0 shrink-0",variant:"secondary",icon:p(Ji,{className:"w-4 h-4"}),onClick:N1})]}),p(Tw,{component:p(i,{options:e,styles:t}),className:"py-4 px-5 h-[calc(100%-3.5rem)]"},i.name)]})};try{controls.displayName="controls",controls.__docgenInfo={description:"",displayName:"controls",props:{options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const I1=({text:e="Export JSON",onExport:t,styles:n})=>{var a,s,l,c;const[r,o]=h.useState(!1),i=()=>{const u=y_();if(t){o(!0);const d=t(u);d instanceof Promise?d.finally(()=>o(!1)):o(!1)}else console.log(u),sessionStorage.setItem("stk-data",JSON.stringify(u)),navigator.clipboard.writeText(JSON.stringify(u))};return O(gt,{children:[p(vt,{children:O(Ee,{loading:r,className:$("w-10 md:w-auto px-2 md:px-4 transition-none",(s=(a=n==null?void 0:n.core)==null?void 0:a.button)==null?void 0:s.className),style:(c=(l=n==null?void 0:n.core)==null?void 0:l.button)==null?void 0:c.properties,onClick:i,variant:"secondary",children:[p(Zg,{className:"w-5 h-5 md:hidden"})," ",p("span",{className:"hidden md:block",children:e})]})}),p(at,{className:"md:hidden",children:e})]})};try{exportbutton.displayName="exportbutton",exportbutton.__docgenInfo={description:"",displayName:"exportbutton",props:{text:{defaultValue:{value:"Export JSON"},description:"",name:"text",required:!1,type:{name:"string"}},onExport:{defaultValue:null,description:"",name:"onExport",required:!1,type:{name:"(data: ISTKData) => unknown"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}}}}}catch{}const P1=()=>{const e=F(t=>t.editor.grid);return O("div",{className:"flex items-center space-x-2",children:[p(je,{htmlFor:"grid",children:"Grid"}),p(yt,{id:"grid",checked:e,onCheckedChange:t=>M.dispatch(vg(t))})]})},A1=()=>M.dispatch(Hl()),M1=({options:{showGridSwitch:e=!0,exportButtonText:t,operationTriggerIcon:n,locationInputPlaceholder:r}={},events:o,...i})=>{var d,f,m,g,y,v,b;const a=F(_=>_.editor.location),s=h.useMemo(()=>r??$l,[r]),l=(d=i.styles)==null?void 0:d.operations,c=n??gv,u=_=>{M.dispatch(mg(_.target.value))};return O("div",{id:G.operationBar,className:$("w-full flex justify-between items-center gap-6 bg-white px-5 py-2 border-b border-gray-200 z-10",(f=l==null?void 0:l.root)==null?void 0:f.className),style:(m=l==null?void 0:l.root)==null?void 0:m.properties,children:[p("input",{id:G.location,className:$("w-full bg-transparent font-medium outline-none text-ellipsis",a===s&&"opacity-60",(g=l==null?void 0:l.input)==null?void 0:g.className),value:a,placeholder:s,style:(y=l==null?void 0:l.input)==null?void 0:y.properties,onChange:u}),O("div",{className:"flex justify-between items-center gap-2 shrink-0",children:[e&&p(P1,{}),p(I1,{text:t,onExport:o==null?void 0:o.onExport,styles:i.styles}),p(Ue,{id:G.operationTrigger,className:$("w-10",(v=l==null?void 0:l.trigger)==null?void 0:v.className),style:(b=l==null?void 0:l.trigger)==null?void 0:b.properties,icon:p(c,{className:"w-5 h-5"}),variant:"secondary",onClick:A1})]})]})};try{operations.displayName="operations",operations.__docgenInfo={description:"",displayName:"operations",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}},seatSelectionMode:{defaultValue:null,description:'Only applicable in user mode. If set to "chain", user can select multiple seats in a row without pressing ctrl and needs to reclick a selected seat to deselect it.',name:"seatSelectionMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"chain"'}]}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"IEvents"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"ISTKData"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},plugins:{defaultValue:null,description:"",name:"plugins",required:!1,type:{name:"IPlugins"}}}}}catch{}const R1=e=>{var l,c,u;const t=F(d=>d.toolbar.selectedTool),n=F(d=>d.toolbar.selectedSubTool),r=M.getState().editor.selectedPolylineId,o=(l=e.styles)==null?void 0:l.toolbar,i=h.useCallback(d=>{d.key==="Escape"&&(t===de.Pen?M.dispatch(Rr(de.Select)):(M.dispatch(xv()),M.dispatch(hg())),M.dispatch(Mr(null)))},[t]);h.useEffect(()=>(window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}),[t]),h.useEffect(()=>{ha(()=>{var d;if(n){const f=(d=xn[t].subTools)==null?void 0:d.find(m=>m.name===n);M.dispatch(Ar(f.iconCursor??f.icon))}else t&&t!==de.Shape&&M.dispatch(Ar(xn[t].iconCursor??xn[t].icon))})},[t,n]);const a=(d,f)=>{f||(M.dispatch(Rr(d)),[de.Image,de.Shape].includes(d)&&(M.dispatch(yg()),d===de.Shape&&Pi({options:e.options})),d!==de.Pen&&r&&M.dispatch(Mr(null)))},s=d=>{M.dispatch(Sv(d.name))};return O("div",{id:G.toolbar,className:$("border-r border-gray-200 bg-white",(c=o==null?void 0:o.root)==null?void 0:c.className),style:(u=o==null?void 0:o.root)==null?void 0:u.properties,children:[p("div",{className:"m-[.875rem] p-1",children:p(ev,{className:"w-5 h-5"})}),p("hr",{className:"!border-gray-200"}),O("div",{className:"overflow-y-auto h-[calc(100%-3.5rem)] flex flex-col",children:[p("div",{className:"grow",children:Object.entries(xn).map(([d,f])=>{var g,y,v,b,_,x,w,N,k,S,T,U,j,X,ie,ne,C,I,E,P,R,D,q,W,H,ce,Z,ae,le,V,Y,oe,J,ee;const m=f.icon;return O("div",{className:$("rounded-md relative bg-transparent text-slate-400 hover:bg-slate-50 transition-all duration-300 !cursor-pointer mx-3 my-4",t===d&&"bg-slate-100 text-blue-500",(y=(g=o==null?void 0:o.tool)==null?void 0:g.root)==null?void 0:y.className),style:(b=(v=o==null?void 0:o.tool)==null?void 0:v.root)==null?void 0:b.properties,onClick:re=>{var Q;return a(d,((Q=re.target)==null?void 0:Q.getAttribute(B.subtool))==="true")},children:[O(gt,{children:[p(vt,{className:$("rounded-md w-8 h-8 flex justify-center items-center",(N=(w=(x=(_=e==null?void 0:e.styles)==null?void 0:_.core)==null?void 0:x.tooltip)==null?void 0:w.trigger)==null?void 0:N.className),style:(U=(T=(S=(k=e==null?void 0:e.styles)==null?void 0:k.core)==null?void 0:S.tooltip)==null?void 0:T.trigger)==null?void 0:U.properties,children:p(m,{size:18,className:$("pointer-events-none transition-all duration-300",(X=(j=o==null?void 0:o.tool)==null?void 0:j.icon)==null?void 0:X.className),style:(ne=(ie=o==null?void 0:o.tool)==null?void 0:ie.icon)==null?void 0:ne.properties})}),p(at,{align:"start",alignOffset:25,sideOffset:-30,className:$("flex gap-3 ml-8",(P=(E=(I=(C=e==null?void 0:e.styles)==null?void 0:C.core)==null?void 0:I.tooltip)==null?void 0:E.content)==null?void 0:P.className,(D=(R=o==null?void 0:o.tool)==null?void 0:R.label)==null?void 0:D.className),style:{...(ce=(H=(W=(q=e==null?void 0:e.styles)==null?void 0:q.core)==null?void 0:W.tooltip)==null?void 0:H.content)==null?void 0:ce.properties,...(ae=(Z=o==null?void 0:o.tool)==null?void 0:Z.label)==null?void 0:ae.properties},children:d})]}),((le=f.subTools)==null?void 0:le.length)&&O(tn,{children:[p(nn,{className:"rounded-md absolute inset-0"}),O(At,{align:"start",alignOffset:25,sideOffset:-34,className:"bg-white w-auto p-0 ml-8 items-center justify-center flex flex-col shadow-none",children:[p(Br,{className:"hover:bg-gray-100 rounded-md p-2 focus:outline-none cursor-pointer",children:p(m,{size:18,className:$("pointer-events-none transition-all duration-300",(Y=(V=o==null?void 0:o.tool)==null?void 0:V.icon)==null?void 0:Y.className),style:(J=(oe=o==null?void 0:o.tool)==null?void 0:oe.icon)==null?void 0:J.properties})}),(ee=f.subTools)==null?void 0:ee.map(re=>{var te,me,be,st;const Q=re.icon;return p(Br,{onClick:()=>s(re),className:"hover:bg-gray-100 rounded-md p-2 focus:outline-none cursor-pointer",[B.subtool]:!0,children:p(Q,{size:18,className:$("pointer-events-none transition-all duration-300 ",(me=(te=o==null?void 0:o.tool)==null?void 0:te.icon)==null?void 0:me.className),style:(st=(be=o==null?void 0:o.tool)==null?void 0:be.icon)==null?void 0:st.properties})},re.name)})]})]})]},d)})}),p("div",{className:"px-3 py-6 sticky bottom-0 bg-white",children:p(Wu,{})})]})]})};try{toolbar.displayName="toolbar",toolbar.__docgenInfo={description:"",displayName:"toolbar",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}},seatSelectionMode:{defaultValue:null,description:'Only applicable in user mode. If set to "chain", user can select multiple seats in a row without pressing ctrl and needs to reclick a selected seat to deselect it.',name:"seatSelectionMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"chain"'}]}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"IEvents"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"ISTKData"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},plugins:{defaultValue:null,description:"",name:"plugins",required:!1,type:{name:"IPlugins"}}}}}catch{}const Ai=({render:e})=>{var d;const[t,n]=h.useState(0),[r,o]=h.useState(0),[i,a]=h.useState(!1),s=f=>{const m=Oe(f);n(m[0]),o(m[1])};if(h.useEffect(()=>{if(e)return document.addEventListener("pointermove",s),document.addEventListener("touchmove",s),a(!0),()=>{document.removeEventListener("pointermove",s),document.removeEventListener("touchmove",s)};a(!1)},[e]),!i)return null;const l=(d=document.getElementById(G.workspace))==null?void 0:d.getBoundingClientRect(),c=t-(l==null?void 0:l.left)||0,u=r-(l==null?void 0:l.top)||0;return c<0||u<0?null:O("svg",{id:G.crosshairs,className:"w-full h-full absolute top-0 left-0 pointer-events-none",children:[p("line",{x1:c,y1:0,x2:c,y2:"100%",stroke:"black"}),p("line",{x1:0,y1:u,x2:"100%",y2:u,stroke:"black"})]})},V1=h.memo(Ai);try{Ai.displayName="Crosshairs",Ai.__docgenInfo={description:"",displayName:"Crosshairs",props:{render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"any"}}}}}catch{}var O1=Object.defineProperty,ue=(e,t)=>O1(e,"name",{value:t,configurable:!0}),Sd="3.7.7",B1=Sd,un=typeof Buffer=="function",Ds=typeof TextDecoder=="function"?new TextDecoder:void 0,qs=typeof TextEncoder=="function"?new TextEncoder:void 0,z1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Nn=Array.prototype.slice.call(z1),ur=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Nn),D1=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ce=String.fromCharCode.bind(String),$s=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Cd=ue(e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),"_mkUriSafe"),Nd=ue(e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),"_tidyB64"),Ed=ue(e=>{let t,n,r,o,i="",a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=Nn[t>>18&63]+Nn[t>>12&63]+Nn[t>>6&63]+Nn[t&63]}return a?i.slice(0,a-3)+"===".substring(a):i},"btoaPolyfill"),xa=typeof btoa=="function"?e=>btoa(e):un?e=>Buffer.from(e,"binary").toString("base64"):Ed,Mi=un?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Ce.apply(null,e.subarray(n,n+4096)));return xa(t.join(""))},wr=ue((e,t=!1)=>t?Cd(Mi(e)):Mi(e),"fromUint8Array"),q1=ue(e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Ce(192|t>>>6)+Ce(128|t&63):Ce(224|t>>>12&15)+Ce(128|t>>>6&63)+Ce(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Ce(240|t>>>18&7)+Ce(128|t>>>12&63)+Ce(128|t>>>6&63)+Ce(128|t&63)}},"cb_utob"),$1=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,kd=ue(e=>e.replace($1,q1),"utob"),Ls=un?e=>Buffer.from(e,"utf8").toString("base64"):qs?e=>Mi(qs.encode(e)):e=>xa(kd(e)),Xt=ue((e,t=!1)=>t?Cd(Ls(e)):Ls(e),"encode"),Fs=ue(e=>Xt(e,!0),"encodeURI"),L1=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,F1=ue(e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Ce((n>>>10)+55296)+Ce((n&1023)+56320);case 3:return Ce((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Ce((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},"cb_btou"),Td=ue(e=>e.replace(L1,F1),"btou"),Id=ue(e=>{if(e=e.replace(/\s+/g,""),!D1.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,o;for(let i=0;i<e.length;)t=ur[e.charAt(i++)]<<18|ur[e.charAt(i++)]<<12|(r=ur[e.charAt(i++)])<<6|(o=ur[e.charAt(i++)]),n+=r===64?Ce(t>>16&255):o===64?Ce(t>>16&255,t>>8&255):Ce(t>>16&255,t>>8&255,t&255);return n},"atobPolyfill"),Sa=typeof atob=="function"?e=>atob(Nd(e)):un?e=>Buffer.from(e,"base64").toString("binary"):Id,Pd=un?e=>$s(Buffer.from(e,"base64")):e=>$s(Sa(e).split("").map(t=>t.charCodeAt(0))),Ad=ue(e=>Pd(Md(e)),"toUint8Array"),W1=un?e=>Buffer.from(e,"base64").toString("utf8"):Ds?e=>Ds.decode(Pd(e)):e=>Td(Sa(e)),Md=ue(e=>Nd(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),"_unURI"),Ri=ue(e=>W1(Md(e)),"decode"),H1=ue(e=>{if(typeof e!="string")return!1;let t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},"isValid"),Rd=ue(e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),"_noEnum"),Vd=ue(function(){let e=ue((t,n)=>Object.defineProperty(String.prototype,t,Rd(n)),"_add");e("fromBase64",function(){return Ri(this)}),e("toBase64",function(t){return Xt(this,t)}),e("toBase64URI",function(){return Xt(this,!0)}),e("toBase64URL",function(){return Xt(this,!0)}),e("toUint8Array",function(){return Ad(this)})},"extendString"),Od=ue(function(){let e=ue((t,n)=>Object.defineProperty(Uint8Array.prototype,t,Rd(n)),"_add");e("toBase64",function(t){return wr(this,t)}),e("toBase64URI",function(){return wr(this,!0)}),e("toBase64URL",function(){return wr(this,!0)})},"extendUint8Array"),U1=ue(()=>{Vd(),Od()},"extendBuiltins"),G1={version:Sd,VERSION:B1,atob:Sa,atobPolyfill:Id,btoa:xa,btoaPolyfill:Ed,fromBase64:Ri,toBase64:Xt,encode:Xt,encodeURI:Fs,encodeURL:Fs,utob:kd,btou:Td,decode:Ri,isValid:H1,fromUint8Array:wr,toUint8Array:Ad,extendString:Vd,extendUint8Array:Od,extendBuiltins:U1},Ws={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]};function Bd(e="",t="portrait"){let n=e.toUpperCase();if(!Ws[n])return null;let r=Ws[n];return t.toLowerCase()==="portrait"?r:[r[1],r[0]]}ue(Bd,"getPageSize");function zd(e,t){return e?{width:e[0]*1*t,height:e[1]*1*t}:null}ue(zd,"getWidthAndHeight");function Fn(e,t,n,r,o=0,i=!1){let a=i?`<line x1='${o}' y1='0' x2='${o}' y2='${e}'`:`<line x1='0' y1='${o}' x2='${e}' y2='${o}'`;return a+=` style='stroke:${t};stroke-width:${n};stroke-dasharray="${r}"' />`,a}ue(Fn,"buildLine");function Dd(e,t,n,r,o){return Fn(t,n,r,o,0,!0)+Fn(e,n,r,o,0,!1)}ue(Dd,"buildCell");function qd(e,t,n,r){return n?`<defs><pattern id="Pattern" x="0" y="0" width="${e}" height="${t}" patternUnits="userSpaceOnUse">${r}</pattern></defs><rect fill="url(#Pattern)" stroke="black" width="${n.width}" height="${n.height}"/>`:r}ue(qd,"buildPage");function $d(e,t,n,r,o,i,a,s,l,c,u,d,f){let m=zd(Bd(d,f),u);e=e*u,t=t*u,i=i*u,a=a*u;let g=Dd(e,t,n,r,o),y="";if(i&&a){for(let k=i;k<e;k+=i)y+=Fn(t,s,l,c,k,!0);for(let k=a;k<t;k+=a)y+=Fn(e,s,l,c,k,!1)}let v=qd(e,t,m,`${g}${y}`),b=m?m.width:e,_=m?m.height:t;var x=`<svg xmlns='http://www.w3.org/2000/svg' width='${b}' height='${_}'>${v}</svg>`,w=G1.encode(x),N=`url('data:image/svg+xml;base64,${w}')`;return N}ue($d,"buildGridSvg");var j1=$d,X1=Qe.forwardRef((e,t)=>{let{component:n="div",className:r,scale:o=1,cellWidth:i=60,cellHeight:a,lineColor:s="#ccc",strokeWidth:l=2,dashArray:c="0",cellWidth2:u,cellHeight2:d,lineColor2:f="#ddd",strokeWidth2:m=1,dashArray2:g="0",format:y,orientation:v,children:b,..._}=e,[x,w]=h.useState(""),N=a||i,k=d||u,S=n;return h.useEffect(()=>{w(j1(i,N,s,l,c,u,k,f,m,g,o,y,v))},[i,N,s,l,c,u,k,f,m,g,y,v,o]),p(S,{className:r,ref:t,style:{backgroundImage:x},..._,children:b})}),Y1=X1;const K1=()=>F(t=>t.editor.grid)?p(Y1,{className:"w-full h-full absolute top-0 left-0 pointer-events-none opacity-20",cellWidth:44,strokeWidth:2}):null,Z1="#stk-workspace { cursor: none; }",J1=()=>{const[e,t]=h.useState(0),[n,r]=h.useState(0),o=F(a=>a.editor.cursor),i=a=>{var g,y,v,b,_;const s=Oe(a),l=s[0],c=s[1],u=document.getElementById(G.cursor),d=(g=document.getElementById(G.workspace))==null?void 0:g.getBoundingClientRect(),f=(y=document.getElementById(G.controls))==null?void 0:y.getBoundingClientRect(),m=(v=document.getElementById(G.zoomControls))==null?void 0:v.getBoundingClientRect();vr(l,c,d)&&!vr(l,c,m)&&!vr(l,c,f)&&!gd.includes((_=(b=a.target)==null?void 0:b.style)==null?void 0:_.cursor)&&!a.target.id.includes("radix:")&&a.target.getAttribute("role")!=="dialog"?u.classList.remove("hidden"):u.classList.add("hidden"),t(l),r(c)};return h.useEffect(()=>{if(o)return document.addEventListener("pointermove",i),document.addEventListener("touchmove",i),()=>{document.removeEventListener("pointermove",i),document.removeEventListener("touchmove",i)}},[o]),o?O("div",{id:G.cursor,children:[p("style",{children:Z1}),p(o,{className:"absolute pointer-events-none transform translate-x-[-50%] translate-y-[-50%] fill-white text-black",style:{left:`${e}px`,top:`${n}px`,display:e>0&&n>0?"block":"none"}})]}):null},Kr=e=>{var y,v,b,_,x,w,N,k;const t=F(S=>S.editor.initialized),n=F(S=>S.editor.seats),r=F(S=>S.editor.text),o=F(S=>S.editor.shapes),i=F(S=>S.editor.polylines),a=F(S=>S.editor.images),s=F(S=>S.editor.categories),l=F(S=>S.editor.sections),c=F(S=>S.editor.selectedElementIds),u=F(S=>S.editor.selectedPolylineId),d=F(S=>S.toolbar.selectedTool),f=F(S=>S.editor.airplaneMode),m=h.useCallback(S=>({id:S.id,x:S.x,y:S.y,isSelected:c.includes(S.id),airplaneMode:f,label:S.label,color:S.color,stroke:S.stroke,rotation:S.rotation,consumer:e,element:S}),[c,f]),g=h.useCallback(S=>{var T;(T=e.events)!=null&&T.onWorkspaceHover&&S.target.id===G.workspace&&e.events.onWorkspaceHover()},[(y=e.events)==null?void 0:y.onWorkspaceHover]);return O("div",{id:G.workspaceContainer,className:$("w-full flex flex-col flex-1 relative transition-all duration-500",t?"opacity-100":"opacity-0",(_=(b=(v=e.styles)==null?void 0:v.workspace)==null?void 0:b.root)==null?void 0:_.className),style:(N=(w=(x=e.styles)==null?void 0:x.workspace)==null?void 0:w.root)==null?void 0:N.properties,children:[p("svg",{id:G.workspace,className:"w-full h-full flex-1",onMouseOver:g,children:O("g",{[B.visibilityOffset]:"0",className:"will-change-transform",style:{transformBox:"unset"},children:[a.map(S=>p(mn,{type:L.Image,href:S.href,width:S.width,height:S.height,...m(S)},S.id)),n.map(S=>p(mn,{type:L.Seat,sections:l,categories:s,category:S.category,status:S.status??Ne.Available,...m(S)},S.id)),o.map(S=>p(mn,{type:L.Shape,width:S.width,height:S.height,rx:S.rx,resizable:d===de.Select,name:S.name,...m(S)},S.id)),i.map(S=>p(mn,{type:L.Polyline,points:S.points,sections:l,categories:s,section:S.section,...m(S)},S.id)),r.map(S=>p(mn,{type:L.Text,fontSize:S.fontSize,fontWeight:S.fontWeight,letterSpacing:S.letterSpacing,embraceOffset:S.embraceOffset,...m(S)},S.id)),u&&p("line",{id:G.templine,className:"stroke-2 stroke-black fill-white"})]})}),e.mode==="designer"&&O(Le,{children:[p(V1,{render:(k=xn[d])==null?void 0:k.crosshairs}),p(K1,{})]}),p(jw,{mode:e.mode,options:e.options,styles:e.styles,events:e.events})]})};try{Kr.displayName="Workspace",Kr.__docgenInfo={description:"",displayName:"Workspace",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}},seatSelectionMode:{defaultValue:null,description:'Only applicable in user mode. If set to "chain", user can select multiple seats in a row without pressing ctrl and needs to reclick a selected seat to deselect it.',name:"seatSelectionMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"chain"'}]}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"IEvents"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"ISTKData"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},plugins:{defaultValue:null,description:"",name:"plugins",required:!1,type:{name:"IPlugins"}}}}}catch{}try{workspace.displayName="workspace",workspace.__docgenInfo={description:"",displayName:"workspace",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}},seatSelectionMode:{defaultValue:null,description:'Only applicable in user mode. If set to "chain", user can select multiple seats in a row without pressing ctrl and needs to reclick a selected seat to deselect it.',name:"seatSelectionMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"chain"'}]}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"IEvents"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"ISTKData"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},plugins:{defaultValue:null,description:"",name:"plugins",required:!1,type:{name:"IPlugins"}}}}}catch{}const Q1=e=>{var t,n,r,o,i,a,s,l,c,u;return Qx(e),Fx(),O(Le,{children:[O("div",{className:$("bg-white text-black h-full min-h-dvh flex overflow-x-hidden",(n=(t=e.styles)==null?void 0:t.root)==null?void 0:n.className),style:(o=(r=e==null?void 0:e.styles)==null?void 0:r.root)==null?void 0:o.properties,children:[p(R1,{...e}),O("div",{className:$("h-full flex flex-col flex-1 relative",(s=(a=(i=e.styles)==null?void 0:i.workspace)==null?void 0:a.container)==null?void 0:s.className),style:(u=(c=(l=e.styles)==null?void 0:l.workspace)==null?void 0:c.container)==null?void 0:u.properties,children:[p(M1,{...e}),p(Kr,{...e}),p(T1,{options:e.options,styles:e.styles})]})]}),p(J1,{})]})},eS=e=>{var t,n,r,o;return e1(e),p("div",{className:$("bg-white text-black h-full min-h-screen flex flex-col relative",(n=(t=e.styles)==null?void 0:t.root)==null?void 0:n.className),style:(o=(r=e==null?void 0:e.styles)==null?void 0:r.root)==null?void 0:o.properties,children:p(Kr,{...e})})},yS=e=>{var t;return Wx((t=e.plugins)==null?void 0:t.toast),e.mode==="designer"?p(Q1,{...e}):p(eS,{...e})};try{components.displayName="components",components.__docgenInfo={description:"",displayName:"components",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"designer"'},{value:'"user"'}]}},seatSelectionMode:{defaultValue:null,description:'Only applicable in user mode. If set to "chain", user can select multiple seats in a row without pressing ctrl and needs to reclick a selected seat to deselect it.',name:"seatSelectionMode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"chain"'}]}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"IEvents"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"ISTKData"}},styles:{defaultValue:null,description:"",name:"styles",required:!1,type:{name:"IStyles"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ showGridSwitch?: boolean; showSeatLabels?: boolean; showZoomControls?: boolean; showVisibilityControls?: boolean; showAirplaneControl?: boolean; showReloadButton?: boolean; exportButtonText?: string; ... 9 more ...; shapes?: { ...; }; }"}},plugins:{defaultValue:null,description:"",name:"plugins",required:!1,type:{name:"IPlugins"}}}}}catch{}try{AnimatedSwitcher.displayName="AnimatedSwitcher",AnimatedSwitcher.__docgenInfo={description:"",displayName:"AnimatedSwitcher",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},duration:{defaultValue:{value:"0.3"},description:"",name:"duration",required:!1,type:{name:"number"}}}}}catch{}try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{to:{defaultValue:null,description:"",name:"to",required:!1,type:{name:"string"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"primary"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}try{IconButton.displayName="IconButton",IconButton.__docgenInfo={description:"",displayName:"IconButton",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"ReactNode"}},to:{defaultValue:null,description:"",name:"to",required:!1,type:{name:"string"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{}}}catch{}try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{}}}catch{}try{Popover.displayName="Popover",Popover.__docgenInfo={description:"",displayName:"Popover",props:{}}}catch{}try{PopoverTrigger.displayName="PopoverTrigger",PopoverTrigger.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{PopoverContent.displayName="PopoverContent",PopoverContent.__docgenInfo={description:"",displayName:"PopoverContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{PopoverAnchor.displayName="PopoverAnchor",PopoverAnchor.__docgenInfo={description:"",displayName:"PopoverAnchor",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{PopoverClose.displayName="PopoverClose",PopoverClose.__docgenInfo={description:"",displayName:"PopoverClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{}}}catch{}try{SelectValue.displayName="SelectValue",SelectValue.__docgenInfo={description:"",displayName:"SelectValue",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectTrigger.displayName="SelectTrigger",SelectTrigger.__docgenInfo={description:"",displayName:"SelectTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectContent.displayName="SelectContent",SelectContent.__docgenInfo={description:"",displayName:"SelectContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectItem.displayName="SelectItem",SelectItem.__docgenInfo={description:"",displayName:"SelectItem",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Switch.displayName="Switch",Switch.__docgenInfo={description:"",displayName:"Switch",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{Body.displayName="Body",Body.__docgenInfo={description:"",displayName:"Body",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Callout.displayName="Callout",Callout.__docgenInfo={description:"",displayName:"Callout",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Caption.displayName="Caption",Caption.__docgenInfo={description:"",displayName:"Caption",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"any"}}}}}catch{}try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{}}}catch{}try{TooltipTrigger.displayName="TooltipTrigger",TooltipTrigger.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{TooltipContent.displayName="TooltipContent",TooltipContent.__docgenInfo={description:"",displayName:"TooltipContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{TooltipProvider.displayName="TooltipProvider",TooltipProvider.__docgenInfo={description:"",displayName:"TooltipProvider",props:{}}}catch{}export{Ee as B,yS as C,uS as P,Ns as T,M as s,$ as t};
//# sourceMappingURL=index-4f63646c.js.map
